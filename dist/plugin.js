!function(){"use strict";const e=W.require("utils"),t=W.require("urls"),n=W.require("http"),r="SDG.SET_LOCATION",o="SDG.SET_MODEL",i="SDG.SET_TIME",l="SDG.ADD_SUBSCRIPTION",u="SDG.DELETE_SUBSCRIPTION",a="SDG.SET_ACTIVE",s="SDG.MOVE_MARKER",c="SDG.REMOVE_MARKER",p="SDG.SET_WIDTH",d="SDG.SET_HEIGHT",f="SDG.SET_METRIC_TEMP",h="SDG.SET_METRIC_ALTITUDE",_="SDG.SET_METRIC_SPEED",m="SDG.SET_FAVORITES",y="SDG.SET_Y_POINTER",g="SDG.FETCH_PARAMS",v="SDG.RECEIVE_PARAMS",w="SDG.TOGGLE_ZOOM",b=["ecmwf","gfs","nam","icon","iconEu","hrrr"],x=e=>({type:m,payload:e}),S=(e,t)=>n=>{n({type:r,payload:{lat:e,lon:t}}),n(M(e,t)),n(C())},P=e=>t=>{const n=b.some((t=>e.startsWith(t)))?e:"ecmwf";t({type:o,payload:n}),t(C())},E=e=>({type:i,payload:e}),k=e=>({type:l,payload:e});const T=()=>(e,t)=>{t().plugin.subscriptions.forEach((t=>{t(),e(function(e){return{type:u,payload:e}}(t))}))},O=e=>({type:a,payload:e}),M=(e,t)=>({type:s,payload:{lat:e,lon:t}});function C(){return(r,o)=>{const i=o(),{lat:l,lon:u,modelName:a}=i.plugin;if(null!=l&&null!=u&&null!=a&&function(t,n,r){if(!t)return!0;const o=t[e.latLon2str({lat:n,lon:r})];if(!o)return!0;if(o.isLoading)return!1;const i=Date.now();return i>o.nextUpdate&&i-o.loaded>6e4}(o().models[a],l,u)){r(N(l,u,a));const e=3,o=t.getPointForecast(a,{lat:l,lon:u,step:e},"detail"),i=t.getMeteogramForecast(a,{lat:l,lon:u,step:e});Promise.all([n.get(i),n.get(o)]).then((e=>{let[t,n]=e;r(D(l,u,a,t.data,n.data))}))}}}const N=(e,t,n)=>({type:g,payload:{lat:e,lon:t,modelName:n}}),D=(e,t,n,r,o)=>({type:v,payload:{lat:e,lon:t,modelName:n,airData:r,forecast:o}});function A(e,t,n,r,o){if(e==n)return t;const i=(o-e)/(n-e);return Array.isArray(t)?t.map(((e,t)=>e*(1-i)+r[t]*i)):t*(1-i)+r*i}function R(e,t,n){const r=e[0]>e[1];return n.map((n=>{let o=e.findIndex((e=>r?e<=n:e>=n));return-1==o?o=e.length-1:0==o&&(o=1),A(e[o-1],t[o-1],e[o],t[o],n)}))}function $(e,t,n,r){const o=Math.max(e[0],n[0]),i=Math.min(e[e.length-1],n[n.length-1]),l=Array.from(new Set([...e,...n])).filter((e=>e>=o&&e<=i)).sort(((e,t)=>Number(e)>Number(t)?1:-1)),u=R(e,t,l),a=R(n,r,l);for(let e=0;e<l.length-1;e++){const t=u[e],n=a[e],r=l[e];if(t==n)return[r,t];const o=u[e+1],i=a[e+1];if(Math.sign(n-t)!=Math.sign(i-o)){const u=l[e+1]-r,a=(o-t)/u,s=(n-t)/(a-(i-n)/u);return[r+s,t+s*a]}}return null}function j(e,t){return e.map(((e,n)=>[e,t[n]]))}function q(e,t){const n=n=>R(e,t,[n])[0];return n.invert=n=>R(t,e,[n])[0],n}function U(e,t){e=e.map(Math.log);const n=n=>R(e,t,[Math.log(n)])[0];return n.invert=n=>Math.exp(R(t,e,[n])[0]),n}function I(e,t){return n=>"M"+n.map((n=>e(n).toFixed(1)+","+t(n).toFixed(1))).join("L")}function H(e,t,n){return e+n*(t-e)}const F=[0,5,11,16.7,25,33.4,50,58.4,66.7,75,83.3,92,98,100],z=[null,950,925,900,850,800,700,600,500,400,300,200,150,null],B=new Uint8Array(256);for(let e=0;e<160;e++)B[e]=G(24*Math.floor((e+12)/16),160);function G(e,t){return e<0?0:e>t-1?t-1:e}function V(e){return B[Math.floor(G(e,160))]}function K(e,t,n,r,o){return(.5*-e+3*t*.5-3*n*.5+.5*r)*o**3+(e-5*t*.5+2*n-.5*r)*o**2+(.5*-e+.5*n)*o+t}function Y(e,t,n){return K(K(e[0],e[1],e[2],e[3],t),K(e[4],e[5],e[6],e[7],t),K(e[8],e[9],e[10],e[11],t),K(e[12],e[13],e[14],e[15],t),n)}var Z="NOT_FOUND";var X=function(e,t){return e===t};function J(e,t){var n,r,o="object"==typeof t?t:{equalityCheck:t},i=o.equalityCheck,l=void 0===i?X:i,u=o.maxSize,a=void 0===u?1:u,s=o.resultEqualityCheck,c=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}}(l),p=1===a?(n=c,{get:function(e){return r&&n(r.key,e)?r.value:Z},put:function(e,t){r={key:e,value:t}},getEntries:function(){return r?[r]:[]},clear:function(){r=void 0}}):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var o=n[r];return r>0&&(n.splice(r,1),n.unshift(o)),o.value}return Z}return{get:r,put:function(t,o){r(t)===Z&&(n.unshift({key:t,value:o}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(a,c);function d(){var t=p.get(arguments);if(t===Z){if(t=e.apply(null,arguments),s){var n=p.getEntries(),r=n.find((function(e){return s(e.value,t)}));r&&(t=r.value)}p.put(arguments,t)}return t}return d.clearCache=function(){return p.clear()},d}function Q(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function ee(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var i,l=0,u={memoizeOptions:void 0},a=r.pop();if("object"==typeof a&&(u=a,a=r.pop()),"function"!=typeof a)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof a+"]");var s=u,c=s.memoizeOptions,p=void 0===c?n:c,d=Array.isArray(p)?p:[p],f=Q(r),h=e.apply(void 0,[function(){return l++,a.apply(null,arguments)}].concat(d)),_=e((function(){for(var e=[],t=f.length,n=0;n<t;n++)e.push(f[n].apply(null,arguments));return i=h.apply(null,e)}));return Object.assign(_,{resultFunc:a,memoizedResultFunc:h,dependencies:f,lastResult:function(){return i},recomputations:function(){return l},resetRecomputations:function(){return l=0}}),_};return o}var te=ee(J);const ne=W.require("metrics"),re=W.require("utils"),oe=W.require("map").map||W.require("map"),ie=W.require("store"),le=W.require("rootScope"),ue=e=>e.plugin.modelName,ae=e=>e.plugin.timestamp,se=e=>e.metrics.temp,ce=e=>e.metrics.altitude,pe=e=>e.metrics.speed,de=e=>e.plugin.favorites,fe=e=>e.plugin.width,he=e=>e.plugin.height-20,_e=e=>e.plugin.zoom,me=e=>e.plugin.yPointer,ye=te(se,(e=>t=>Math.round(ne.temp.conv[e].conversion(t))));te((e=>e.metrics.pressure),(e=>t=>Math.round(ne.pressure.conv[e].conversion(t))));const ge=te(ce,(e=>t=>100*Math.round(ne.altitude.conv[e].conversion(t)/100))),ve=te(pe,(e=>t=>Math.round(ne.wind.conv[e].conversion(t)))),we=te((e=>e.plugin.lat),(e=>e.plugin.lon),((e,t)=>re.latLon2str({lat:e,lon:t}))),be=te(we,(e=>e.models),ue,((e,t,n)=>(t[n]||{})[e])),xe=te(be,(e=>function(e){const t=e["rh-1000h"].length,n=z.length,r=new Array(t*n);for(let o=0,i=0;o<n;++o)if(null==z[o])for(let e=0;e<t;++e)r[i++]=0;else{const n=.01*F[o],l=H(-60,-70,n),u=H(.025,.038,n),a=H(6,4,n),s=1-.8*Math.pow(n,.7),c=e[`rh-${z[o]}h`];for(let e=0;e<t;++e){const t=Number(c[e]);let n=Math.max(0,Math.min((t+l)*u,1));n=Math.pow(n,a)*s,r[i++]=n}}const o=10*t,i=300,l=new Array(o*i);let u=600;const a=new Array(u),s=new Array(16);let c,p=i;for(let e=0;e<n-1;++e){c=p,p=Math.round(299-2.99*F[e+1]);const i=t*G(e+2,n),d=t*G(e+1,n),f=t*G(e+0,n),h=t*G(e-1,n);let _=0,m=5;const y=c-p,g=1/y;for(let n=0;n<t+1;++n){if(0==n&&y>0){const t=1/y;for(let n=0;n<y;n++)a[--u]=e,a[--u]=Math.round(1e4*t*n)}const c=G(n-2,t),v=G(n-1,t),w=G(n+0,t),b=G(n+1,t);s[0]=r[i+c],s[1]=r[i+v],s[2]=r[i+w],s[3]=r[i+b],s[4]=r[d+c],s[5]=r[d+v],s[6]=r[d+w],s[7]=r[d+b],s[8]=r[f+c],s[9]=r[f+v],s[10]=r[f+w],s[11]=r[f+b],s[12]=r[h+c],s[13]=r[h+v],s[14]=r[h+w],s[15]=r[h+b];const x=p*o+_,S=m-_,P=1/S;for(let e=0;e<y;++e){let t=x+e*o;for(let n=0;n<S;++n){const r=V(160*Y(s,P*n,g*e));l[t++]=255-r}}_=m,m+=10,m>o&&(m=o)}}return{clouds:l,width:o,height:i}}(e.airData.data))),Se=te(xe,ae,be,((e,t,n)=>{const{clouds:r,width:o,height:i}=e,l=n.times,u=l.findIndex((e=>e>=t));if(-1==u)return null;const a=Math.max(0,u-1),s=o/l.length,c=s/2+u*s,p=s/2+a*s,d=Math.round(A(l[a],p,l[u],c,t)),f=[];for(let e=0;e<i;e++)f.push(r[d+e*o]);return f})),Pe=te(Se,(e=>{const t=e.length,n=q([1e3,950,925,900,850,800,700,600,500,400,300,200,150,100],F.map((e=>(t-1)*(1-e/100))));return(t,r)=>{const o=Math.round(n(t));if(null==r)return e[o];const i=Math.round(n(r)),l=e.slice(i,o).filter((e=>e>0));return l.length>0?Math.min(...l):0}})),Ee=te(be,(e=>!e||!0===e.isLoading));te(be,(e=>e.tMax)),te(be,(e=>e.tMin)),te(be,(e=>e.pMax)),te(be,(e=>e.pMin));const ke=te(be,(e=>{let{forecast:t,airData:n}=e,r=null==t.header.elevation?0:t.header.elevation;return null!=n.header.elevation&&(r=n.header.elevation),null!=n.header.modelElevation&&(r=n.header.modelElevation),r})),Te=te(be,(e=>e.forecast.header.updateTs)),Oe=te(be,(e=>e.nextUpdate)),Me=te(be,(e=>e.forecast.celestial.TZoffset)),Ce=te(be,(e=>e.forecast.celestial.sunriseTs)),Ne=te(be,(e=>e.forecast.celestial.sunsetTs)),De=te(Ce,Ne,ae,((e,t,n)=>{const r=e+72e5;return!(n<r||(n-r)%864e5>t-36e5-r)})),Ae=te(fe,(e=>(t,n)=>{const r=oe.getBounds();if(le.isMobileOrTablet){const e=document.querySelector("#windy-plugin-sounding .plugin-content");if(!e)return void console.error("plugin div not found");const o=e.offsetHeight,i=oe.getSize().y,l=t-(r.getSouth()-r.getNorth())/i*o/2;oe.panTo({lng:n,lat:l})}else{const o=n-(r.getEast()-r.getWest())/oe.getSize().x*e/2;oe.panTo({lng:o,lat:t})}})),We=te(Me,(e=>t=>{let{direction:n,changeDay:r}=t,o=ie.get("timestamp");if(r){const t=new Date(o),r=t.getUTCHours();t.setUTCMinutes(0),o=t.getTime();const i=((13-e+24)%24-r)*n;o+=i<=0?n*(24+i)*3600*1e3:n*i*3600*1e3}else o+=3600*n*1e3;ie.set("timestamp",o)}));let Re=Date.now();const $e=te(We,(e=>t=>{if(Date.now()>Re){const n=t.shiftKey||t.ctrlKey,r=Math.sign(t.deltaY);e({direction:r,changeDay:n}),Re=Date.now()+(n?800:20)}t.stopPropagation(),t.preventDefault()})),Le="SKT.SET_P_MIN";function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var He="function"==typeof Symbol&&Symbol.observable||"@@observable",Fe=function(){return Math.random().toString(36).substring(7).split("").join(".")},ze={INIT:"@@redux/INIT"+Fe(),REPLACE:"@@redux/REPLACE"+Fe(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Fe()}};function Be(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ge(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(Ie(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(Ie(1));return n(Ge)(e,t)}if("function"!=typeof e)throw new Error(Ie(2));var o=e,i=t,l=[],u=l,a=!1;function s(){u===l&&(u=l.slice())}function c(){if(a)throw new Error(Ie(3));return i}function p(e){if("function"!=typeof e)throw new Error(Ie(4));if(a)throw new Error(Ie(5));var t=!0;return s(),u.push(e),function(){if(t){if(a)throw new Error(Ie(6));t=!1,s();var n=u.indexOf(e);u.splice(n,1),l=null}}}function d(e){if(!Be(e))throw new Error(Ie(7));if(void 0===e.type)throw new Error(Ie(8));if(a)throw new Error(Ie(9));try{a=!0,i=o(i,e)}finally{a=!1}for(var t=l=u,n=0;n<t.length;n++){(0,t[n])()}return e}function f(e){if("function"!=typeof e)throw new Error(Ie(10));o=e,d({type:ze.REPLACE})}function h(){var e,t=p;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(Ie(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[He]=function(){return this},e}return d({type:ze.INIT}),(r={dispatch:d,subscribe:p,getState:c,replaceReducer:f})[He]=h,r}function Ve(e,t){return function(){return t(e.apply(this,arguments))}}function Ke(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}const Ye=287,Ze=18.01528/28.9644,Xe=2501e3,Je=273.15,Qe=-.0065;function et(e,t,n){return t*Math.pow(e/n,Ye/1005)}function tt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ze;return n*e/(t-e)}function nt(e){const t=e-Je;return 6.112*Math.exp(17.67*t/(t+243.5))}function rt(e,t){const n=function(e,t){return tt(nt(t),e)}(e,t);return 1/e*((Ye*t+Xe*n)/(1005+Math.pow(Xe,2)*n*Ze/(Ye*Math.pow(t,2))))}function ot(e,t){return e*t/(Ze+t)}function it(e){const t=Math.log(e/6.112);return Je+243.5*t/(17.67-t)}var lt;const ut=W.require("utils"),at=W.require("map").map||W.require("map"),st=(null==at||null===(lt=at.myMarkers)||void 0===lt?void 0:lt.pulsatingIcon)||W.require("map").markers.pulsatingIcon,ct=W.require("products"),pt=W.require("subscription");function dt(e,t,n,r){return n.map((n=>{const o=e.data[`${t}-${n}h`],i=Array.isArray(o)?o[r]:null;return"gh"===t&&null==i?Math.round(function(e){return 288.15/Qe*(Math.pow(e/1013.25,1.8655/9.80665)-1)}(n)):i}))}function ft(e,t,n){const r=t.data.hours,o=function(e){const t=[];for(let n in e.data){const e=n.match(/temp-(\d+)h$/);e&&t.push(Number(e[1]))}return t.sort(((e,t)=>Number(e)<Number(t)?1:-1))}(t),i=[];let l=Number.MIN_VALUE,u=Number.MAX_VALUE;for(let e=0;e<r.length;e++){const n=dt(t,"temp",o,e);l=Math.max(l,...n),u=Math.min(u,...n),i.push({temp:n,dewpoint:dt(t,"dewpoint",o,e),gh:dt(t,"gh",o,e),wind_u:dt(t,"wind_u",o,e),wind_v:dt(t,"wind_v",o,e)})}const a=pt.hasAny()&&ct[e].intervalPremium||ct[e].interval,s=n.header.updateTs+60*(a+60)*1e3;return{airData:t,forecast:n,times:r,values:i,levels:o,tMax:l,tMin:u,pMax:o[o.length-1],pMin:o[0],nextUpdate:s}}function ht(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;switch(t.type){case g:return{...e,isLoading:!0};case v:{const{airData:r,forecast:o}=t.payload,i=ft(n,r,o);return{...e,...i,isLoading:!1,loaded:Date.now()}}default:return e}}const _t=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];"function"==typeof e[o]&&(n[o]=e[o])}var i,l=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:ze.INIT}))throw new Error(Ie(12));if(void 0===n(void 0,{type:ze.PROBE_UNKNOWN_ACTION()}))throw new Error(Ie(13))}))}(n)}catch(e){i=e}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var r=!1,o={},u=0;u<l.length;u++){var a=l[u],s=n[a],c=e[a],p=s(c,t);if(void 0===p)throw t&&t.type,new Error(Ie(14));o[a]=p,r=r||p!==c}return(r=r||l.length!==Object.keys(e).length)?o:e}}({plugin:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{subscriptions:[],favorites:[],zoom:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r:return{...e,...t.payload};case o:return{...e,modelName:t.payload};case i:return{...e,timestamp:t.payload};case l:return{...e,subscriptions:e.subscriptions.concat(t.payload)};case u:return{...e,subscriptions:e.subscriptions.filter((e=>e!=t.payload))};case a:return{...e,active:t.payload};case s:{let{marker:n}=e;const{lon:r,lat:o}=t.payload;return n?(n.setLatLng({lat:o,lng:r}),e):(n=L.marker({lat:o,lng:r},{icon:st,zIndexOffset:-300}).addTo(at),{...e,marker:n})}case c:{const{marker:t}=e;return t&&at.removeLayer(t),{...e,marker:null}}case p:return{...e,width:t.payload};case d:return{...e,height:t.payload};case m:return{...e,favorites:[...t.payload]};case y:return{...e,yPointer:t.payload};case w:return{...e,zoom:!e.zoom};default:return e}},models:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:case v:{const{modelName:n}=t.payload,r=e[n]||{},o=ut.latLon2str(t.payload);return{...e,[n]:{...r,[o]:ht(r[o],t,n)}}}default:return e}},metrics:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{...e,temp:t.payload};case h:return{...e,altitude:t.payload};case _:return{...e,speed:t.payload};default:return e}},skewt:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pMax:1e3},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return{...e,pMin:t.payload};default:return e}},windgram:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type,e}});function mt(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}var yt=mt();yt.withExtraArgument=mt;var gt=yt;const vt=W.require("utils").$||W.require("$"),wt=W.require("store");let bt;function xt(){if(bt)return bt;bt=Ge(_t,Ke(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Ie(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return r=Ke.apply(void 0,i)(n.dispatch),Ue(Ue({},n),{},{dispatch:r})}}}(...[gt])));const e=vt("#bsounding-chart").clientWidth-10,t=Math.min(e,.7*window.innerHeight);return bt.dispatch((e=>({type:p,payload:e}))(e)),bt.dispatch((e=>({type:d,payload:e}))(t)),St(),bt.dispatch((e=>({type:Le,payload:e}))(400)),bt}function St(){var e;bt&&(bt.dispatch((e=wt.get("metric_temp"),{type:f,payload:e})),bt.dispatch((e=>({type:h,payload:e}))(wt.get("metric_altitude"))),bt.dispatch((e=>({type:_,payload:e}))(wt.get("metric_wind"))))}var Pt,Et,kt,Tt,Ot,Mt,Ct,Nt={},Dt=[],At=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Wt(e,t){for(var n in t)e[n]=t[n];return e}function Rt(e){var t=e.parentNode;t&&t.removeChild(e)}function $t(e,t,n){var r,o,i,l={};for(i in t)"key"==i?r=t[i]:"ref"==i?o=t[i]:l[i]=t[i];if(arguments.length>2&&(l.children=arguments.length>3?Pt.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===l[i]&&(l[i]=e.defaultProps[i]);return Lt(e,l,r,o,null)}function Lt(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++kt:o};return null==o&&null!=Et.vnode&&Et.vnode(i),i}function jt(e){return e.children}function qt(e,t){this.props=e,this.context=t}function Ut(e,t){if(null==t)return e.__?Ut(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?Ut(e):null}function It(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return It(e)}}function Ht(e){(!e.__d&&(e.__d=!0)&&Tt.push(e)&&!Ft.__r++||Mt!==Et.debounceRendering)&&((Mt=Et.debounceRendering)||Ot)(Ft)}function Ft(){for(var e;Ft.__r=Tt.length;)e=Tt.sort((function(e,t){return e.__v.__b-t.__v.__b})),Tt=[],e.some((function(e){var t,n,r,o,i,l;e.__d&&(i=(o=(t=e).__v).__e,(l=t.__P)&&(n=[],(r=Wt({},o)).__v=o.__v+1,Jt(l,o,r,t.__n,void 0!==l.ownerSVGElement,null!=o.__h?[i]:null,n,null==i?Ut(o):i,o.__h),Qt(n,o),o.__e!=i&&It(o)))}))}function zt(e,t,n,r,o,i,l,u,a,s){var c,p,d,f,h,_,m,y=r&&r.__k||Dt,g=y.length;for(n.__k=[],c=0;c<t.length;c++)if(null!=(f=n.__k[c]=null==(f=t[c])||"boolean"==typeof f?null:"string"==typeof f||"number"==typeof f||"bigint"==typeof f?Lt(null,f,null,null,f):Array.isArray(f)?Lt(jt,{children:f},null,null,null):f.__b>0?Lt(f.type,f.props,f.key,null,f.__v):f)){if(f.__=n,f.__b=n.__b+1,null===(d=y[c])||d&&f.key==d.key&&f.type===d.type)y[c]=void 0;else for(p=0;p<g;p++){if((d=y[p])&&f.key==d.key&&f.type===d.type){y[p]=void 0;break}d=null}Jt(e,f,d=d||Nt,o,i,l,u,a,s),h=f.__e,(p=f.ref)&&d.ref!=p&&(m||(m=[]),d.ref&&m.push(d.ref,null,f),m.push(p,f.__c||h,f)),null!=h?(null==_&&(_=h),"function"==typeof f.type&&f.__k===d.__k?f.__d=a=Bt(f,a,e):a=Vt(e,f,d,y,h,a),"function"==typeof n.type&&(n.__d=a)):a&&d.__e==a&&a.parentNode!=e&&(a=Ut(d))}for(n.__e=_,c=g;c--;)null!=y[c]&&("function"==typeof n.type&&null!=y[c].__e&&y[c].__e==n.__d&&(n.__d=Ut(r,c+1)),tn(y[c],y[c]));if(m)for(c=0;c<m.length;c++)en(m[c],m[++c],m[++c])}function Bt(e,t,n){for(var r,o=e.__k,i=0;o&&i<o.length;i++)(r=o[i])&&(r.__=e,t="function"==typeof r.type?Bt(r,t,n):Vt(n,r,r,o,r.__e,t));return t}function Gt(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){Gt(e,t)})):t.push(e)),t}function Vt(e,t,n,r,o,i){var l,u,a;if(void 0!==t.__d)l=t.__d,t.__d=void 0;else if(null==n||o!=i||null==o.parentNode)e:if(null==i||i.parentNode!==e)e.appendChild(o),l=null;else{for(u=i,a=0;(u=u.nextSibling)&&a<r.length;a+=2)if(u==o)break e;e.insertBefore(o,i),l=i}return void 0!==l?l:o.nextSibling}function Kt(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||At.test(t)?n:n+"px"}function Yt(e,t,n,r,o){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Kt(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||Kt(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r||e.addEventListener(t,i?Xt:Zt,i):e.removeEventListener(t,i?Xt:Zt,i);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function Zt(e){this.l[e.type+!1](Et.event?Et.event(e):e)}function Xt(e){this.l[e.type+!0](Et.event?Et.event(e):e)}function Jt(e,t,n,r,o,i,l,u,a){var s,c,p,d,f,h,_,m,y,g,v,w=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(a=n.__h,u=t.__e=n.__e,t.__h=null,i=[u]),(s=Et.__b)&&s(t);try{e:if("function"==typeof w){if(m=t.props,y=(s=w.contextType)&&r[s.__c],g=s?y?y.props.value:s.__:r,n.__c?_=(c=t.__c=n.__c).__=c.__E:("prototype"in w&&w.prototype.render?t.__c=c=new w(m,g):(t.__c=c=new qt(m,g),c.constructor=w,c.render=nn),y&&y.sub(c),c.props=m,c.state||(c.state={}),c.context=g,c.__n=r,p=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=w.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=Wt({},c.__s)),Wt(c.__s,w.getDerivedStateFromProps(m,c.__s))),d=c.props,f=c.state,p)null==w.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==w.getDerivedStateFromProps&&m!==d&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(m,g),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(m,c.__s,g)||t.__v===n.__v){c.props=m,c.state=c.__s,t.__v!==n.__v&&(c.__d=!1),c.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),c.__h.length&&l.push(c);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(m,c.__s,g),null!=c.componentDidUpdate&&c.__h.push((function(){c.componentDidUpdate(d,f,h)}))}c.context=g,c.props=m,c.state=c.__s,(s=Et.__r)&&s(t),c.__d=!1,c.__v=t,c.__P=e,s=c.render(c.props,c.state,c.context),c.state=c.__s,null!=c.getChildContext&&(r=Wt(Wt({},r),c.getChildContext())),p||null==c.getSnapshotBeforeUpdate||(h=c.getSnapshotBeforeUpdate(d,f)),v=null!=s&&s.type===jt&&null==s.key?s.props.children:s,zt(e,Array.isArray(v)?v:[v],t,n,r,o,i,l,u,a),c.base=t.__e,t.__h=null,c.__h.length&&l.push(c),_&&(c.__E=c.__=null),c.__e=!1}else null==i&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,r,o,i,l,u){var a,s,c,p=n.props,d=t.props,f=t.type,h=0;if("svg"===f&&(o=!0),null!=i)for(;h<i.length;h++)if((a=i[h])&&"setAttribute"in a==!!f&&(f?a.localName===f:3===a.nodeType)){e=a,i[h]=null;break}if(null==e){if(null===f)return document.createTextNode(d);e=o?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,d.is&&d),i=null,u=!1}if(null===f)p===d||u&&e.data===d||(e.data=d);else{if(i=i&&Pt.call(e.childNodes),s=(p=n.props||Nt).dangerouslySetInnerHTML,c=d.dangerouslySetInnerHTML,!u){if(null!=i)for(p={},h=0;h<e.attributes.length;h++)p[e.attributes[h].name]=e.attributes[h].value;(c||s)&&(c&&(s&&c.__html==s.__html||c.__html===e.innerHTML)||(e.innerHTML=c&&c.__html||""))}if(function(e,t,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in t||Yt(e,i,null,n[i],r);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||Yt(e,i,t[i],n[i],r)}(e,d,p,o,u),c)t.__k=[];else if(h=t.props.children,zt(e,Array.isArray(h)?h:[h],t,n,r,o&&"foreignObject"!==f,i,l,i?i[0]:n.__k&&Ut(n,0),u),null!=i)for(h=i.length;h--;)null!=i[h]&&Rt(i[h]);u||("value"in d&&void 0!==(h=d.value)&&(h!==e.value||"progress"===f&&!h||"option"===f&&h!==p.value)&&Yt(e,"value",h,p.value,!1),"checked"in d&&void 0!==(h=d.checked)&&h!==e.checked&&Yt(e,"checked",h,p.checked,!1))}return e}(n.__e,t,n,r,o,i,l,a);(s=Et.diffed)&&s(t)}catch(e){t.__v=null,(a||null!=i)&&(t.__e=u,t.__h=!!a,i[i.indexOf(u)]=null),Et.__e(e,t,n)}}function Qt(e,t){Et.__c&&Et.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){Et.__e(e,t.__v)}}))}function en(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){Et.__e(e,n)}}function tn(e,t,n){var r,o;if(Et.unmount&&Et.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||en(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){Et.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&tn(r[o],t,"function"!=typeof e.type);n||null==e.__e||Rt(e.__e),e.__e=e.__d=void 0}function nn(e,t,n){return this.constructor(e,n)}function rn(e,t,n){var r,o,i;Et.__&&Et.__(e,t),o=(r="function"==typeof n)?null:n&&n.__k||t.__k,i=[],Jt(t,e=(!r&&n||t).__k=$t(jt,null,[e]),o||Nt,Nt,void 0!==t.ownerSVGElement,!r&&n?[n]:o?null:t.firstChild?Pt.call(t.childNodes):null,i,!r&&n?n:o?o.__e:t.firstChild,r),Qt(i,e)}function on(e,t){rn(e,t,on)}function ln(e,t,n){var r,o,i,l=Wt({},e.props);for(i in t)"key"==i?r=t[i]:"ref"==i?o=t[i]:l[i]=t[i];return arguments.length>2&&(l.children=arguments.length>3?Pt.call(arguments,2):n),Lt(e.type,l,r||e.key,o||e.ref,null)}Pt=Dt.slice,Et={__e:function(e,t){for(var n,r,o;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(e)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),o=n.__d),o)return n.__E=n}catch(t){e=t}throw e}},kt=0,qt.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Wt({},this.state),"function"==typeof e&&(e=e(Wt({},n),this.props)),e&&Wt(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),Ht(this))},qt.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Ht(this))},qt.prototype.render=jt,Tt=[],Ot="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ft.__r=0,Ct=0;const un=W.require("utils"),an=e=>Math.floor(.83*fe(e)-5),sn=e=>e.skewt.pMax,cn=te((e=>e.skewt.pMin),_e,((e,t)=>t?e:150)),pn=te(be,ae,cn,((e,t,n)=>{if(!e||e.isLoading)return null;const{times:r,values:o}=e,i=r.findIndex((e=>e>=t));if(-1==i)return null;const l=Math.max(0,i-1);let u=e.levels.findIndex((e=>e<=n));-1==u&&(u=e.levels.length-1);const a=e.levels.slice(0,u+1),s={};Object.getOwnPropertyNames(o[l]).forEach((e=>{s[e]=A(r[l],o[l][e],r[i],o[i][e],t),s[e].splice(u+1)})),s.level=a;const c=s.wind_u.map(((e,t)=>{const n=s.wind_v[t];return un.wind2obj([e,n])}));return s.windSpeed=c.map((e=>e.wind)),s.windDir=c.map((e=>e.dir)),s})),dn=te(be,(e=>e.tMax+8)),fn=te(dn,(e=>e-60)),hn=te(an,he,sn,cn,dn,fn,((e,t,n,r,o,i)=>e/t*75*(Math.log10(n)-Math.log10(r))/(o-i))),_n=te(an,dn,fn,((e,t,n)=>q([n,t],[0,e]))),mn=te(an,dn,fn,ye,((e,t,n,r)=>q([n,t].map(r),[0,e]))),yn=te(he,sn,cn,((e,t,n)=>U([t,n],[e,0]))),gn=te(pn,(e=>U(e.level,e.gh))),vn=te(pn,gn,he,cn,ge,((e,t,n,r,o)=>q([e.gh[0],t(r)].map(o),[n,0]))),wn=te(_n,hn,he,yn,((e,t,n,r)=>I((o=>e(o[0])+t*(n-r(o[1]))),(e=>r(e[1]))))),bn=te(ke,pn,gn,((e,t,n)=>{const r=t.level;return Math.min(n.invert(e),r[0])})),xn=te(pn,bn,((e,t)=>U(e.level,e.temp)(t))),Sn=te(pn,bn,((e,t)=>U(e.level,e.dewpoint)(t))),Pn=te(ce,(e=>"m"===e?1e3:3e3)),En=te(se,(e=>"°C"===e?10:20)),kn=e=>Math.floor(17*fe(e)/100),Tn=te(pn,(e=>e?Math.max(60/3.6,...e.windSpeed):0)),On=te(Tn,kn,_e,((e,t,n)=>n?q([0,30/3.6,e],[0,t/2,t]):q([0,e],[0,t]))),Mn=te(On,yn,((e,t)=>I((t=>e(t[0])),(e=>t(e[1])))));function Cn(e,t){for(let n in e)if(!(n in t))return!0;for(let n in t)if(e[n]!==t[n])return!0;return!1}class Nn extends qt{shouldComponentUpdate(e,t){return Cn(this.props,e)||Cn(this.state,t)}}const Dn=W.require("utils"),An=W.require("store");function Wn(e){return e.title||e.name}class Rn extends Nn{render(e){let{cx:t,cy:n}=e;return $t("svg",{width:"60",height:"60",viewBox:"0 0 38 38",x:t-30,y:n-30},$t("g",{transform:"translate(1 1)","stroke-width":"2",fill:"none","fill-rule":"evenodd"},$t("circle",{cx:"18",cy:"18",r:"18",stroke:"#ddd"}),$t("path",{d:"M36 18C36 8 28 0 18 0",stroke:"#333"},$t("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}))))}}function $n(e){let{parcel:t,width:n,line:r,pToPx:o,formatAltitude:i}=e;const{trajectory:l,isohume:u,elevThermalTop:a,pThermalTop:s,pCloudTop:c}=t,p=[];if(l){const e=o(s);if(c){const t=o(c);p.push($t("rect",{y:t,height:e-t,width:n,fill:"url(#diag-hatch)"}),$t(Ln,{x:n,y:e}),$t("line",{class:"boundary",y1:t,y2:t,x2:n}))}p.push($t("line",{class:"boundary",y1:e,y2:e,x2:n}),$t("text",{class:"tick",style:"fill: black","text-anchor":"end","dominant-baseline":"hanging",y:e+4,x:n-7,filter:"url(#whiteOutlineEffect)"},i(a)),$t("path",{class:"parcel trajectory",d:r(l)})),u&&p.push($t("path",{class:"parcel isohume",d:r(u)}))}return p.length?$t("g",null,p):null}class Ln extends Nn{render(e){let{x:t,y:n}=e;return $t("path",{class:"cumulus",transform:`translate(${t-36}, ${n-28})`,d:"M26.003 24H5.997C3.794 24 2 22.209 2 20c0-1.893 1.318-3.482 3.086-3.896A7.162 7.162 0 0 1 5 15c0-3.866 3.134-7 7-7 3.162 0 5.834 2.097 6.702 4.975A4.477 4.477 0 0 1 21.5 12c2.316 0 4.225 1.75 4.473 4h.03C28.206 16 30 17.791 30 20c0 2.205-1.789 4-3.997 4z"})}}class jn extends Nn{render(e){let{temp:t,pressure:n,height:r,pToPx:o,line:i}=e;const l=[],u=r/15;for(let e=r;e>-u;e-=u){const r=o.invert(e),i=et(r,t,n);l.push([i,r])}return $t("path",{class:"dry",d:i(l)})}}class qn extends Nn{render(e){let{temp:t,pressure:n,height:r,pToPx:o,line:i}=e;const l=[];let u=n;const a=r/15;for(let e=r;e>-a;e-=a){const n=o.invert(e);t+=(n-u)*rt(n,t),u=n,l.push([t,n])}return $t("path",{class:"moist",d:i(l)})}}class Un extends Nn{render(e){let{temp:t,pressure:n,height:r,pToPx:o,line:i}=e;const l=[],u=tt(nt(t),n),a=r;for(let e=r;e>-a;e-=a){const t=o.invert(e),n=it(ot(t,u));l.push([n,t])}return $t("path",{class:"isohume",d:i(l)})}}class In extends Nn{render(e){let{temp:t,height:n,pToPx:r,line:o}=e;const i=[[t,r.invert(n)],[t,r.invert(0)]];return $t("path",{class:"isotherm "+(273==Math.round(t)?"zero":""),d:o(i)})}}class Hn extends Nn{render(e){let{height:t,width:n,metric:r,step:o,tAxisToPx:i}=e;const l=[];for(let e,u=Math.trunc(i.invert(0)/o)*o;!e;u+=o){const a=i(u);e=i(u+o)>n,l.push($t("text",{class:"tick","text-anchor":"middle","dominant-baseline":"hanging",y:t+5,x:a},u+(e?" "+r:"")))}return $t("g",null,l)}}const Fn=e=>{let{pAxisToPx:t,width:n,metric:r,step:o}=e;const i=[];for(let e,l=o;!e;l+=o){const u=t(l);e=t(l+o)<20,i.push($t("line",{y1:u,x2:n,y2:u,class:"light"}),$t("text",{class:"tick",y:u-5,x:5,filter:"url(#whiteOutlineEffect)"},l+" "+(e?" "+r:"")))}return $t("g",null,i)},zn=e=>{let{width:t,cloudCover:n,pToPx:r,pSfc:o,highClouds:i}=e;const l=[];let u=0;if(i){u=30;const e=n(r.invert(u),150);l.push($t(Bn,{y:"0",width:t,height:"30",cover:e}),$t("text",{class:"tick",y:25,x:t-5,"text-anchor":"end",filter:"url(#whiteOutlineEffect)"},"upper clouds"),$t("line",{y1:"30",y2:"30",x2:t,class:"boundary"}))}const a=r(o);for(;u<a;){const e=u,t=n(r.invert(u));let o=1;for(;u++<a&&n(r.invert(u))==t;)o++;l.push($t(Bn,{y:e,width:100,height:o,cover:t}))}return $t("g",null,l)},Bn=e=>{let{y:t,height:n,width:r,cover:o}=e;if(255!=o)return $t("rect",{y:t,height:n,width:r,fill:`rgba(${o}, ${o}, ${o}, 0.7)`})};const Gn=e=>{let{height:t,width:n,metric:r,format:o,speedToPx:i,maxSpeed:l,zoom:u}=e;if(u){const e=i(30/3.6),u=e/2;return $t("g",{class:"axis"},$t("line",{y1:t,x1:u,x2:u,class:"light"}),$t("rect",{width:n/2,height:t,fill:"white",opacity:"0.1"}),$t("rect",{x:n/2,width:n/2,height:t,fill:"red",opacity:"0.1"}),$t("text",{class:"tick",transform:`translate(${u-5} 80) rotate(-90)`,filter:"url(#whiteOutlineEffect)"},o(15/3.6)),$t("text",{class:"tick",transform:`translate(${e-5} 80) rotate(-90)`,filter:"url(#whiteOutlineEffect)"},o(30/3.6)),$t("text",{class:"tick",transform:`translate(${n-5} 80) rotate(-90)`,filter:"url(#whiteOutlineEffect)"},`${o(l)} ${r}`))}return $t("g",{class:"axis"},$t("rect",{width:n,height:t,fill:"white",opacity:"0.1"}),$t("line",{y1:t,x1:n/3,x2:n/3,class:"light"}),$t("text",{class:"tick",transform:`translate(${n/3-5} 80) rotate(-90)`,filter:"url(#whiteOutlineEffect)"},o(l/3)),$t("line",{y1:t,x1:2*n/3,x2:2*n/3,class:"light"}),$t("text",{class:"tick",transform:`translate(${2*n/3-5} 80) rotate(-90)`,filter:"url(#whiteOutlineEffect)"},o(2*l/3)),$t("text",{class:"tick",transform:`translate(${n-5} 80) rotate(-90)`,filter:"url(#whiteOutlineEffect)"},`${o(l)} ${r}`))},Vn=e=>{let{direction:t,y:n,speed:r}=e;return r>1?$t("g",{transform:`translate(0,${n}) rotate(${t})`,stroke:"black",fill:"none"},$t("line",{y2:"-30"}),$t("path",{d:"M-4,-8L0,0L4,-8","stroke-linejoin":"round"})):$t("g",{transform:`translate(0,${n})`,stroke:"black",fill:"none"},$t("circle",{r:"6"}),$t("circle",{r:"1"}))};var Kn,Yn,Zn,Xn=0,Jn=[],Qn=Et.__b,er=Et.__r,tr=Et.diffed,nr=Et.__c,rr=Et.unmount;function or(e,t){Et.__h&&Et.__h(Yn,e,Xn||t),Xn=0;var n=Yn.__H||(Yn.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function ir(e,t,n){var r=or(Kn++,2);return r.t=e,r.__c||(r.__=[n?n(t):mr(void 0,t),function(e){var t=r.t(r.__[0],e);r.__[0]!==t&&(r.__=[t,r.__[1]],r.__c.setState({}))}],r.__c=Yn),r.__}function lr(e,t){var n=or(Kn++,3);!Et.__s&&_r(n.__H,t)&&(n.__=e,n.__H=t,Yn.__H.__h.push(n))}function ur(e,t){var n=or(Kn++,4);!Et.__s&&_r(n.__H,t)&&(n.__=e,n.__H=t,Yn.__h.push(n))}function ar(e){return Xn=5,sr((function(){return{current:e}}),[])}function sr(e,t){var n=or(Kn++,7);return _r(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function cr(e){var t=Yn.context[e.__c],n=or(Kn++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(Yn)),t.props.value):e.__}function pr(){for(var e;e=Jn.shift();)if(e.__P)try{e.__H.__h.forEach(fr),e.__H.__h.forEach(hr),e.__H.__h=[]}catch(t){e.__H.__h=[],Et.__e(t,e.__v)}}Et.__b=function(e){Yn=null,Qn&&Qn(e)},Et.__r=function(e){er&&er(e),Kn=0;var t=(Yn=e.__c).__H;t&&(t.__h.forEach(fr),t.__h.forEach(hr),t.__h=[])},Et.diffed=function(e){tr&&tr(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==Jn.push(t)&&Zn===Et.requestAnimationFrame||((Zn=Et.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),dr&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);dr&&(t=requestAnimationFrame(n))})(pr)),Yn=null},Et.__c=function(e,t){t.some((function(e){try{e.__h.forEach(fr),e.__h=e.__h.filter((function(e){return!e.__||hr(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],Et.__e(n,e.__v)}})),nr&&nr(e,t)},Et.unmount=function(e){rr&&rr(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{fr(e)}catch(e){t=e}})),t&&Et.__e(t,n.__v))};var dr="function"==typeof requestAnimationFrame;function fr(e){var t=Yn,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),Yn=t}function hr(e){var t=Yn;e.__c=e.__(),Yn=t}function _r(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function mr(e,t){return"function"==typeof t?t(e):t}function yr(e,t){for(let n in t)e[n]=t[n];return e}function gr(e,t){for(let n in e)if("__source"!==n&&!(n in t))return!0;for(let n in t)if("__source"!==n&&e[n]!==t[n])return!0;return!1}function vr(e){this.props=e}vr.prototype=new qt,vr.prototype.isPureReactComponent=!0,vr.prototype.shouldComponentUpdate=function(e,t){return gr(this.props,e)||gr(this.state,t)};let wr=Et._diff;Et._diff=e=>{e.type&&e.type._forwarded&&e.ref&&(e.props.ref=e.ref,e.ref=null),wr&&wr(e)};const br="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;const xr=(e,t)=>null==e?null:Gt(Gt(e).map(t)),Sr={map:xr,forEach:xr,count:e=>e?Gt(e).length:0,only(e){const t=Gt(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:Gt},Pr=Et._catchError;Et._catchError=function(e,t,n){if(e.then){let r,o=t;for(;o=o._parent;)if((r=o._component)&&r._childDidSuspend)return null==t._dom&&(t._dom=n._dom,t._children=n._children),r._childDidSuspend(e,t)}Pr(e,t,n)};const Er=Et.unmount;function kr(e,t,n){return e&&(e._component&&e._component.__hooks&&(e._component.__hooks._list.forEach((e=>{"function"==typeof e._cleanup&&e._cleanup()})),e._component.__hooks=null),null!=(e=yr({},e))._component&&(e._component._parentDom===n&&(e._component._parentDom=t),e._component=null),e._children=e._children&&e._children.map((e=>kr(e,t,n)))),e}function Tr(e,t,n){return e&&(e._original=null,e._children=e._children&&e._children.map((e=>Tr(e,t,n))),e._component&&e._component._parentDom===t&&(e._dom&&n.insertBefore(e._dom,e._nextDom),e._component._force=!0,e._component._parentDom=n)),e}function Or(){this._pendingSuspensionCount=0,this._suspenders=null,this._detachOnNextRender=null}function Mr(e){let t=e._parent._component;return t&&t._suspended&&t._suspended(e)}Et.unmount=function(e){const t=e._component;t&&t._onResolve&&t._onResolve(),t&&!0===e._hydrating&&(e.type=null),Er&&Er(e)},Or.prototype=new qt,Or.prototype._childDidSuspend=function(e,t){const n=t._component,r=this;null==r._suspenders&&(r._suspenders=[]),r._suspenders.push(n);const o=Mr(r._vnode);let i=!1;const l=()=>{i||(i=!0,n._onResolve=null,o?o(u):u())};n._onResolve=l;const u=()=>{if(!--r._pendingSuspensionCount){if(r.state._suspended){const e=r.state._suspended;r._vnode._children[0]=Tr(e,e._component._parentDom,e._component._originalParentDom)}let e;for(r.setState({_suspended:r._detachOnNextRender=null});e=r._suspenders.pop();)e.forceUpdate()}},a=!0===t._hydrating;r._pendingSuspensionCount++||a||r.setState({_suspended:r._detachOnNextRender=r._vnode._children[0]}),e.then(l,l)},Or.prototype.componentWillUnmount=function(){this._suspenders=[]},Or.prototype.render=function(e,t){if(this._detachOnNextRender){if(this._vnode._children){const e=document.createElement("div"),t=this._vnode._children[0]._component;this._vnode._children[0]=kr(this._detachOnNextRender,e,t._originalParentDom=t._parentDom)}this._detachOnNextRender=null}const n=t._suspended&&$t(jt,null,e.fallback);return n&&(n._hydrating=null),[$t(jt,null,t._suspended?null:e.children),n]};function Cr(){this._next=null,this._map=null}const Nr=(e,t,n)=>{if(++n[1]===n[0]&&e._map.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e._map.size))for(n=e._next;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e._next=n=n[2]}};function Dr(e){return this.getChildContext=()=>e.context,e.children}function Ar(e){const t=this;let n=e._container;t.componentWillUnmount=function(){rn(null,t._temp),t._temp=null,t._container=null},t._container&&t._container!==n&&t.componentWillUnmount(),e._vnode?(t._temp||(t._container=n,t._temp={nodeType:1,parentNode:n,childNodes:[],appendChild(e){this.childNodes.push(e),t._container.appendChild(e)},insertBefore(e,n){this.childNodes.push(e),t._container.appendChild(e)},removeChild(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t._container.removeChild(e)}}),rn($t(Dr,{context:t.context},e._vnode),t._temp)):t._temp&&t.componentWillUnmount()}Cr.prototype=new qt,Cr.prototype._suspended=function(e){const t=this,n=Mr(t._vnode);let r=t._map.get(e);return r[0]++,o=>{const i=()=>{t.props.revealOrder?(r.push(o),Nr(t,e,r)):o()};n?n(i):i()}},Cr.prototype.render=function(e){this._next=null,this._map=new Map;const t=Gt(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(let e=t.length;e--;)this._map.set(t[e],this._next=[1,0,this._next]);return e.children},Cr.prototype.componentDidUpdate=Cr.prototype.componentDidMount=function(){this._map.forEach(((e,t)=>{Nr(this,t,e)}))};const Wr="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Rr=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,$r="undefined"!=typeof document,Lr=e=>("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e);qt.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((e=>{Object.defineProperty(qt.prototype,e,{configurable:!0,get(){return this["UNSAFE_"+e]},set(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));let jr=Et.event;function qr(){}function Ur(){return this.cancelBubble}function Ir(){return this.defaultPrevented}Et.event=e=>(jr&&(e=jr(e)),e.persist=qr,e.isPropagationStopped=Ur,e.isDefaultPrevented=Ir,e.nativeEvent=e);let Hr,Fr={configurable:!0,get(){return this.class}},zr=Et.vnode;Et.vnode=e=>{let t=e.type,n=e.props,r=n;if("string"==typeof t){const o=-1===t.indexOf("-");r={};for(let e in n){let i=n[e];$r&&"children"===e&&"noscript"===t||("value"===e&&"defaultValue"in n&&null==i||("defaultValue"===e&&"value"in n&&null==n.value?e="value":"download"===e&&!0===i?i="":/ondoubleclick/i.test(e)?e="ondblclick":/^onchange(textarea|input)/i.test(e+t)&&!Lr(n.type)?e="oninput":/^onfocus$/i.test(e)?e="onfocusin":/^onblur$/i.test(e)?e="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(e)?e=e.toLowerCase():o&&Rr.test(e)?e=e.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===i&&(i=void 0),r[e]=i))}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=Gt(n.children).forEach((e=>{e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==t&&null!=r.defaultValue&&(r.value=Gt(n.children).forEach((e=>{r.multiple?e.props.selected=-1!=r.defaultValue.indexOf(e.props.value):e.props.selected=r.defaultValue==e.props.value}))),e.props=r,n.class!=n.className&&(Fr.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",Fr))}e.$$typeof=Wr,zr&&zr(e)};const Br=Et._render;Et._render=function(e){Br&&Br(e),Hr=e._component};function Gr(e){return!!e&&e.$$typeof===Wr}const Vr=(e,t)=>e(t);var Kr={useState:function(e){return Xn=1,ir(mr,e)},useReducer:ir,useEffect:lr,useLayoutEffect:ur,useRef:ar,useImperativeHandle:function(e,t,n){Xn=6,ur((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))},useMemo:sr,useCallback:function(e,t){return Xn=8,sr((function(){return e}),t)},useContext:cr,useDebugValue:function(e,t){Et.useDebugValue&&Et.useDebugValue(t?t(e):e)},version:"17.0.2",Children:Sr,render:function(e,t,n){return null==t._children&&(t.textContent=""),rn(e,t),"function"==typeof n&&n(),e?e._component:null},hydrate:function(e,t,n){return on(e,t),"function"==typeof n&&n(),e?e._component:null},unmountComponentAtNode:function(e){return!!e._children&&(rn(null,e),!0)},createPortal:function(e,t){return $t(Ar,{_vnode:e,_container:t})},createElement:$t,createContext:function(e,t){var n={__c:t="__cC"+Ct++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(Ht)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n},createFactory:function(e){return $t.bind(null,e)},cloneElement:function(e){return Gr(e)?ln.apply(null,arguments):e},createRef:function(){return{current:null}},Fragment:jt,isValidElement:Gr,findDOMNode:function(e){return e&&(e.base||1===e.nodeType&&e)||null},Component:qt,PureComponent:vr,memo:function(e,t){function n(e){let n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:gr(this.props,e)}function r(t){return this.shouldComponentUpdate=n,$t(e,t)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r._forwarded=!0,r},forwardRef:function(e){function t(t,n){let r=yr({},t);return delete r.ref,n=t.ref||n,e(r,!n||"object"==typeof n&&!("current"in n)?null:n)}return t.$$typeof=br,t.render=t,t.prototype.isReactComponent=t._forwarded=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t},flushSync:(e,t)=>e(t),unstable_batchedUpdates:Vr,StrictMode:jt,Suspense:Or,SuspenseList:Cr,lazy:function(e){let t,n,r;function o(o){if(t||(t=e(),t.then((e=>{n=e.default||e}),(e=>{r=e}))),r)throw r;if(!n)throw t;return $t(n,o)}return o.displayName="Lazy",o._forwarded=!0,o},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:{current:{readContext:e=>Hr._globalContext[e._id].props.value}}}};function Yr(){}function Zr(){}Zr.resetWarningCache=Yr;!function(){function e(e,t,n,r,o,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Zr,resetWarningCache:Yr};n.PropTypes=n}();var Xr=Kr.createContext(null);var Jr=function(e){e()},Qr=function(){return Jr},eo={notify:function(){}};var to=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=eo,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function(){var e=Qr(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,o=n={callback:e,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=eo)},e}();function no(e){var t=e.store,n=e.context,r=e.children,o=sr((function(){var e=new to(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),i=sr((function(){return t.getState()}),[t]);lr((function(){var e=o.subscription;return e.trySubscribe(),i!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,i]);var l=n||Xr;return Kr.createElement(l.Provider,{value:o},r)}function ro(){return(ro=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function oo(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var io={exports:{}},lo={},uo="function"==typeof Symbol&&Symbol.for,ao=uo?Symbol.for("react.element"):60103,so=uo?Symbol.for("react.portal"):60106,co=uo?Symbol.for("react.fragment"):60107,po=uo?Symbol.for("react.strict_mode"):60108,fo=uo?Symbol.for("react.profiler"):60114,ho=uo?Symbol.for("react.provider"):60109,_o=uo?Symbol.for("react.context"):60110,mo=uo?Symbol.for("react.async_mode"):60111,yo=uo?Symbol.for("react.concurrent_mode"):60111,go=uo?Symbol.for("react.forward_ref"):60112,vo=uo?Symbol.for("react.suspense"):60113,wo=uo?Symbol.for("react.suspense_list"):60120,bo=uo?Symbol.for("react.memo"):60115,xo=uo?Symbol.for("react.lazy"):60116,So=uo?Symbol.for("react.block"):60121,Po=uo?Symbol.for("react.fundamental"):60117,Eo=uo?Symbol.for("react.responder"):60118,ko=uo?Symbol.for("react.scope"):60119;function To(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case ao:switch(e=e.type){case mo:case yo:case co:case fo:case po:case vo:return e;default:switch(e=e&&e.$$typeof){case _o:case go:case xo:case bo:case ho:return e;default:return t}}case so:return t}}}function Oo(e){return To(e)===yo}lo.AsyncMode=mo,lo.ConcurrentMode=yo,lo.ContextConsumer=_o,lo.ContextProvider=ho,lo.Element=ao,lo.ForwardRef=go,lo.Fragment=co,lo.Lazy=xo,lo.Memo=bo,lo.Portal=so,lo.Profiler=fo,lo.StrictMode=po,lo.Suspense=vo,lo.isAsyncMode=function(e){return Oo(e)||To(e)===mo},lo.isConcurrentMode=Oo,lo.isContextConsumer=function(e){return To(e)===_o},lo.isContextProvider=function(e){return To(e)===ho},lo.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===ao},lo.isForwardRef=function(e){return To(e)===go},lo.isFragment=function(e){return To(e)===co},lo.isLazy=function(e){return To(e)===xo},lo.isMemo=function(e){return To(e)===bo},lo.isPortal=function(e){return To(e)===so},lo.isProfiler=function(e){return To(e)===fo},lo.isStrictMode=function(e){return To(e)===po},lo.isSuspense=function(e){return To(e)===vo},lo.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===co||e===yo||e===fo||e===po||e===vo||e===wo||"object"==typeof e&&null!==e&&(e.$$typeof===xo||e.$$typeof===bo||e.$$typeof===ho||e.$$typeof===_o||e.$$typeof===go||e.$$typeof===Po||e.$$typeof===Eo||e.$$typeof===ko||e.$$typeof===So)},lo.typeOf=To,io.exports=lo;var Mo=io.exports,Co={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},No={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Do={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ao={};function Wo(e){return Mo.isMemo(e)?Do:Ao[e.$$typeof]||Co}Ao[Mo.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ao[Mo.Memo]=Do;var Ro=Object.defineProperty,$o=Object.getOwnPropertyNames,Lo=Object.getOwnPropertySymbols,jo=Object.getOwnPropertyDescriptor,qo=Object.getPrototypeOf,Uo=Object.prototype;var Io=function e(t,n,r){if("string"!=typeof n){if(Uo){var o=qo(n);o&&o!==Uo&&e(t,o,r)}var i=$o(n);Lo&&(i=i.concat(Lo(n)));for(var l=Wo(t),u=Wo(n),a=0;a<i.length;++a){var s=i[a];if(!(No[s]||r&&r[s]||u&&u[s]||l&&l[s])){var c=jo(n,s);try{Ro(t,s,c)}catch(e){}}}}return t},Ho="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?ur:lr,Fo=[],zo=[null,null];function Bo(e,t){var n=e[1];return[t.payload,n+1]}function Go(e,t,n){Ho((function(){return e.apply(void 0,t)}),n)}function Vo(e,t,n,r,o,i,l){e.current=r,t.current=o,n.current=!1,i.current&&(i.current=null,l())}function Ko(e,t,n,r,o,i,l,u,a,s){if(e){var c=!1,p=null,d=function(){if(!c){var e,n,d=t.getState();try{e=r(d,o.current)}catch(e){n=e,p=e}n||(p=null),e===i.current?l.current||a():(i.current=e,u.current=e,l.current=!0,s({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=d,n.trySubscribe(),d();return function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,p)throw p}}}var Yo=function(){return[null,0]};function Zo(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,o=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,i=n.methodName,l=void 0===i?"connectAdvanced":i,u=n.renderCountProp,a=void 0===u?void 0:u,s=n.shouldHandleStateChanges,c=void 0===s||s,p=n.storeKey,d=void 0===p?"store":p;n.withRef;var f=n.forwardRef,h=void 0!==f&&f,_=n.context,m=void 0===_?Xr:_,y=oo(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),g=m;return function(t){var n=t.displayName||t.name||"Component",r=o(n),i=ro({},y,{getDisplayName:o,methodName:l,renderCountProp:a,shouldHandleStateChanges:c,storeKey:d,displayName:r,wrappedComponentName:n,WrappedComponent:t}),u=y.pure;var s=u?sr:function(e){return e()};function p(n){var r=sr((function(){var e=n.reactReduxForwardedRef,t=oo(n,["reactReduxForwardedRef"]);return[n.context,e,t]}),[n]),o=r[0],l=r[1],u=r[2],a=sr((function(){return o&&o.Consumer&&io.exports.isContextConsumer(Kr.createElement(o.Consumer,null))?o:g}),[o,g]),p=cr(a),d=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(p)&&Boolean(p.store);var f=d?n.store:p.store,h=sr((function(){return function(t){return e(t.dispatch,i)}(f)}),[f]),_=sr((function(){if(!c)return zo;var e=new to(f,d?null:p.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[f,d,p]),m=_[0],y=_[1],v=sr((function(){return d?p:ro({},p,{subscription:m})}),[d,p,m]),w=ir(Bo,Fo,Yo),b=w[0][0],x=w[1];if(b&&b.error)throw b.error;var S=ar(),P=ar(u),E=ar(),k=ar(!1),T=s((function(){return E.current&&u===P.current?E.current:h(f.getState(),u)}),[f,b,u]);Go(Vo,[P,S,k,u,T,E,y]),Go(Ko,[c,f,m,h,P,S,k,E,y,x],[f,m,h]);var O=sr((function(){return Kr.createElement(t,ro({},T,{ref:l}))}),[l,t,T]);return sr((function(){return c?Kr.createElement(a.Provider,{value:v},O):O}),[a,O,v])}var f=u?Kr.memo(p):p;if(f.WrappedComponent=t,f.displayName=r,h){var _=Kr.forwardRef((function(e,t){return Kr.createElement(f,ro({},e,{reactReduxForwardedRef:t}))}));return _.displayName=r,_.WrappedComponent=t,Io(_,t)}return Io(f,t)}}function Xo(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function Jo(e,t){if(Xo(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!Xo(e[n[o]],t[n[o]]))return!1;return!0}function Qo(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function ei(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function ti(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=ei(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=ei(o),o=r(t,n)),o},r}}var ni=[function(e){return"function"==typeof e?ti(e):void 0},function(e){return e?void 0:Qo((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?Qo((function(t){return function(e,t){if("function"==typeof e)return Ve(e,t);if("object"!=typeof e||null===e)throw new Error(Ie(16));var n={};for(var r in e){var o=e[r];"function"==typeof o&&(n[r]=Ve(o,t))}return n}(e,t)})):void 0}];var ri=[function(e){return"function"==typeof e?ti(e):void 0},function(e){return e?void 0:Qo((function(){return{}}))}];function oi(e,t,n){return ro({},n,e,t)}var ii=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,l=!1;return function(t,n,u){var a=e(t,n,u);return l?o&&i(a,r)||(r=a):(l=!0,r=a),r}}}(e):void 0},function(e){return e?void 0:function(){return oi}}];function li(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function ui(e,t,n,r,o){var i,l,u,a,s,c=o.areStatesEqual,p=o.areOwnPropsEqual,d=o.areStatePropsEqual,f=!1;function h(o,f){var h,_,m=!p(f,l),y=!c(o,i);return i=o,l=f,m&&y?(u=e(i,l),t.dependsOnOwnProps&&(a=t(r,l)),s=n(u,a,l)):m?(e.dependsOnOwnProps&&(u=e(i,l)),t.dependsOnOwnProps&&(a=t(r,l)),s=n(u,a,l)):y?(h=e(i,l),_=!d(h,u),u=h,_&&(s=n(u,a,l)),s):s}return function(o,c){return f?h(o,c):(u=e(i=o,l=c),a=t(r,l),s=n(u,a,l),f=!0,s)}}function ai(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=oo(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),l=n(e,i),u=r(e,i),a=o(e,i);return(i.pure?ui:li)(l,u,a,e,i)}function si(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function ci(e,t){return e===t}function pi(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?Zo:n,o=t.mapStateToPropsFactories,i=void 0===o?ri:o,l=t.mapDispatchToPropsFactories,u=void 0===l?ni:l,a=t.mergePropsFactories,s=void 0===a?ii:a,c=t.selectorFactory,p=void 0===c?ai:c;return function(e,t,n,o){void 0===o&&(o={});var l=o,a=l.pure,c=void 0===a||a,d=l.areStatesEqual,f=void 0===d?ci:d,h=l.areOwnPropsEqual,_=void 0===h?Jo:h,m=l.areStatePropsEqual,y=void 0===m?Jo:m,g=l.areMergedPropsEqual,v=void 0===g?Jo:g,w=oo(l,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),b=si(e,i,"mapStateToProps"),x=si(t,u,"mapDispatchToProps"),S=si(n,s,"mergeProps");return r(p,ro({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:b,initMapDispatchToProps:x,initMergeProps:S,pure:c,areStatesEqual:f,areOwnPropsEqual:_,areStatePropsEqual:y,areMergedPropsEqual:v},w))}}var di=pi();Jr=Vr;const fi=W.require("rootScope"),hi=e=>({setYPointer:t=>{e((e=>({type:y,payload:e}))(t))}});const _i=di((function(e){if(Ee(e))return{isLoading:!0};const t=pn(e),n=bn(e);let r;if(De(e)){const o=xn(e)+3,i=Sn(e),{dry:l,moist:u,isohume:a,elevThermalTop:s,pThermalTop:c,pCloudTop:p}=function(e,t,n,r,o){const i={},l=[],u=[],a=[],s=[],c=tt(nt(o),r),p=U(e.level,e.gh),d=p(r),f=Math.max(d,e.gh[e.gh.length-1]),h=(f-d)/t;for(let e=d;e<=f;e+=h){const t=p.invert(e),o=et(t,n,r),i=it(ot(t,c));l.push(e),u.push(t),a.push(o),s.push(i)}const _=$(l,a,l,s);let m=$(l,a,e.gh,e.temp);if(!m)return null;if(_[0]<m[0]){m=_;const t=p.invert(_[0]),n=[],r=[],o=[];let l=_[1],a=t;for(let e=_[0];e<f+h;e+=h){const t=p.invert(e);l+=(t-a)*rt(t,l),a=t,n.push(e),r.push(t),o.push(l)}const c=j(s,u).filter((e=>e[1]>t));c.push([_[1],t]);let d=j(o,r);const y=$(n,o,e.gh,e.temp);if(i.pCloudTop=e.level[e.level.length-1],y){const e=p.invert(y[0]);d=d.filter((t=>t[1]>=e)),d.push([y[1],e]),i.pCloudTop=e}i.moist=d,i.isohume=c}const y=p.invert(m[0]),g=j(a,u).filter((e=>e[1]>y));return g.push([m[1],y]),i.dry=g,i.pThermalTop=y,i.elevThermalTop=m[0],i}(t,40,o,n,i)||{};r={trajectory:l.concat(u||[]),isohume:a,elevThermalTop:s,pThermalTop:c,pCloudTop:p}}return{isLoading:!1,params:t,pMax:sn(e),cloudCover:Pe(e),pSfc:n,parcel:r,formatAltitude:ge(e),formatTemp:ye(e),tAxisToPx:mn(e),pToPx:yn(e),pAxisToPx:vn(e),line:wn(e),tMetric:se(e),tAxisStep:En(e),ghMetric:ce(e),ghAxisStep:Pn(e),zoom:_e(e),skew:hn(e),yPointer:me(e)}}),hi)(class extends Nn{constructor(e){super(e)}render(e){let{isLoading:t,params:n,pMax:r,width:o,height:i,cloudCover:l,pSfc:u,parcel:a,formatAltitude:s,formatTemp:c,tAxisToPx:p,pToPx:d,pAxisToPx:f,line:h,tMetric:_,tAxisStep:m,ghMetric:y,ghAxisStep:g,zoom:v,skew:w,yPointer:b,setYPointer:x}=e;if(t)return;const S=d(u);let P=0,E=0;return null!=b&&(P=R(n.level,n.temp,[d.invert(b)])[0],E=R(n.level,n.dewpoint,[d.invert(b)])[0]),$t("svg",{width:o,height:i+20},$t("defs",null,$t("pattern",{id:"diag-hatch",patternUnits:"userSpaceOnUse",width:"8",height:"8",patternTransform:"rotate(45 2 2)"},$t("rect",{width:"8",height:"8",fill:"#f8f8f8",opacity:"0.7"}),$t("path",{d:"M 0,-1 L 0,11",stroke:"gray","stroke-width":"1"})),$t("filter",{id:"whiteOutlineEffect","color-interpolation-filters":"sRGB"},$t("feMorphology",{in:"SourceAlpha",result:"MORPH",operator:"dilate",radius:"2"}),$t("feColorMatrix",{in:"MORPH",result:"WHITENED",type:"matrix",values:"-1 0 0 0 1, 0 -1 0 0 1, 0 0 -1 0 1, 0 0 0 1 0"}),$t("feMerge",null,$t("feMergeNode",{in:"WHITENED"}),$t("feMergeNode",{in:"SourceGraphic"})))),$t("g",{class:"chart skewt",onPointerLeave:()=>x(null),onPointerMove:e=>x(e.offsetY)},$t("rect",{width:o,height:i,fill:"white",opacity:"0.1"}),$t("g",{class:"axis"},[-20,-10,0,10,20,30,40,50,60,70,80].map((e=>$t(jn,{temp:e+273.15,pressure:r,height:i,pToPx:d,line:h}))),[-20,-10,0,5,10,15,20,25,30,35].map((e=>$t(qn,{temp:e+273.15,pressure:r,height:i,pToPx:d,line:h}))),[-20,-15,-10,-5,0,5,10,15,20].map((e=>$t(Un,{temp:e+273.15,pressure:r,height:i,pToPx:d,line:h}))),[-70,-60,-50,-40,-30,-20,-10,0,10,20,30,40].map((e=>$t(In,{temp:e+273.15,height:i,pToPx:d,line:h}))),a&&$t($n,{parcel:a,width:o,height:i,line:h,pToPx:d,formatAltitude:s}),$t(Hn,{width:o,height:i,tAxisToPx:p,step:m,metric:_}),$t(zn,{width:o,height:i,cloudCover:l,pToPx:d,pSfc:u,highClouds:v}),$t(Fn,{width:o,pAxisToPx:f,step:g,metric:y})),$t("path",{class:"line temperature",d:h(j(n.temp,n.level))}),$t("path",{class:"line dewpoint",d:h(j(n.dewpoint,n.level))}),$t("rect",{class:"surface",y:S,width:o,height:i-S+1}),null!=b&&b<S?$t("g",null,$t("text",{class:"tick","text-anchor":"end",style:"fill: black;","dominant-baseline":"hanging",x:o-7,y:b+4,filter:"url(#whiteOutlineEffect)"},100*Math.round(f.invert(b)/100)),$t("text",{class:"tick",style:"fill: red;","dominant-baseline":"hanging",x:p(P-273.15)+w*(i-b)+10,y:b+4,filter:"url(#whiteOutlineEffect)"},c(P)),$t("text",{class:"tick",style:"fill: steelblue;","dominant-baseline":"hanging",x:p(E-273.15)+w*(i-b)+10,y:b+4,filter:"url(#whiteOutlineEffect)"},c(E)),$t("line",{y1:b,y2:b,x2:o,class:"boundary"})):null,$t("rect",{class:"border",height:i,width:o})))}}),mi=di((e=>Ee(e)?{isLoading:!0}:{isLoading:!1,params:pn(e),windSpeedMax:Tn(e),format:ve(e),metric:pe(e),pSfc:bn(e),pToPx:yn(e),speedToPx:On(e),line:Mn(e),zoom:_e(e),yPointer:me(e)}),hi)(class extends Nn{constructor(e){super(e)}render(e){let{isLoading:t,params:n,width:r,height:o,windSpeedMax:i,metric:l,format:u,pSfc:a,pToPx:s,speedToPx:c,line:p,zoom:d,yPointer:f,setYPointer:h}=e;if(t)return;const _=s(a);let m=0;return null!=f&&(m=R(n.level,n.windSpeed,[s.invert(f)])[0]),$t("g",{class:"chart wind",onPointerLeave:()=>h(null),onPointerMove:e=>h(e.offsetY)},$t("defs",null,$t("filter",{id:"whiteOutlineEffect","color-interpolation-filters":"sRGB"},$t("feMorphology",{in:"SourceAlpha",result:"MORPH",operator:"dilate",radius:"2"}),$t("feColorMatrix",{in:"MORPH",result:"WHITENED",type:"matrix",values:"-1 0 0 0 1, 0 -1 0 0 1, 0 0 -1 0 1, 0 0 0 1 0"}),$t("feMerge",null,$t("feMergeNode",{in:"WHITENED"}),$t("feMergeNode",{in:"SourceGraphic"})))),$t("path",{class:"line wind",d:p(j(n.windSpeed,n.level))}),$t(Gn,{speedToPx:c,width:r,height:o,maxSpeed:i,metric:l,format:u,zoom:d}),$t("g",{transform:`translate(${r/2}, 0)`},n.level.map(((e,t)=>e<=a?$t(Vn,{direction:n.windDir[t],speed:n.windSpeed[t],y:s(e)}):null))),$t("rect",{class:"surface",y:_,width:r,height:o-_+1}),null!=f&&f<_?$t("g",null,$t("text",{class:"tick","text-anchor":"end","dominant-baseline":"hanging",x:r-5,y:f+4,filter:"url(#whiteOutlineEffect)"},u(m)),$t("line",{id:"wind-hint-line",y1:f,y2:f,x2:r,class:"boundary"})):null,$t("rect",{class:"border",height:o,width:r}))}}),yi=di((e=>({favorites:de(e),location:we(e),isMobile:fi.isMobile||fi.isTablet})))(class extends Nn{render(e){let{favorites:t,location:n,isMobile:r,onSelected:o}=e;if(t.sort(((e,t)=>Wn(e)>Wn(t)?1:-1)),r){const e=An.get("product"),r=An.get("visibleProducts").filter((e=>b.some((t=>e.startsWith(t)&&!e.endsWith("Waves")))));return r.sort(),$t("div",{style:"display: flex; justify-content: space-between; margin-bottom: 3px"},$t("select",{id:"wsp-select-fav",onChange:e=>function(e,t){if(e.target.value){const[n,r]=e.target.value.split("#").map((e=>Number(e)));t({lat:n,lon:r},e)}}(e,o)},$t("option",null,"Pick a favorite"),t.map((e=>$t("option",{value:`${e.lat}#${e.lon}`,selected:Dn.latLon2str(e)==n},Wn(e))))),$t("select",{id:"wsp-select-model",onChange:e=>xt().dispatch(P(e.target.value))},r.map((t=>$t("option",{value:t,selected:t==e},t)))))}return 0==t.length?$t("div",{id:"fly-to",class:"size-s"},$t("span",{"data-icon":"m"},"Add favorites to enable fly to.")):$t("div",{id:"fly-to",class:"size-s"},t.map((e=>$t("span",{class:"location"+(Dn.latLon2str(e)==n?" selected":""),onClick:t=>o(e,t)},Wn(e)))))}});function gi(e){return new Date(e).toLocaleString([],{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}const vi=di((e=>Ee(e)?{isLoading:!0}:{isLoading:!1,modelName:ue(e),updated:Te(e),nextUpdate:Oe(e)}))((e=>{let{isLoading:t,modelName:n,updated:r,nextUpdate:o}=e;if(t)return;const i=gi(r),l=gi(o);return $t("p",{class:"model"},"Model ",$t("strong",null,n.toUpperCase())," (",i,"). Next update on ",l,".")})),wi=di((e=>{const t=fe(e),n=(e=>e.plugin.height)(e),r={centerMap:Ae(e),wheelHandler:()=>null,title:()=>$t("p",{class:"model"},"Loading..."),chart:()=>$t(Rn,{cx:t/2,cy:n/2}),width:t,height:n,graphHeight:he(e),skewTWidth:an(e),windgramWidth:kn(e),zoom:_e(e)};if(Ee(e))return r;return pn(e)?{...r,title:()=>$t(vi,null),chart:e=>{let{skewTWidth:t,windgramWidth:n,height:r}=e;return $t("g",null,$t(_i,{width:t,height:r}),$t("g",{transform:`translate(${t+5}, 0)`},$t(mi,{width:n,height:r})))},wheelHandler:$e(e)}:{...r,title:()=>$t("p",{class:"model"},"Forecast not available"),chart:()=>$t("text",{x:"50%",y:"50%","text-anchor":"middle"},"Forecast not available")}}),(e=>({onFavSelected:t=>n=>{let{lat:r,lon:o}=n;e(S(r,o)),t(r,o)},onZoomClick:()=>{e({type:w})}})))((e=>{let{title:t,chart:n,centerMap:r,onFavSelected:o,wheelHandler:i,width:l,height:u,zoom:a,onZoomClick:s,graphHeight:c,skewTWidth:p,windgramWidth:d}=e;return $t("div",null,t(),$t("img",{class:"wsp-abs",src:"https://logs-01.loggly.com/inputs/8298f665-7a6e-44e6-926f-4795243b5e4b.gif?source=pixel",width:"1",height:"1"}),$t("div",{style:"position:relative"},$t("svg",{width:l,height:u,onWheel:i},n({height:c,skewTWidth:p,windgramWidth:d})),$t("div",{id:"wsp-zoom",class:"iconfont clickable-size",onClick:s},a?"":"")),$t(yi,{onSelected:o(r)}))}));const bi=W.require("map").map||W.require("map"),xi=W.require("rootScope"),Si=W.require("utils"),Pi=W.require("favs");W.loadPlugin({name:"windy-plugin-sounding",version:"1.5.1",author:"Victor Berchet",repository:{type:"git",url:"git+https://github.com/vicb/windy-plugin-sounding"},description:"Soundings for paraglider pilots.",displayName:"Better Sounding",hook:"contextmenu",className:"plugin-lhpane",classNameMobile:"window",exclusive:"lhpane",attachPointMobile:"#plugins"},'<div class="plugin-content"><div class="title">Sounding forecast</div><div id="bsounding-chart"></div></div>',"@media only screen and (min-device-width:736px){.onwindy-plugin-sounding .left-border{left:550px}}.onwindy-plugin-sounding #search{display:none}#windy-plugin-sounding{font-size:12px;padding:1em 1em;line-height:2;z-index:100;height:100%;width:550px}#windy-plugin-sounding .title{margin:0 0 .3em .6em;font-size:16px}@media screen and (max-device-width:1024px){#windy-plugin-sounding{display:block;left:0;top:0;right:0;width:100%;height:auto;margin:0}#windy-plugin-sounding .plugin-content{bottom:auto}#windy-plugin-sounding .title{margin:0 0 2px 5px;font-size:16px}#windy-plugin-sounding p.model{display:none}}#windy-plugin-sounding .closing-x{display:block}#windy-plugin-sounding .wsp-abs{position:absolute}#windy-plugin-sounding #wsp-zoom{position:absolute;top:5px;left:60px;font-size:25px;user-select:none;color:#9d0300}#windy-plugin-sounding select{font-size:1rem}#windy-plugin-sounding .axis line,#windy-plugin-sounding .axis path{fill:none;stroke:#000}#windy-plugin-sounding .axis .light{stroke-width:.2}#windy-plugin-sounding #bsounding-chart{padding:0 5px}#windy-plugin-sounding #bsounding-chart svg{touch-action:none}#windy-plugin-sounding #bsounding-chart p.model{margin:0}#windy-plugin-sounding #bsounding-chart .chart .border{fill:none;stroke:gray;stroke-width:1}#windy-plugin-sounding #bsounding-chart .cumulus{stroke:#030104;stroke-width:2px;fill:ivory}#windy-plugin-sounding #bsounding-chart .line{pointer-events:none;stroke-width:3;fill:none;stroke-linejoin:round}#windy-plugin-sounding #bsounding-chart .line.dewpoint{stroke:#4682b4}#windy-plugin-sounding #bsounding-chart .line.temperature{stroke:red}#windy-plugin-sounding #bsounding-chart .line.wind{stroke:purple}#windy-plugin-sounding #bsounding-chart line.boundary{stroke-width:1;stroke-dasharray:8;stroke:gray}#windy-plugin-sounding #bsounding-chart .moist{fill:none;stroke:green;stroke-width:.3;stroke-dasharray:4 6}#windy-plugin-sounding #bsounding-chart .dry{fill:none;stroke:green;stroke-width:.3}#windy-plugin-sounding #bsounding-chart .isohume{fill:none;stroke:#00f;stroke-width:.3;stroke-dasharray:4 6}#windy-plugin-sounding #bsounding-chart .isotherm{stroke:#8b0000;stroke-width:.3}#windy-plugin-sounding #bsounding-chart .isotherm.zero{stroke-width:1}#windy-plugin-sounding #bsounding-chart .parcel{stroke-width:3;fill:none;stroke-linejoin:round}#windy-plugin-sounding #bsounding-chart .parcel.trajectory{stroke:#599c00}#windy-plugin-sounding #bsounding-chart .parcel.isohume{stroke-width:1;stroke:gray;stroke-dasharray:4}#windy-plugin-sounding #bsounding-chart text.tick{font-size:12px;font-family:sans-serif;fill:#000}#windy-plugin-sounding #bsounding-chart .surface{fill:#8f6d4d}#windy-plugin-sounding #fly-to{padding:0 15px 0 8px}#windy-plugin-sounding #fly-to .location{border:1px solid #bbb;border-radius:1em;line-height:1em;padding:.3em .6em;user-select:none;display:inline-block;margin-right:.3em;cursor:pointer}#windy-plugin-sounding #fly-to .selected{background-color:#d49500;border-color:#d49500;color:#fff}",(function(){const e=W.require("utils").$||W.require("$"),t=W.require("picker"),n=W.require("store"),r=xt(),o=e("#bsounding-chart");if(rn($t(no,{store:r},$t(wi,null)),o),xi.isMobileOrTablet){const e=document.querySelector("#windy-plugin-sounding"),t=e.classList;t.remove("plugin-lhpane"),t.add("window"),Si.loadScript("https://unpkg.com/swipe-listener@1.3.0/dist/swipe-listener.min.js").then((()=>{SwipeListener(e,{minHorizontal:e.offsetWidth/6,mouse:!1}),e.addEventListener("swipe",(e=>{const{right:t,left:n}=e.detail.directions,r=n?-1:t?1:0;We(xt().getState())({direction:r,changeDay:!0})}))})).catch((e=>console.error(e)))}this.onopen=e=>{let o,i;if(e)o=e.lat,i=e.lon;else{const e=this.query||{};if(null==e.lat||null==e.lon){const e=bi.getCenter();o=e.lat,i=e.lng}else o=Number(e.lat),i=Number(e.lon)}if(!r.getState().plugin.active){bi.setZoom(10,{animate:!1}),n.set("overlay","clouds");const e=n.on("timestamp",(()=>{r.dispatch(E(n.get("timestamp")))}));r.dispatch(k((()=>n.off(e))));const o=n.on("product",(()=>{r.dispatch(P(n.get("product")))}));r.dispatch(k((()=>n.off(o))));const i=t.on("pickerOpened",(e=>{let{lat:t,lon:n}=e;r.dispatch(S(t,n))}));r.dispatch(k((()=>t.off(i))));const l=t.on("pickerMoved",(e=>{let{lat:t,lon:n}=e;r.dispatch(S(t,n))}));r.dispatch(k((()=>t.off(l))));const u=Pi.on("favsChanged",(()=>{r.dispatch(x(Pi.getArray()))}));r.dispatch(k((()=>Pi.off(u)))),r.dispatch(x(Pi.getArray())),r.dispatch(O(!0))}St(),r.dispatch(S(o,i)),r.dispatch(P(n.get("product"))),r.dispatch(E(n.get("timestamp"))),Ae(r.getState())(o,i),this.node.oncontextmenu=this.node.ondblclick=this.node.onclick=e=>e.stopPropagation()},this.onclose=()=>{r.dispatch(T()),r.dispatch({type:c}),r.dispatch(O(!1))}}))}();
