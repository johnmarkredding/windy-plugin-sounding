(function(){'use strict';var Qe=Math.log10,Xe=Math.round,Je=Math.pow,et=Math.exp,tt=Math.log,nt=Math.sign,ot=Math.min,it=Math.max;function e(e){return{type:ct,payload:{cb:e}}}function t(e,t,n){if(!e)return!0;const o=rt.latLon2str({lat:t,lon:n}),i=e[o];if(!i)return!0;if(i.isLoading)return!1;const r=Date.now();return r>i.nextUpdate&&r-i.loaded>60000}function n(){return(e,n)=>{const o=n(),{lat:i,lon:r,modelName:a}=o.plugin;if(null!=i&&null!=r&&null!=a&&t(n().models[a],i,r)){e(Ft(i,r,a));const t={model:a,lat:i,lon:r};Promise.all([at("airData",t),at("forecast",t)]).then(t=>{let[n,o]=t;e(zt(i,r,a,n.data,o.data))})}}}function o(e,t){return e===t}function i(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var o=t.length,r=0;r<o;r++)if(!e(t[r],n[r]))return!1;return!0}function r(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function a(e,t,n,o,i){if(e==n)return t;const r=(i-e)/(n-e);return Array.isArray(t)?t.map((e,t)=>e*(1-r)+o[t]*r):t*(1-r)+o*r}function s(e,t,n){const o=e[0]>e[1];return n.map(n=>{let i=e.findIndex(e=>o?e<=n:e>=n);return-1==i?i=e.length-1:0==i&&(i=1),a(e[i-1],t[i-1],e[i],t[i],n)})}function d(e,t,n,o){const i=it(e[0],n[0]),r=ot(e[e.length-1],n[n.length-1]),a=Array.from(new Set([...e,...n])).filter(e=>e>=i&&e<=r).sort((e,t)=>+e>+t?1:-1),d=s(e,t,a),p=s(n,o,a);for(let i=0;i<a.length-1;i++){const e=d[i],t=p[i],n=a[i];if(e==t)return[n,e];const o=d[i+1],r=p[i+1];if(nt(t-e)!=nt(r-o)){const s=a[i+1],d=s-n,p=(o-e)/d,l=(t-e)/(p-(r-t)/d);return[n+l,e+l*p]}}return null}function p(e,t){return e.map((e,n)=>[e,t[n]])}function l(e,t){const n=n=>s(e,t,[n])[0];return n.invert=n=>s(t,e,[n])[0],n}function c(e,t){e=e.map(Math.log);const n=n=>s(e,t,[tt(n)])[0];return n.invert=n=>et(s(t,e,[n])[0]),n}function u(e,t){return n=>{const o=n.map(n=>e(n).toFixed(1)+","+t(n).toFixed(1));return"M"+o.join("L")}}function m(e,t){var n,o,r,a,s=Dn;for(a=arguments.length;2<a--;)On.push(arguments[a]);for(t&&null!=t.children&&(!On.length&&On.push(t.children),delete t.children);On.length;)if((o=On.pop())&&void 0!==o.pop)for(a=o.length;a--;)On.push(o[a]);else"boolean"==typeof o&&(o=null),(r="function"!=typeof e)&&(null==o?o="":"number"==typeof o?o+="":"string"!=typeof o&&(r=!1)),r&&n?s[s.length-1]+=o:s===Dn?s=[o]:s.push(o),n=r;var d=new Mn;return d.nodeName=e,d.children=s,d.attributes=null==t?void 0:t,d.key=null==t?void 0:t.key,d}function h(e,t){for(var n in t)e[n]=t[n];return e}function y(e,t){e&&("function"==typeof e?e(t):e.current=t)}function f(e){!e._dirty&&(e._dirty=!0)&&1==In.push(e)&&An(x)}function x(){for(var e;e=In.pop();)e._dirty&&U(e)}function w(e,t,n){return"string"==typeof t||"number"==typeof t?void 0!==e.splitText:"string"==typeof t.nodeName?!e._componentConstructor&&b(e,t.nodeName):n||e._componentConstructor===t.nodeName}function b(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function v(e){var t=h({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(n!==void 0)for(var o in n)void 0===t[o]&&(t[o]=n[o]);return t}function _(e,t){var n=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n.normalizedNodeName=e,n}function P(e){var t=e.parentNode;t&&t.removeChild(e)}function k(e,t,n,o,r){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)y(n,null),y(o,e);else if("class"===t&&!r)e.className=o||"";else if("style"===t){if(o&&"string"!=typeof o&&"string"!=typeof n||(e.style.cssText=o||""),o&&"object"==typeof o){if("string"!=typeof n)for(var a in n)a in o||(e.style[a]="");for(var a in o)e.style[a]="number"==typeof o[a]&&!1===Ln.test(a)?o[a]+"px":o[a]}}else if("dangerouslySetInnerHTML"===t)o&&(e.innerHTML=o.__html||"");else if("o"==t[0]&&"n"==t[1]){var s=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),o?!n&&e.addEventListener(t,S,s):e.removeEventListener(t,S,s),(e._listeners||(e._listeners={}))[t]=o}else if("list"!==t&&"type"!==t&&!r&&t in e){try{e[t]=null==o?"":o}catch(t){}(null==o||!1===o)&&"spellcheck"!=t&&e.removeAttribute(t)}else{var d=r&&t!==(t=t.replace(/^xlink:?/,""));null==o||!1===o?d?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof o&&(d?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),o):e.setAttribute(t,o))}}function S(t){return this._listeners[t.type](t)}function T(){for(var e;e=Rn.shift();)e.componentDidMount&&e.componentDidMount()}function C(e,t,n,o,i,r){Un++||(qn=null!=i&&void 0!==i.ownerSVGElement,Wn=null!=e&&!("__preactattr_"in e));var a=E(e,t,n,o,r);return i&&a.parentNode!==i&&i.appendChild(a),--Un||(Wn=!1,!r&&T()),a}function E(e,t,n,o,r){var s=e,d=qn;if((null==t||"boolean"==typeof t)&&(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||r)?e.nodeValue!=t&&(e.nodeValue=t):(s=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(s,e),N(e,!0))),s.__preactattr_=!0,s;var p=t.nodeName;if("function"==typeof p)return q(e,t,n,o);if(qn="svg"===p||"foreignObject"!==p&&qn,p+="",(!e||!b(e,p))&&(s=_(p,qn),e)){for(;e.firstChild;)s.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(s,e),N(e,!0)}var l=s.firstChild,c=s.__preactattr_,u=t.children;if(null==c){c=s.__preactattr_={};for(var h=s.attributes,a=h.length;a--;)c[h[a].name]=h[a].value}return!Wn&&u&&1===u.length&&"string"==typeof u[0]&&null!=l&&void 0!==l.splitText&&null==l.nextSibling?l.nodeValue!=u[0]&&(l.nodeValue=u[0]):(u&&u.length||null!=l)&&M(s,u,n,o,Wn||null!=c.dangerouslySetInnerHTML),D(s,t.attributes,c),qn=d,s}function M(e,t,n,o,r){var a,s,d,p,l,u=e.childNodes,h=[],m={},g=0,y=0,x=u.length,b=0,v=t?t.length:0;if(0!==x)for(var _=0;_<x;_++){var k=u[_],S=k.__preactattr_,T=v&&S?k._component?k._component.__key:S.key:null;null==T?(S||(void 0===k.splitText?r:!r||k.nodeValue.trim()))&&(h[b++]=k):(g++,m[T]=k)}if(0!==v)for(var _=0;_<v;_++){p=t[_],l=null;var T=p.key;if(null!=T)g&&void 0!==m[T]&&(l=m[T],m[T]=void 0,g--);else if(y<b)for(a=y;a<b;a++)if(void 0!==h[a]&&w(s=h[a],p,r)){l=s,h[a]=void 0,a===b-1&&b--,a===y&&y++;break}l=E(l,p,n,o),d=u[_],l&&l!==e&&l!==d&&(null==d?e.appendChild(l):l===d.nextSibling?P(d):e.insertBefore(l,d))}if(g)for(var _ in m)void 0!==m[_]&&N(m[_],!1);for(;y<=b;)void 0!==(l=h[b--])&&N(l,!1)}function N(e,t){var n=e._component;n?j(n):(null!=e.__preactattr_&&y(e.__preactattr_.ref,null),(!1===t||null==e.__preactattr_)&&P(e),O(e))}function O(e){for(e=e.lastChild;e;){var t=e.previousSibling;N(e,!0),e=t}}function D(e,t,n){for(var o in n)t&&null!=t[o]||null==n[o]||k(e,o,n[o],n[o]=void 0,qn);for(o in t)"children"===o||"innerHTML"===o||o in n&&t[o]===("value"===o||"checked"===o?e[o]:n[o])||k(e,o,n[o],n[o]=t[o],qn)}function A(e,t,n){var o,r=jn.length;for(e.prototype&&e.prototype.render?(o=new e(t,n),F.call(o,t,n)):(o=new F(t,n),o.constructor=e,o.render=I);r--;)if(jn[r].constructor===e)return o.nextBase=jn[r].nextBase,jn.splice(r,1),o;return o}function I(e,t,n){return this.constructor(e,n)}function R(e,t,n,o,i){e._disable||(e._disable=!0,e.__ref=t.ref,e.__key=t.key,delete t.ref,delete t.key,"undefined"==typeof e.constructor.getDerivedStateFromProps&&(!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,o)),o&&o!==e.context&&(!e.prevContext&&(e.prevContext=e.context),e.context=o),!e.prevProps&&(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===Nn.syncComponentUpdates&&e.base?f(e):U(e,1,i)),y(e.__ref,e))}function U(e,n,o,i){if(!e._disable){var r,a,s,d=e.props,p=e.state,l=e.context,c=e.prevProps||d,u=e.prevState||p,m=e.prevContext||l,g=e.base,y=e.nextBase,f=g||y,x=e._component,w=!1,b=m;if(e.constructor.getDerivedStateFromProps&&(p=h(h({},p),e.constructor.getDerivedStateFromProps(d,p)),e.state=p),g&&(e.props=c,e.state=u,e.context=m,2!==n&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(d,p,l)?w=!0:e.componentWillUpdate&&e.componentWillUpdate(d,p,l),e.props=d,e.state=p,e.context=l),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!w){r=e.render(d,p,l),e.getChildContext&&(l=h(h({},l),e.getChildContext())),g&&e.getSnapshotBeforeUpdate&&(b=e.getSnapshotBeforeUpdate(c,u));var _,P,k=r&&r.nodeName;if("function"==typeof k){var S=v(r);a=x,a&&a.constructor===k&&S.key==a.__key?R(a,S,1,l,!1):(_=a,e._component=a=A(k,S,l),a.nextBase=a.nextBase||y,a._parentComponent=e,R(a,S,0,l,!1),U(a,1,o,!0)),P=a.base}else s=f,_=x,_&&(s=e._component=null),(f||1===n)&&(s&&(s._component=null),P=C(s,r,l,o||!g,f&&f.parentNode,!0));if(f&&P!==f&&a!==x){var E=f.parentNode;E&&P!==E&&(E.replaceChild(P,f),!_&&(f._component=null,N(f,!1)))}if(_&&j(_),e.base=P,P&&!i){for(var M=e,O=e;O=O._parentComponent;)(M=O).base=P;P._component=M,P._componentConstructor=M.constructor}}for(!g||o?Rn.push(e):!w&&e.componentDidUpdate&&e.componentDidUpdate(c,u,b);e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);Un||i||T()}}function q(e,t,n,o){for(var i=e&&e._component,r=i,a=e,s=i&&e._componentConstructor===t.nodeName,d=s,p=v(t);i&&!d&&(i=i._parentComponent);)d=i.constructor===t.nodeName;return i&&d&&(!o||i._component)?(R(i,p,3,n,o),e=i.base):(r&&!s&&(j(r),e=a=null),i=A(t.nodeName,p,n),e&&!i.nextBase&&(i.nextBase=e,a=null),R(i,p,1,n,o),e=i.base,a&&e!==a&&(a._component=null,N(a,!1))),e}function j(e){var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?j(n):t&&(null!=t.__preactattr_&&y(t.__preactattr_.ref,null),e.nextBase=t,P(t),jn.push(e),O(t)),y(e.__ref,null)}function F(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{},this._renderCallbacks=[]}function z(e,t,n){return C(n,e,{},!1,t,!1)}function H(e,t){function n(){this.constructor=e}zn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function G(e,t){var n=[],o=e,i=function(e){return 0|t(o,e)};return{register:function(e){n.push(e),e(o,i(o))},unregister:function(e){n=n.filter(function(t){return t!==e})},val:function(e){if(void 0===e||e==o)return o;var t=i(e);return o=e,n.forEach(function(n){return n(e,t)}),o}}}function B(e){var t=e.children,n=1===t.length?t[0]:null;return{child:n,children:t}}function V(e){var t=B(e).child;return t||"render"in e&&e.render}function K(e,t){var n="_preactContextProvider-"+$n++,o=function(e){function o(n){var o=e.call(this,n)||this;return o._emitter=G(n.value,t||Gn),o}return H(o,e),o.prototype.getChildContext=function(){var e;return e={},e[n]=this._emitter,e},o.prototype.componentDidUpdate=function(){this._emitter.val(this.props.value)},o.prototype.render=function(){var e=B(this.props),t=e.child,n=e.children;return t?t:m("span",null,n)},o}(F),i=function(t){function o(n,o){var i=t.call(this,n,o)||this;return i._updateContext=function(e,t){var n=i.props.unstable_observedBits,o=void 0===n||null===n?1073741823:n;o|=0,0==(o&t)||i.setState({value:e})},i.state={value:i._getEmitter().val()||e},i}return H(o,t),o.prototype.componentDidMount=function(){this._getEmitter().register(this._updateContext)},o.prototype.shouldComponentUpdate=function(e,t){return this.state.value!==t.value||V(this.props)!==V(e)},o.prototype.componentWillUnmount=function(){this._getEmitter().unregister(this._updateContext)},o.prototype.componentDidUpdate=function(e,t,o){var i=o[n];i===this.context[n]||((i||Hn).unregister(this._updateContext),this.componentDidMount())},o.prototype.render=function(){var e="render"in this.props&&this.props.render,t=V(this.props);return e&&e!==t&&console.warn("Both children and a render function are defined. Children will be used"),"function"==typeof t?t(this.state.value):void console.warn("Consumer is expecting a function as one and only child but didn't find any")},o.prototype._getEmitter=function(){return this.context[n]||Hn},o}(F);return{Provider:o,Consumer:i}}function Z(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}function Y(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Q(e,t,n){function o(){c===l&&(c=l.slice())}function i(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return p}function r(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return o(),c.push(e),function(){if(t){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,o();var n=c.indexOf(e);c.splice(n,1)}}}function a(e){if(!Y(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error("Actions may not have an undefined \"type\" property. Have you misspelled a constant?");if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,p=d(p,e)}finally{u=!1}for(var t,n=l=c,o=0;o<n.length;o++)t=n[o],t();return e}var s;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(Q)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var d=e,p=t,l=[],c=l,u=!1;return a({type:Kn.INIT}),s={dispatch:a,subscribe:r,getState:i,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");d=e,a({type:Kn.REPLACE})}},s[Bn]=function(){var e,t=r;return e={subscribe:function(e){function n(){e.next&&e.next(i())}if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");n();var o=t(n);return{unsubscribe:o}}},e[Bn]=function(){return this},e},s}function X(e,t){var n=t&&t.type;return"Given "+(n&&"action \""+(n+"")+"\""||"an action")+", reducer \""+e+"\" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined."}function J(e){Object.keys(e).forEach(function(t){var n=e[t],o=n(void 0,{type:Kn.INIT});if("undefined"==typeof o)throw new Error("Reducer \""+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"==typeof n(void 0,{type:Kn.PROBE_UNKNOWN_ACTION()}))throw new Error("Reducer \""+t+"\" returned undefined when probed with a random type. "+("Don't try to handle "+Kn.INIT+" or other actions in \"redux/*\" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null."))})}function ee(e,t){return function(){return t(e.apply(this,arguments))}}function te(e,t){if("function"==typeof e)return ee(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+". Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?");var n={};for(var o in e){var i=e[o];"function"==typeof i&&(n[o]=ee(i,t))}return n}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function ie(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?oe(t,!0).forEach(function(n){ne(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):oe(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))});return e}function re(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function ae(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),o=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return o.apply(void 0,arguments)}},r=t.map(function(e){return e(i)});return o=re.apply(void 0,r)(n.dispatch),ie({},n,{dispatch:o})}}}function se(){return se=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},se.apply(this,arguments)}function de(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function pe(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||(r[n]=e[n]);return r}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(){}function ue(e,t){return t={exports:{}},e(t,t.exports),t.exports}function he(e){return Eo.isMemo(e)?Ao:Lo[e.$$typeof]||Oo}function me(e,t,n){if("string"!=typeof t){if(jo){var o=Wo(t);o&&o!==jo&&me(e,o,n)}var r=Ro(t);Uo&&(r=r.concat(Uo(t)));for(var a,s=he(e),d=he(t),p=0;p<r.length;++p)if(a=r[p],!Do[a]&&!(n&&n[a])&&!(d&&d[a])&&!(s&&s[a])){var l=qo(t,a);try{Io(e,a,l)}catch(t){}}return e}return e}function ge(e,t){var n=void 0===t?{}:t,o=n.getDisplayName,i=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,r=n.methodName,a=void 0===r?"connectAdvanced":r,s=n.renderCountProp,d=void 0===s?void 0:s,p=n.shouldHandleStateChanges,l=n.storeKey,c=void 0===l?"store":l,u=n.withRef,h=n.forwardRef,m=void 0!==h&&h,g=n.context,y=void 0===g?Yn:g,f=pe(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);return function(t){function n(){var t,n,o,i,r,a;return function(s,d,p,l){if(u&&t===d&&n===s)return o;(p!==i||r!==l)&&(i=p,r=l,a=e(p.dispatch,l)),t=d,n=s;var c=a(s,d);return o=c,o}}function o(){var e,t,n,o;return function(i,r,a){return(r!==e||a!==t||o!==i)&&(e=r,t=a,o=i,n=Zn.createElement(i,se({},r,{ref:a}))),n}}var r=t.displayName||t.name||"Component",s=i(r),l=se({},f,{getDisplayName:i,methodName:a,renderCountProp:d,shouldHandleStateChanges:!(void 0!==p)||p,storeKey:c,displayName:s,wrappedComponentName:r,WrappedComponent:t}),u=f.pure,h=F;u&&(h=F);var g=function(e){function i(t){var i;return i=e.call(this,t)||this,ce(m?!t.wrapperProps[c]:!t[c]),i.selectDerivedProps=n(),i.selectChildElement=o(),i.indirectRenderWrappedComponent=i.indirectRenderWrappedComponent.bind(le(i)),i}de(i,e);var r=i.prototype;return r.indirectRenderWrappedComponent=function(e){return this.renderWrappedComponent(e)},r.renderWrappedComponent=function(e){var n,o=e.storeState,i=e.store,r=this.props;m&&(r=this.props.wrapperProps,n=this.props.forwardedRef);var a=this.selectDerivedProps(o,r,i,l);return this.selectChildElement(t,a,n)},r.render=function(){var e=this.props.context&&this.props.context.Consumer&&No(Zn.createElement(this.props.context.Consumer,null))?this.props.context:y;return Zn.createElement(e.Consumer,null,this.indirectRenderWrappedComponent)},i}(h);if(g.WrappedComponent=t,g.displayName=s,m){var x=Zn.forwardRef(function(e,t){return Zn.createElement(g,{wrapperProps:e,forwardedRef:t})});return x.displayName=s,x.WrappedComponent=t,Fo(x,t)}return Fo(g,t)}}function ye(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function fe(e,t){if(ye(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var r=0;r<n.length;r++)if(!zo.call(t,n[r])||!ye(e[n[r]],t[n[r]]))return!1;return!0}function xe(e){return function(t,n){function o(){return i}var i=e(t,n);return o.dependsOnOwnProps=!1,o}}function we(e){return null!==e.dependsOnOwnProps&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:1!==e.length}function be(e){return function(t,n){var o=n.displayName,i=function(e,t){return i.dependsOnOwnProps?i.mapToProps(e,t):i.mapToProps(e)};return i.dependsOnOwnProps=!0,i.mapToProps=function(t,n){i.mapToProps=e,i.dependsOnOwnProps=we(e);var o=i(t,n);return"function"==typeof o&&(i.mapToProps=o,i.dependsOnOwnProps=we(o),o=i(t,n)),o},i}}function ve(e,t,n){return se({},n,e,t)}function _e(e){return function(t,n){var o,i=n.displayName,r=n.pure,a=n.areMergedPropsEqual,s=!1;return function(t,n,i){var d=e(t,n,i);return s?(!r||!a(d,o))&&(o=d):(s=!0,o=d),o}}}function Pe(e,t,n,o){return function(i,r){return n(e(i,r),t(o,r),r)}}function ke(e,t,n,o,i){function r(i,r){return l=i,c=r,u=e(l,c),h=t(o,c),m=n(u,h,c),x=!0,m}function a(){return u=e(l,c),t.dependsOnOwnProps&&(h=t(o,c)),m=n(u,h,c),m}function s(){return e.dependsOnOwnProps&&(u=e(l,c)),t.dependsOnOwnProps&&(h=t(o,c)),m=n(u,h,c),m}function d(){var t=e(l,c),o=!f(t,u);return u=t,o&&(m=n(u,h,c)),m}function p(e,t){var n=!y(t,c),o=!g(e,l);return l=e,c=t,n&&o?a():n?s():o?d():m}var l,c,u,h,m,g=i.areStatesEqual,y=i.areOwnPropsEqual,f=i.areStatePropsEqual,x=!1;return function(e,t){return x?p(e,t):r(e,t)}}function Se(e,t){var n=t.initMapStateToProps,o=t.initMapDispatchToProps,i=t.initMergeProps,r=pe(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,r),s=o(e,r),d=i(e,r),p=r.pure?ke:Pe;return p(a,s,d,e,r)}function Te(e,t,n){for(var o,r=t.length-1;0<=r;r--)if(o=t[r](e),o)return o;return function(t,o){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+o.wrappedComponentName+".")}}function Ce(e,t){return e===t}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(){return Me=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Me.apply(this,arguments)}function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Oe(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?Ne(t,!0).forEach(function(n){Ee(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ne(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))});return e}function De(e,t){for(let n in e)if(!(n in t))return!0;for(let n in t)if(e[n]!==t[n])return!0;return!1}function Ae(e,t,n){return t*Je(e/n,wi/bi)}function Le(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:vi;return n*e/(t-e)}function Ie(e,t){return Le(Re(t),e)}function Re(e){const t=e-ki;return Pi*et(17.67*t/(t+243.5))}function Ue(e,t){const n=Ie(e,t),o=bi+Je(_i,2)*n*vi/(wi*Je(t,2));return 1/e*((wi*t+_i*n)/o)}function qe(e,t){return e*t/(vi+t)}function We(e){const t=tt(e/Pi);return ki+243.5*t/(17.67-t)}function je(e){return 288.15/Si*(Je(e/1013.25,-Si*wi/Ti)-1)}function Fe(e,t,n,o,i){const r={},a=[],s=[],l=[],u=[],h=Le(Re(i),o),m=c(e.level,e.gh),g=m(o),y=it(g,e.gh[e.gh.length-1]),f=(y-g)/t;for(let r=g;r<=y;r+=f){const e=m.invert(r),i=Ae(e,n,o),t=We(qe(e,h));a.push(r),s.push(e),l.push(i),u.push(t)}const x=d(a,l,a,u);let w=d(a,l,e.gh,e.temp);if(!w)return null;if(x[0]<w[0]){w=x;const n=m.invert(x[0]),o=[],i=[],a=[];let l=x[1],t=n;for(let e=x[0];e<y+f;e+=f){const n=m.invert(e);l+=(n-t)*Ue(n,l),t=n,o.push(e),i.push(n),a.push(l)}const c=p(u,s).filter(e=>e[1]>n);c.push([x[1],n]);let h=p(a,i);const g=d(o,a,e.gh,e.temp);if(r.pCloudTop=e.level[e.level.length-1],g){const e=m.invert(g[0]);h=h.filter(t=>t[1]>=e),h.push([g[1],e]),r.pCloudTop=e}r.moist=h,r.isohume=c}const b=m.invert(w[0]),v=p(l,s).filter(e=>e[1]>b);return v.push([w[1],b]),r.dry=v,r.pThermalTop=b,r.elevThermalTop=w[0],r}function ze(e){let{parcel:t,width:n,line:o,pToPx:i,formatAltitude:r}=e;const{trajectory:a,isohume:s,elevThermalTop:d,pThermalTop:p,pCloudTop:l}=t,c=[];if(a){const e=i(p);if(l){const t=i(l);c.push(m("rect",{y:t,height:e-t,width:n,fill:"url(#diag-hatch)"}),m(g,{x:n,y:e}),m("line",{class:"boundary",y1:t,y2:t,x2:n}))}c.push(m("line",{class:"boundary",y1:e,y2:e,x2:n}),m("text",{class:"tick",style:"fill: black","text-anchor":"end","dominant-baseline":"hanging",y:e+4,x:n-7},r(d)),m("path",{class:"parcel trajectory",d:o(a)})),s&&c.push(m("path",{class:"parcel isohume",d:o(s)}))}return c.length?m("g",null,c):null}function He(e){return new Date(e).toLocaleString([],{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}function Ge(e){return function(t){var n=t.dispatch,o=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,o,e):t(i)}}}}function $e(e,t,n,o){return n.map(n=>{const i=e.data["".concat(t,"-").concat(n,"h")],r=Array.isArray(i)?i[o]:null;return"gh"===t&&null==r?Xe(je(n)):r})}function Be(e){const t=[];for(let n in e.data){const e=n.match(/temp-(\d+)h$/);e&&t.push(+e[1])}return t.sort((e,t)=>+e<+t?1:-1)}function Ve(e,t,n){const o=t.data.hours,r=Be(t),a=[];let s=Number.MIN_VALUE,d=Number.MAX_VALUE;for(let p=0;p<o.length;p++){const e=$e(t,"temp",r,p);s=it(s,...e),d=ot(d,...e),a.push({temp:e,dewpoint:$e(t,"dewpoint",r,p),gh:$e(t,"gh",r,p),wind_u:$e(t,"wind_u",r,p),wind_v:$e(t,"wind_v",r,p)})}const{interval:p}=tr[e],l=n.header.updateTs+1e3*(60*(p+60));return{airData:t,forecast:n,times:o,values:a,levels:r,tMax:s,tMin:d,pMax:r[r.length-1],pMin:r[0],nextUpdate:l}}function Ke(){let e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{isLoading:!1},t=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0;switch(t.type){case _t:return Oe({},e,{isLoading:!0});case Pt:const{airData:o,forecast:i}=t.payload,r=Ve(n,o,i);return Oe({},e,{},r,{isLoading:!1,loaded:Date.now()});default:return e;}}function Ze(){if(ar)return ar;ar=Q(nr,ae(...[zi]));const e=or("#bsounding-chart");return ar.dispatch(Wt(e.clientWidth)),ar.dispatch(jt(600)),Ye(),rr.getArray().forEach(e=>{ar.dispatch(Tt(e))}),ar.dispatch(Bi(460)),ar.dispatch(Vi(580)),ar.dispatch(Ki(400)),ar.dispatch(Qi(100)),ar.dispatch(Xi(580)),ar.dispatch(St(!0)),$["detail-render"].load().then(()=>{W.define("meteogram-ext",["meteogram","Class"],function(e,t){return t.extend(e,{legend:()=>this})}),ar.dispatch(Ct(W.require("meteogram-ext")))}),ar}function Ye(){ar&&(ar.dispatch(Et(ir.get("metric_temp"))),ar.dispatch(Mt(ir.get("metric_altitude"))),ar.dispatch(Nt(ir.get("metric_wind"))))}const rt=W.require("utils"),at=W.require("pluginDataLoader")({key:"QKlmnpLWr2rZSyFaT7LpxZc0d5bo34D4",plugin:"windy-plugin-sounding"}),st="SDG.SET_LOCATION",dt="SDG.SET_MODEL",pt="SDG.SET_TIME",lt="SDG.ADD_SUBSCRIPTION",ct="SDG.DELETE_SUBSCRIPTION",ut="SDG.SET_ACTIVE",ht="SDG.MOVE_MARKER",mt="SDG.REMOVE_MARKER",gt="SDG.SET_WIDTH",yt="SDG.SET_HEIGHT",ft="SDG.SET_METRIC_TEMP",xt="SDG.SET_METRIC_ALTITUDE",wt="SDG.SET_METRIC_SPEED",bt="SDG.SET_METEOGRAM",vt="SDG.ADD_FAVORITE",_t="SDG.FETCH_PARAMS",Pt="SDG.RECEIVE_PARAMS",kt="SDG.SET_ZOOM",St=e=>({type:kt,payload:{zoom:e}}),Tt=e=>({type:vt,payload:{favorite:e}}),Ct=e=>({type:bt,payload:{meteogram:e}}),Et=e=>({type:ft,payload:{metric:e}}),Mt=e=>({type:xt,payload:{metric:e}}),Nt=e=>({type:wt,payload:{metric:e}}),Ot=(e,t)=>o=>{o({type:st,payload:{lat:e,lon:t}}),o(Ut(e,t)),o(n())},Dt=e=>t=>{const o=/^(ecmwf|gfs|nam|iconEu)/;o.test(e)||(e="gfs"),t({type:dt,payload:{modelName:e}}),t(n())},At=e=>({type:pt,payload:{timestamp:e}}),Lt=e=>({type:lt,payload:{cb:e}}),It=()=>(t,n)=>{n().plugin.subscriptions.forEach(n=>{n(),t(e(n))})},Rt=e=>({type:ut,payload:{active:e}}),Ut=(e,t)=>({type:ht,payload:{lat:e,lon:t}}),qt=()=>({type:mt}),Wt=e=>({type:gt,payload:{width:e}}),jt=e=>({type:yt,payload:{height:e}}),Ft=(e,t,n)=>({type:_t,payload:{lat:e,lon:t,modelName:n}}),zt=(e,t,n,o,i)=>({type:Pt,payload:{lat:e,lon:t,modelName:n,airData:o,forecast:i}});var Ht=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return function(){for(var t=arguments.length,o=Array(t),i=0;i<t;i++)o[i]=arguments[i];var a=0,s=o.pop(),d=r(o),p=e.apply(void 0,[function(){return a++,s.apply(null,arguments)}].concat(n)),l=e(function(){for(var e=[],t=d.length,n=0;n<t;n++)e.push(d[n].apply(null,arguments));return p.apply(null,e)});return l.resultFunc=s,l.dependencies=d,l.recomputations=function(){return a},l.resetRecomputations=function(){return a=0},l}}(function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:o,n=null,r=null;return function(){return i(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}});const Gt=W.require("metrics"),$t=W.require("utils"),Bt=W.require("map"),Vt=W.require("store"),Kt=e=>e.plugin.modelName,Zt=e=>e.plugin.timestamp,Yt=e=>e.metrics.temp,Qt=e=>e.metrics.altitude,Xt=e=>e.metrics.speed,Jt=e=>e.plugin.favorites,en=e=>e.plugin.width,tn=e=>e.plugin.height,nn=e=>e.plugin.zoom,on=Ht(Yt,e=>t=>Xe(Gt.temp.conv[e].conversion(t))),rn=Ht(e=>e.metrics.pressure,e=>t=>Xe(Gt.pressure.conv[e].conversion(t))),an=Ht(Qt,e=>t=>100*Xe(Gt.altitude.conv[e].conversion(t)/100)),sn=Ht(Xt,e=>t=>Xe(Gt.wind.conv[e].conversion(t))),dn=Ht(e=>e.plugin.lat,e=>e.plugin.lon,(e,t)=>$t.latLon2str({lat:e,lon:t})),pn=Ht(dn,e=>e.models,Kt,(e,t,n)=>(t[n]||{})[e]),ln=e=>e.plugin.meteogram,cn=Ht(ln,pn,(e,t)=>{const n=document.createElement("canvas"),o=t.times,i=300/e.canvasRatio;return e.init(n,o.length,6,i).setHeight(i).setOffset(0).render(t.airData).resetCanvas(),n}),un=Ht(cn,Zt,pn,(e,n,o)=>{const i=o.times,r=e.width,s=i.findIndex(e=>e>=n);if(-1==s)return null;const d=it(0,s-1),p=r/i.length,l=Xe(a(i[d],p/2+d*p,i[s],p/2+s*p,n)),t=e.height,c=e.getContext("2d").getImageData(l,0,1,t).data,u=[];for(let i=0;i<t;i++)u.push(c[4*i]);return u}),hn=Ht(ln,un,(e,t)=>{const n=t.length,o=e.hrAlt.map(e=>(n-1)*(1-e/100)),i=l([1e3,950,925,900,850,800,700,600,500,400,300,200,150,100],o);return(e,n)=>{const o=Xe(i(e));if(null==n)return t[o];const r=Xe(i(n)),a=t.slice(r,o).filter(e=>0<e);return 0<a.length?ot(...a):0}}),mn=Ht(pn,ln,(e,t)=>!t||!e||!0===e.isLoading),gn=Ht(pn,e=>e.tMax),yn=Ht(pn,e=>e.tMin),fn=Ht(pn,e=>e.pMax),xn=Ht(pn,e=>e.pMin),wn=Ht(pn,e=>{let{forecast:t,airData:n}=e,o=null==t.header.elevation?0:t.header.elevation;return null!=n.header.elevation&&(o=n.header.elevation),null!=n.header.modelElevation&&(o=n.header.modelElevation),o}),bn=Ht(pn,e=>e.forecast.header.updateTs),vn=Ht(pn,e=>e.nextUpdate),_n=Ht(pn,e=>e.forecast.celestial.TZoffset),Pn=Ht(pn,e=>e.forecast.celestial.sunriseTs),kn=Ht(pn,e=>e.forecast.celestial.sunsetTs),Sn=Ht(Pn,kn,Zt,(e,t,n)=>{const o=e+7200000;return!(n<o||(n-o)%86400000>t-7200000-o)}),Tn=Ht(en,e=>(t,n)=>{const o=Bt.getBounds(),i=o.getEast()-o.getWest(),r=n-i/Bt.getSize().x*e/2;Bt.panTo({lng:r,lat:t})});let Cn=Date.now();const En=Ht(_n,e=>t=>{if(Date.now()>Cn){let n=Vt.get("timestamp"),o=100;const i=nt(event.deltaY);if(t.shiftKey||t.ctrlKey){o=1e3;const t=new Date(n),r=t.getUTCHours();t.setUTCMinutes(0),n=t.getTime();const a=((13-e+24)%24-r)*i;n+=0>=a?1e3*(3600*(i*(24+a))):1e3*(3600*(i*a))}else n+=1e3*(3600*i);Vt.set("timestamp",n),Cn=Date.now()+o}t.stopPropagation(),t.preventDefault()});var Mn=function(){},Nn={},On=[],Dn=[],An="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,Ln=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,In=[],Rn=[],Un=0,qn=!1,Wn=!1,jn=[];h(F.prototype,{setState:function(e,t){this.prevState||(this.prevState=this.state),this.state=h(h({},this.state),"function"==typeof e?e(this.state,this.props):e),t&&this._renderCallbacks.push(t),f(this)},forceUpdate:function(e){e&&this._renderCallbacks.push(e),U(this,2)},render:function(){}});var Fn,zn=function(e,t){return zn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},zn(e,t)},Hn={register:function(){console.warn("Consumer used without a Provider")},unregister:function(){},val:function(){}},Gn=function(){return 1073741823},$n=0;Fn="undefined"==typeof self?"undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof module?Function("return this")():module:global:window:self;var Bn=Z(Fn),Vn=function(){return Math.random().toString(36).substring(7).split("").join(".")},Kn={INIT:"@@redux/INIT"+Vn(),REPLACE:"@@redux/REPLACE"+Vn(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Vn()}},Zn={createContext:K,forwardRef:ce,createElement:m},Yn=Zn.createContext(null),Qn=function(e){function t(t){var n=e.call(this,t)||this;var o=t.store;return n.state={storeState:o.getState(),store:o},n}de(t,e);var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this.subscribe()},n.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this._isMounted=!1},n.componentDidUpdate=function(e){this.props.store!==e.store&&(this.unsubscribe&&this.unsubscribe(),this.subscribe())},n.subscribe=function(){var e=this,t=this.props.store;this.unsubscribe=t.subscribe(function(){var n=t.getState();e._isMounted&&e.setState(function(e){return e.storeState===n?null:{storeState:n}})});var n=t.getState();n!==this.state.storeState&&this.setState({storeState:n})},n.render=function(){var e=this.props.context||Yn;return Zn.createElement(e.Provider,{value:this.state},this.props.children)},t}(F),Xn=ue(function(e,n){function o(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case 60103:switch(e=e.type,e){case 60111:case 60111:case 60107:case 60114:case 60108:case 60113:return e;default:switch(e=e&&e.$$typeof,e){case 60110:case 60112:case 60109:return e;default:return t;}}case 60116:case 60115:case 60106:return t;}}}function t(e){return o(e)===60111}Object.defineProperty(n,"__esModule",{value:!0});n.typeOf=o,n.AsyncMode=60111,n.ConcurrentMode=60111,n.ContextConsumer=60110,n.ContextProvider=60109,n.Element=60103,n.ForwardRef=60112,n.Fragment=60107,n.Lazy=60116,n.Memo=60115,n.Portal=60106,n.Profiler=60114,n.StrictMode=60108,n.Suspense=60113,n.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===60107||e===60111||e===60114||e===60108||e===60113||"object"==typeof e&&null!==e&&(e.$$typeof===60116||e.$$typeof===60115||e.$$typeof===60109||e.$$typeof===60110||e.$$typeof===60112)},n.isAsyncMode=function(e){return t(e)||o(e)===60111},n.isConcurrentMode=t,n.isContextConsumer=function(e){return o(e)===60110},n.isContextProvider=function(e){return o(e)===60109},n.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===60103},n.isForwardRef=function(e){return o(e)===60112},n.isFragment=function(e){return o(e)===60107},n.isLazy=function(e){return o(e)===60116},n.isMemo=function(e){return o(e)===60115},n.isPortal=function(e){return o(e)===60106},n.isProfiler=function(e){return o(e)===60114},n.isStrictMode=function(e){return o(e)===60108},n.isSuspense=function(e){return o(e)===60113}});(function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e})(Xn);var Jn=Xn.typeOf,eo=Xn.AsyncMode,to=Xn.ConcurrentMode,no=Xn.ContextConsumer,oo=Xn.ContextProvider,io=Xn.Element,ro=Xn.ForwardRef,ao=Xn.Fragment,so=Xn.Lazy,po=Xn.Memo,lo=Xn.Portal,co=Xn.Profiler,uo=Xn.StrictMode,ho=Xn.Suspense,mo=Xn.isValidElementType,go=Xn.isAsyncMode,yo=Xn.isConcurrentMode,fo=Xn.isContextConsumer,xo=Xn.isContextProvider,wo=Xn.isElement,bo=Xn.isForwardRef,vo=Xn.isFragment,_o=Xn.isLazy,Po=Xn.isMemo,ko=Xn.isPortal,So=Xn.isProfiler,To=Xn.isStrictMode,Co=Xn.isSuspense,Eo=ue(function(e){e.exports=Xn}),Mo=Eo.isValidElementType,No=Eo.isContextConsumer,Oo={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Do={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ao={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Lo={};Lo[Eo.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var Io=Object.defineProperty,Ro=Object.getOwnPropertyNames,Uo=Object.getOwnPropertySymbols,qo=Object.getOwnPropertyDescriptor,Wo=Object.getPrototypeOf,jo=Object.prototype,Fo=me,zo=Object.prototype.hasOwnProperty,Ho=[function(e){return"function"==typeof e?be(e):void 0},function(e){return e?void 0:xe(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?xe(function(t){return te(e,t)}):void 0}],Go=[function(e){return"function"==typeof e?be(e):void 0},function(e){return e?void 0:xe(function(){return{}})}],$o=[function(e){return"function"==typeof e?_e(e):void 0},function(e){return e?void 0:function(){return ve}}],Bo=function(e){var t=void 0===e?{}:e,n=t.connectHOC,o=void 0===n?ge:n,i=t.mapStateToPropsFactories,r=void 0===i?Go:i,a=t.mapDispatchToPropsFactories,s=void 0===a?Ho:a,d=t.mergePropsFactories,p=void 0===d?$o:d,l=t.selectorFactory,c=void 0===l?Se:l;return function(e,t,n,i){var a=void 0===i?{}:i,d=a.pure,l=a.areStatesEqual,u=void 0===l?Ce:l,h=a.areOwnPropsEqual,m=void 0===h?fe:h,g=a.areStatePropsEqual,y=void 0===g?fe:g,f=a.areMergedPropsEqual,x=void 0===f?fe:f,w=pe(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),b=Te(e,r,"mapStateToProps"),v=Te(t,s,"mapDispatchToProps"),_=Te(n,p,"mergeProps");return o(c,se({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:!!e,initMapStateToProps:b,initMapDispatchToProps:v,initMergeProps:_,pure:!(void 0!==d)||d,areStatesEqual:u,areOwnPropsEqual:m,areStatePropsEqual:y,areMergedPropsEqual:x},w))}}();const Vo=W.require("utils"),Ko=e=>e.skewt.width,Zo=e=>e.skewt.height,Yo=e=>e.skewt.pMax,Qo=Ht(e=>e.skewt.pMin,nn,(e,t)=>t?e:150),Xo=Ht(pn,Zt,Qo,(e,n,o)=>{if(!e||e.isLoading)return null;const{times:i,values:r}=e,s=i.findIndex(e=>e>=n);if(-1==s)return null;const d=it(0,s-1);let p=e.levels.findIndex(e=>e<=o);-1==p&&(p=e.levels.length-1);const l=e.levels.slice(0,p+1),c={};Object.getOwnPropertyNames(r[d]).forEach(e=>{c[e]=a(i[d],r[d][e],i[s],r[s][e],n),c[e].splice(p+1)}),c.level=l;const u=c.wind_u.map((e,t)=>{const n=c.wind_v[t];return Vo.wind2obj([e,n])});return c.windSpeed=u.map(e=>e.wind),c.windDir=u.map(e=>e.dir),c}),Jo=Ht(pn,e=>e.tMax+8),ei=Ht(Jo,e=>e-60),ti=Ht(Ko,Zo,Yo,Qo,Jo,ei,(e,t,n,o,i,r)=>75*(e/t)*(Qe(n)-Qe(o))/(i-r)),ni=Ht(Ko,Jo,ei,(e,t,n)=>l([n,t],[0,e])),oi=Ht(Ko,Jo,ei,on,(e,t,n,o)=>l([n,t].map(o),[0,e])),ii=Ht(Zo,Yo,Qo,(e,t,n)=>c([t,n],[e,0])),ri=Ht(Xo,e=>c(e.level,e.gh)),ai=Ht(Xo,ri,Zo,Qo,an,(e,t,n,o,i)=>l([e.gh[0],t(o)].map(i),[n,0])),si=Ht(ni,ti,Zo,ii,(e,t,n,o)=>u(i=>e(i[0])+t*(n-o(i[1])),e=>o(e[1]))),di=Ht(wn,Xo,ri,(e,t,n)=>{const o=t.level;return ot(n.invert(e),o[0])}),pi=Ht(Xo,di,(e,t)=>{const n=e.level,o=e.temp,i=c(n,o);return i(t)}),li=Ht(Xo,di,(e,t)=>{const n=e.level,o=e.dewpoint,i=c(n,o);return i(t)}),ci=Ht(Qt,e=>"m"===e?1e3:3e3),ui=Ht(Yt,e=>"\xB0C"===e?10:20),hi=Ht(Xo,e=>e?it(60/3.6,...e.windSpeed):0),mi=Ht(hi,e=>e.windgram.width,nn,(e,t,n)=>n?l([0,30/3.6,e],[0,t/2,t]):l([0,e],[0,t])),gi=Ht(mi,ii,(e,t)=>u(t=>e(t[0]),e=>t(e[1])));class yi extends F{shouldComponentUpdate(e,t){return De(this.props,e)||De(this.state,t)}}const fi=W.require("utils");class xi extends yi{render(e){let{cx:t,cy:n}=e;return m("svg",{width:"60",height:"60",viewBox:"0 0 38 38",x:t-30,y:n-30},m("g",{transform:"translate(1 1)","stroke-width":"2",fill:"none","fill-rule":"evenodd"},m("circle",{cx:"18",cy:"18",r:"18",stroke:"#ddd"}),m("path",{d:"M36 18C36 8 28 0 18 0",stroke:"#333"},m("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}))))}}const wi=287,bi=1005,vi=18.01528/28.9644,_i=2501e3,Pi=6.112,ki=273.15,Si=-.0065,Ti=9.80665;class g extends yi{render(e){let{x:t,y:n}=e;return m("path",{class:"cumulus",transform:"translate(".concat(t-36,", ").concat(n-28,")"),d:"M26.003 24H5.997C3.794 24 2 22.209 2 20c0-1.893 1.318-3.482 3.086-3.896A7.162 7.162 0 0 1 5 15c0-3.866 3.134-7 7-7 3.162 0 5.834 2.097 6.702 4.975A4.477 4.477 0 0 1 21.5 12c2.316 0 4.225 1.75 4.473 4h.03C28.206 16 30 17.791 30 20c0 2.205-1.789 4-3.997 4z"})}}class Ci extends yi{render(e){let{temp:n,pressure:o,height:i,pToPx:r,line:a}=e;const s=[],d=i/15;for(let a=i;a>-d;a-=d){const e=r.invert(a),i=Ae(e,n,o);s.push([i,e])}return m("path",{class:"dry",d:a(s)})}}class Ei extends yi{render(e){let{temp:t,pressure:n,height:o,pToPx:i,line:r}=e;const a=[];let s=n;const d=o/15;for(let n=o;n>-d;n-=d){const e=i.invert(n);t+=(e-s)*Ue(e,t),s=e,a.push([t,e])}return m("path",{class:"moist",d:r(a)})}}class Mi extends yi{render(e){let{temp:t,pressure:n,height:o,pToPx:i,line:r}=e;const a=[],s=Le(Re(t),n),d=o;for(let n=o;n>-d;n-=d){const e=i.invert(n),o=We(qe(e,s));a.push([o,e])}return m("path",{class:"isohume",d:r(a)})}}class Ni extends yi{render(e){let{temp:t,height:n,pToPx:o,line:i}=e;const r=[[t,o.invert(n)],[t,o.invert(0)]];return m("path",{class:"isotherm",d:i(r)})}}class Oi extends yi{render(e){let{height:t,width:n,metric:o,step:i,tAxisToPx:r}=e;const a=[],s=Math.trunc(r.invert(0)/i)*i;for(let d,p=s;!d;p+=i){const e=r(p);d=r(p+i)>n,a.push(m("text",{class:"tick","text-anchor":"middle","dominant-baseline":"hanging",y:t+5,x:e},p+(d?" "+o:"")))}return m("g",null,a)}}const Di=e=>{let{pAxisToPx:t,width:n,metric:o,step:i}=e;const r=[];for(let a,s=i;!a;s+=i){const e=t(s);a=20>t(s+i),r.push(m("line",{y1:e,x2:n,y2:e,class:"light"}),m("text",{class:"tick",y:e-5,x:5},s+" "+(a?" "+o:"")))}return m("g",null,r)},Ai=e=>{let{width:t,cloudCover:n,pToPx:o,pSfc:i,highClouds:r}=e;const a=[];let s=0;if(r){s=30;const e=o.invert(s),i=n(e,150);0<i&&a.push(m(Li,{y:"0",width:t,height:"30",cover:i}),m("text",{class:"tick",y:25,x:t-5,"text-anchor":"end"},"upper clouds"),m("line",{y1:"30",y2:"30",x2:t,class:"boundary"}))}for(const t=o(i);s<t;){const e=s,i=n(o.invert(s));let r=1;for(;s++<t&&n(o.invert(s))==i;)r++;0!=i&&a.push(m(Li,{y:e,width:100,height:r,cover:i}))}return m("g",null,a)},Li=e=>{let{y:t,height:n,width:o,cover:i}=e;return m("rect",Me({y:t,height:n,width:o},{fill:"rgba(".concat(i,", ").concat(i,", ").concat(i,", 0.7)")}))};const Ii=e=>{let{height:t,width:n,metric:o,format:i,speedToPx:r,maxSpeed:a,zoom:s}=e;if(s){const e=r(30/3.6),s=e/2;return m("g",{class:"axis"},m("line",{y1:t,x1:s,x2:s,class:"light"}),m("rect",{width:n/2,height:t,fill:"white",opacity:"0.1"}),m("rect",{x:n/2,width:n/2,height:t,fill:"red",opacity:"0.1"}),m("text",{class:"tick",transform:"translate(".concat(s-5," 80) rotate(-90)")},i(15/3.6)),m("text",{class:"tick",transform:"translate(".concat(e-5," 80) rotate(-90)")},i(30/3.6)),m("text",{class:"tick",transform:"translate(".concat(n-5," 80) rotate(-90)")},"".concat(i(a)," ").concat(o)))}return m("g",{class:"axis"},m("line",{y1:t,x1:n/3,x2:n/3,class:"light"}),m("text",{class:"tick",transform:"translate(".concat(n/3-5," 80) rotate(-90)")},i(a/3)),m("line",{y1:t,x1:2*n/3,x2:2*n/3,class:"light"}),m("text",{class:"tick",transform:"translate(".concat(2*n/3-5," 80) rotate(-90)")},i(2*a/3)),m("text",{class:"tick",transform:"translate(".concat(n-5," 80) rotate(-90)")},"".concat(i(a)," ").concat(o)))},Ri=e=>{let{direction:t,y:n,speed:o}=e;return 1<o?m("g",{transform:"translate(0,".concat(n,") rotate(").concat(t,")"),stroke:"black",fill:"none"},m("line",{y2:"-30"}),m("path",{d:"M-4,-8L0,0L4,-8","stroke-linejoin":"round"})):m("g",{transform:"translate(0,".concat(n,")"),stroke:"black",fill:"none"},m("circle",{r:"6"}),m("circle",{r:"1"}))},Ui=Bo(function(e){if(mn(e))return{isLoading:!0};const t=Xo(e),n=di(e);let o;if(Sn(e)){const i=pi(e)+3,r=li(e),{dry:a,moist:s,isohume:d,elevThermalTop:p,pThermalTop:l,pCloudTop:c}=Fe(t,40,i,n,r)||{};o={trajectory:a.concat(s||[]),isohume:d,elevThermalTop:p,pThermalTop:l,pCloudTop:c}}return{isLoading:!1,params:t,pMax:Yo(e),cloudCover:hn(e),pSfc:n,parcel:o,formatAltitude:an(e),tAxisToPx:oi(e),pToPx:ii(e),pAxisToPx:ai(e),line:si(e),tMetric:Yt(e),tAxisStep:ui(e),ghMetric:Qt(e),ghAxisStep:ci(e),zoom:nn(e)}})(e=>{let{isLoading:t,params:n,pMax:o,width:i,height:r,cloudCover:a,pSfc:s,parcel:d,formatAltitude:l,tAxisToPx:c,pToPx:u,pAxisToPx:h,line:g,tMetric:y,tAxisStep:f,ghMetric:x,ghAxisStep:w,zoom:b}=e;if(!t){const e=u(s);return m("svg",{width:i,height:r+20},m("defs",null,m("pattern",{id:"diag-hatch",patternUnits:"userSpaceOnUse",width:"8",height:"8",patternTransform:"rotate(45 2 2)"},m("rect",{width:"8",height:"8",fill:"#f8f8f8",opacity:"0.7"}),m("path",{d:"M 0,-1 L 0,11",stroke:"gray","stroke-width":"1"}))),m("g",{class:"chart skewt"},m("g",{class:"axis"},[-20,-10,0,10,20,30,40,50,60,70,80].map(e=>m(Ci,{temp:e+273.15,pressure:o,height:r,pToPx:u,line:g})),[-20,-10,0,5,10,15,20,25,30,35].map(e=>m(Ei,{temp:e+273.15,pressure:o,height:r,pToPx:u,line:g})),[-20,-15,-10,-5,0,5,10,15,20].map(e=>m(Mi,Me({temp:e+273.15,pressure:o},{height:r,pToPx:u,line:g}))),[-70,-60,-50,-40,-30,-20,-10,0,10,20,30,40].map(e=>m(Ni,Me({temp:e+273.15},{height:r,pToPx:u,line:g}))),d&&m(ze,{parcel:d,width:i,height:r,line:g,pToPx:u,formatAltitude:l}),m(Oi,{width:i,height:r,tAxisToPx:c,step:f,metric:y}),m(Ai,{width:i,height:r,cloudCover:a,pToPx:u,pSfc:s,highClouds:b}),m(Di,{width:i,pAxisToPx:h,step:w,metric:x})),m("path",{class:"line temperature",d:g(p(n.temp,n.level))}),m("path",{class:"line dewpoint",d:g(p(n.dewpoint,n.level))}),m("rect",{class:"surface",y:e,width:i,height:r-e+1}),m("rect",{class:"border",height:r,width:i})))}}),qi=Bo(e=>mn(e)?{isLoading:!0}:{isLoading:!1,params:Xo(e),windSpeedMax:hi(e),format:sn(e),metric:Xt(e),pSfc:di(e),pToPx:ii(e),speedToPx:mi(e),line:gi(e),zoom:nn(e)})(class extends yi{constructor(e){super(e),this.state={yCursor:100}}render(e,t){let{isLoading:n,params:o,width:i,height:r,windSpeedMax:a,metric:d,format:l,pSfc:c,pToPx:u,speedToPx:h,line:g,zoom:y}=e,{yCursor:f}=t;if(n)return;const x=u(c);let w=0;return null!=f&&(w=s(o.level,o.windSpeed,[u.invert(f)])[0]),m("g",{class:"chart wind",onMouseLeave:()=>this.setState({yCursor:null}),onMouseMove:t=>this.setState({yCursor:t.offsetY})},m("path",{class:"line wind",d:g(p(o.windSpeed,o.level))}),m(Ii,{speedToPx:h,width:i,height:r,maxSpeed:a,metric:d,format:l,zoom:y}),m("g",{transform:"translate(".concat(i/2,", 0)")},o.level.map((e,t)=>e<=c?m(Ri,{direction:o.windDir[t],speed:o.windSpeed[t],y:u(e)}):null)),null==f?null:m("g",null,m("text",{textAnchor:"end",style:"fill: black;",x:i-20,y:f-5},l(w)),m("line",{id:"wind-hint-line",y1:f,y2:f,x2:i,class:"boundary"})),m("rect",{class:"surface",y:x,width:i,height:r-x+1}),m("rect",{class:"border",height:r,width:i}))}}),Wi=Bo(e=>({favorites:Jt(e),location:dn(e)}))(class extends yi{render(e){let{favorites:t,location:n,onSelected:o}=e;return m("div",{id:"fly-to",class:"size-s"},0==t.length?m("span",{"data-icon":"m"},"Add favorites to enable fly to."):t.map(t=>m("span",{class:"location"+(fi.latLon2str(t)==n?" selected":""),onClick:n=>o(t,n)},t.title||t.name)))}}),ji=Bo(e=>mn(e)?{isLoading:!0}:{isLoading:!1,modelName:Kt(e),updated:bn(e),nextUpdate:vn(e)})(e=>{let{isLoading:t,modelName:n,updated:o,nextUpdate:i}=e;if(t)return;const r=He(o),a=He(i);return m("p",{class:"model"},"Model ",m("strong",null,n.toUpperCase())," (",r,"). Next update on ",a,".")}),Fi=Bo(e=>{const t=en(e),n=tn(e),o={centerMap:Tn(e),wheelHandler:()=>null,title:()=>m("p",{class:"model"},"Loading..."),chart:()=>m(xi,{cx:t/2,cy:n/2}),width:t,height:n,zoom:nn(e)},i=mn(e);if(i)return o;const r=Xo(e);return r?Oe({},o,{title:()=>m(ji,null),chart:()=>m("g",null,m(Ui,{width:460,height:580}),m("g",{transform:"translate(480, 0)"},m(qi,{width:100,height:580}))),wheelHandler:En(e)}):Oe({},o,{title:()=>m("p",{class:"model"},"Forecast not available"),chart:()=>m("text",{x:"50%",y:"50%","text-anchor":"middle"},"Forecast not available")})},t=>({onFavSelected:e=>n=>{let{lat:o,lon:i}=n;t(Ot(o,i)),e(o,i)},onZoomClick:n=>{t(St(n.target.checked))}}))(e=>{let{title:t,chart:n,centerMap:o,onFavSelected:i,wheelHandler:r,width:a,height:s,zoom:d,onZoomClick:p}=e;return m("div",null,t(),m("svg",Me({width:a,height:s},{onWheel:r}),n()),m(Wi,{onSelected:i(o)}),m("label",null,m("input",{type:"checkbox",checked:d,onClick:p}),"Zoom view"))});var zi=Ge();zi.withExtraArgument=Ge;const Hi="SKT.SET_WIDTH",Gi="SKT.SET_HEIGHT",$i="SKT.SET_P_MIN",Bi=e=>({type:Hi,payload:{width:e}}),Vi=e=>({type:Gi,payload:{height:e}}),Ki=e=>({type:$i,payload:{pMin:e}}),Zi="WND.SET_WIDTH",Yi="WND.SET_HEIGHT",Qi=e=>({type:Zi,payload:{width:e}}),Xi=e=>({type:Yi,payload:{height:e}}),Ji=W.require("utils"),er=W.require("map"),tr=W.require("products"),nr=function(e){for(var t,n=Object.keys(e),o={},r=0;r<n.length;r++)t=n[r],"function"==typeof e[t]&&(o[t]=e[t]);var a,s=Object.keys(o);try{J(o)}catch(t){a=t}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var n=!1,i={},r=0;r<s.length;r++){var d=s[r],p=o[d],l=e[d],c=p(l,t);if("undefined"==typeof c){var u=X(d,t);throw new Error(u)}i[d]=c,n=n||c!==l}return n?i:e}}({plugin:function(){let e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{subscriptions:[],favorites:[]},t=1<arguments.length?arguments[1]:void 0;switch(t.type){case st:const{lat:n,lon:o}=t.payload;return Oe({},e,{lat:n,lon:o});case dt:const{modelName:i}=t.payload;return Oe({},e,{modelName:i});case pt:const{timestamp:r}=t.payload;return Oe({},e,{timestamp:r});case lt:{const{cb:n}=t.payload;return Oe({},e,{subscriptions:e.subscriptions.concat(n)})}case ct:{const{cb:n}=t.payload;return Oe({},e,{subscriptions:e.subscriptions.filter(e=>e!=n)})}case ut:const{active:a}=t.payload;return Oe({},e,{active:a});case ht:{let{marker:n}=e;const{lon:o,lat:i}=t.payload;return n?(n.setLatLng({lat:i,lng:o}),e):(n=L.marker({lat:i,lng:o},{icon:er.myMarkers.pulsatingIcon,zIndexOffset:-300}).addTo(er),Oe({},e,{marker:n}))}case mt:const{marker:s}=e;return s&&er.removeLayer(s),Oe({},e,{marker:null});case gt:const{width:d}=t.payload;return Oe({},e,{width:d});case yt:const{height:p}=t.payload;return Oe({},e,{height:p});case bt:const{meteogram:l}=t.payload;return Oe({},e,{meteogram:l});case vt:{const{favorite:n}=t.payload;return Oe({},e,{favorites:[...e.favorites,n]})}case kt:const{zoom:c}=t.payload;return Oe({},e,{zoom:c});default:return e;}},models:function(){let e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;switch(t.type){case _t:case Pt:const{modelName:n}=t.payload,o=e[n]||{},i=Ji.latLon2str(t.payload);return Oe({},e,{[n]:Oe({},o,{[i]:Ke(o[i],t,n)})});default:return e;}},metrics:function(){let e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;switch(t.type){case ft:{const{metric:n}=t.payload;return Oe({},e,{temp:n})}case xt:{const{metric:n}=t.payload;return Oe({},e,{altitude:n})}case wt:{const{metric:n}=t.payload;return Oe({},e,{speed:n})}default:return e;}},skewt:function(){let e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{pMax:1e3},t=1<arguments.length?arguments[1]:void 0;switch(t.type){case Hi:const{width:n}=t.payload;return Oe({},e,{width:n});case Gi:const{height:o}=t.payload;return Oe({},e,{height:o});case $i:const{pMin:i}=t.payload;return Oe({},e,{pMin:i});default:return e;}},windgram:function(){let e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;switch(t.type){case Zi:const{width:n}=t.payload;return Oe({},e,{width:n});case Yi:const{height:o}=t.payload;return Oe({},e,{height:o});default:return e;}}}),or=W.require("$"),$=W.require("plugins"),ir=W.require("store"),rr=W.require("favs");let ar;const sr=W.require("map");W.loadPlugin({name:"windy-plugin-sounding",version:"1.1.2",author:"Victor Berchet",repository:{type:"git",url:"git+https://github.com/vicb/windy-plugin-sounding"},description:"Soundings for paraglider pilots.",displayName:"Better Sounding",hook:"contextmenu",className:"plugin-lhpane plugin-mobile-fullscreen",exclusive:"lhpane"},"<div class=\"plugin-content\"><div class=\"title\">Sounding forecast</div><div id=\"bsounding-chart\"></div></div>",".onwindy-plugin-sounding .left-border{left:600px}.onwindy-plugin-sounding #search{display:none}#windy-plugin-sounding{font-size:12px;padding:1em 1em;line-height:2;z-index:100;height:100%;width:600px}#windy-plugin-sounding .title{margin:0 0 .3em .6em;font-size:16px}#windy-plugin-sounding .closing-x{display:block}#windy-plugin-sounding .axis line,#windy-plugin-sounding .axis path{fill:none;stroke:#000}#windy-plugin-sounding .axis .light{stroke-width:.2}#windy-plugin-sounding #bsounding-chart{padding:0 .5em}#windy-plugin-sounding #bsounding-chart p.model{margin:0}#windy-plugin-sounding #bsounding-chart .chart .border{fill:none;stroke:gray;stroke-width:1}#windy-plugin-sounding #bsounding-chart .cumulus{stroke:#030104;stroke-width:2px;fill:ivory}#windy-plugin-sounding #bsounding-chart .line{stroke-width:3;fill:none;stroke-linejoin:round}#windy-plugin-sounding #bsounding-chart .line.dewpoint{stroke:#4682b4}#windy-plugin-sounding #bsounding-chart .line.temperature{stroke:red}#windy-plugin-sounding #bsounding-chart .line.wind{stroke:purple}#windy-plugin-sounding #bsounding-chart line.boundary{stroke-width:1;stroke-dasharray:8;stroke:gray}#windy-plugin-sounding #bsounding-chart .moist{fill:none;stroke:green;stroke-width:.3;stroke-dasharray:4 6}#windy-plugin-sounding #bsounding-chart .dry{fill:none;stroke:green;stroke-width:.3}#windy-plugin-sounding #bsounding-chart .isohume{fill:none;stroke:#00f;stroke-width:.3;stroke-dasharray:4 6}#windy-plugin-sounding #bsounding-chart .isotherm{stroke:#8b0000;stroke-width:.3}#windy-plugin-sounding #bsounding-chart .parcel{stroke-width:3;fill:none;stroke-linejoin:round}#windy-plugin-sounding #bsounding-chart .parcel.trajectory{stroke:#599c00}#windy-plugin-sounding #bsounding-chart .parcel.isohume{stroke-width:1;stroke:gray;stroke-dasharray:4}#windy-plugin-sounding #bsounding-chart text.tick{font-size:12px;font-family:sans-serif;fill:#000}#windy-plugin-sounding #bsounding-chart .surface{fill:#8f6d4d}#windy-plugin-sounding #fly-to{padding:0 15px 0 8px}#windy-plugin-sounding #fly-to .location{border:1px solid #bbb;border-radius:1em;line-height:1em;padding:.3em .6em;user-select:none;display:inline-block;margin-right:.3em;cursor:pointer}#windy-plugin-sounding #fly-to .selected{background-color:#d49500;border-color:#d49500;color:#fff}",function(){const e=W.require("$"),t=W.require("picker"),n=W.require("store"),o=Ze(),i=e("#bsounding-chart");z(m(Qn,{store:o},m(Fi,null)),i),this.onopen=e=>{let i,r;if(!e){const e=sr.getCenter();i=e.lat,r=e.lng}else i=e.lat,r=e.lon;if(!o.getState().plugin.active){sr.setZoom(10,{animate:!1}),n.set("overlay","clouds");const e=n.on("timestamp",()=>{o.dispatch(At(n.get("timestamp")))});o.dispatch(Lt(()=>n.off(e)));const i=n.on("product",()=>{o.dispatch(Dt(n.get("product")))});o.dispatch(Lt(()=>n.off(i)));const r=t.on("pickerOpened",e=>{let{lat:t,lon:n}=e;o.dispatch(Ot(t,n))});o.dispatch(Lt(()=>t.off(r)));const a=t.on("pickerMoved",e=>{let{lat:t,lon:n}=e;o.dispatch(Ot(t,n))});o.dispatch(Lt(()=>t.off(a))),o.dispatch(Rt(!0))}Ye(),o.dispatch(Ot(i,r)),o.dispatch(Dt(n.get("product"))),o.dispatch(At(n.get("timestamp"))),Tn(o.getState())(i,r),this.node.oncontextmenu=this.node.ondblclick=this.node.onclick=e=>e.stopPropagation()},this.onclose=()=>{o.dispatch(It()),o.dispatch(qt()),o.dispatch(Rt(!1))}})})();
