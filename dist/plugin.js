(function(){'use strict';var tt=Math.log10,nt=Math.round,ot=Math.pow,it=Math.exp,rt=Math.log,dt=Math.sign,at=Math.min,st=Math.max;function p(e){return{type:ft,payload:{cb:e}}}function l(e,t,n){if(!e)return!0;const o=pt.latLon2str({lat:t,lon:n}),i=e[o];if(!i)return!0;if(i.isLoading)return!1;const r=Date.now();return r>i.nextUpdate&&r-i.loaded>60000}function S(){return(e,t)=>{const n=t(),{lat:o,lon:i,modelName:r}=n.plugin;if(null!=o&&null!=i&&null!=r&&l(t().models[r],o,i)){e($t(o,i,r));const t={model:r,lat:o,lon:i};Promise.all([lt("airData",t),lt("forecast",t)]).then(t=>{let[n,d]=t;e(Kt(o,i,r,n.data,d.data))})}}}function E(e,t){return e===t}function M(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var o=t.length,r=0;r<o;r++)if(!e(t[r],n[r]))return!1;return!0}function O(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function R(e,t,n,o,i){if(e==n)return t;const r=(i-e)/(n-e);return Array.isArray(t)?t.map((e,t)=>e*(1-r)+o[t]*r):t*(1-r)+o*r}function q(e,t,n){const o=e[0]>e[1];return n.map(n=>{let i=e.findIndex(e=>o?e<=n:e>=n);return-1==i?i=e.length-1:0==i&&(i=1),R(e[i-1],t[i-1],e[i],t[i],n)})}function U(e,t,n,o){const i=st(e[0],n[0]),r=at(e[e.length-1],n[n.length-1]),d=Array.from(new Set([...e,...n])).filter(e=>e>=i&&e<=r).sort((e,t)=>+e>+t?1:-1),a=q(e,t,d),s=q(n,o,d);for(let i=0;i<d.length-1;i++){const e=a[i],t=s[i],n=d[i];if(e==t)return[n,e];const o=a[i+1],r=s[i+1];if(dt(t-e)!=dt(r-o)){const a=d[i+1],s=a-n,p=(o-e)/s,l=(t-e)/(p-(r-t)/s);return[n+l,e+l*p]}}return null}function F(e,t){return e.map((e,n)=>[e,t[n]])}function G(e,t){const n=n=>q(e,t,[n])[0];return n.invert=n=>q(t,e,[n])[0],n}function K(e,t){e=e.map(Math.log);const n=n=>q(e,t,[rt(n)])[0];return n.invert=n=>it(q(t,e,[n])[0]),n}function B(e,t){return n=>{const o=n.map(n=>e(n).toFixed(1)+","+t(n).toFixed(1));return"M"+o.join("L")}}function V(e,t){for(var n in t)e[n]=t[n];return e}function s(e){var t=e.parentNode;t&&t.removeChild(e)}function a(e,n,d){var a,s,p,c,m=arguments;if(n=V({},n),3<arguments.length)for(d=[d],a=3;a<arguments.length;a++)d.push(m[a]);if(null!=d&&(n.children=d),null!=e&&null!=e.defaultProps)for(s in e.defaultProps)void 0===n[s]&&(n[s]=e.defaultProps[s]);return c=n.key,null!=(p=n.ref)&&delete n.ref,null!=c&&delete n.key,h(e,n,c,p)}function h(e,n,o,t){var i={type:e,props:n,key:o,ref:t,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return An.vnode&&An.vnode(i),i}function Z(e){return e.children}function y(e){if(null==e||"boolean"==typeof e)return null;if("string"==typeof e||"number"==typeof e)return h(null,e,null,null);if(null!=e.__e||null!=e.__c){var t=h(e.type,e.props,e.key,null);return t.__e=e.__e,t}return e}function Y(e,t){this.props=e,this.context=t}function Q(e,t){if(null==t)return e.__p?Q(e.__p,e.__p.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?Q(e):null}function d(e){var t,o;if(null!=(e=e.__p)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(o=e.__k[t])&&null!=o.__e){e.__e=e.__c.base=o.__e;break}return d(e)}}function m(e){(!e.__d&&(e.__d=!0)&&1===In.push(e)||Ln!==An.debounceRendering)&&(Ln=An.debounceRendering,(An.debounceRendering||Rn)(g))}function g(){var e;for(In.sort(function(e,t){return t.__v.__b-e.__v.__b});e=In.pop();)e.__d&&e.forceUpdate(!1)}function k(e,n,a,l,t,i,r,o,x){var b,S,T,E,u,M,D,O=a&&a.__k||f,k=O.length;if(o==Fn&&(o=null==i?k?Q(a,0):null:i[0]),b=0,n.__k=w(n.__k,function(d){if(null!=d){if(d.__p=n,d.__b=n.__b+1,null===(T=O[b])||T&&d.key==T.key&&d.type===T.type)O[b]=void 0;else for(S=0;S<k;S++){if((T=O[S])&&d.key==T.key&&d.type===T.type){O[S]=void 0;break}T=null}if(E=P(e,d,T=T||Fn,l,t,i,r,null,o,x),(S=d.ref)&&T.ref!=S&&(D||(D=[])).push(S,d.__c||E,d),null!=E){if(null==M&&(M=E),null!=d.l)E=d.l,d.l=null;else if(i==T||E!=o||null==E.parentNode){n:if(null==o||o.parentNode!==e)e.appendChild(E);else{for(u=o,S=0;(u=u.nextSibling)&&S<k;S+=2)if(u==E)break n;e.insertBefore(E,o)}"option"==n.type&&(e.value="")}o=E.nextSibling,"function"==typeof n.type&&(n.l=E)}}return b++,d}),n.__e=M,null!=i&&"function"!=typeof n.type)for(b=i.length;b--;)null!=i[b]&&s(i[b]);for(b=k;b--;)null!=O[b]&&A(O[b],O[b]);if(D)for(b=0;b<D.length;b++)C(D[b],D[++b],D[++b])}function w(e,n,o){if(null==o&&(o=[]),null==e||"boolean"==typeof e)n&&o.push(n(null));else if(Array.isArray(e))for(var i=0;i<e.length;i++)w(e[i],n,o);else o.push(n?n(y(e)):e);return o}function _(e,n,o,d,t){for(var i in o)i in n||v(e,i,null,o[i],d);for(i in n)t&&"function"!=typeof n[i]||"value"===i||"checked"===i||o[i]===n[i]||v(e,i,n[i],o[i],d)}function x(t,n,o){"-"===n[0]?t.setProperty(n,o):t[n]="number"==typeof o&&!1===e.test(n)?o+"px":o||""}function v(d,n,a,s,p){var i,u,h,m,g;if("key"==(n=p?"className"===n?"class":n:"class"===n?"className":n)||"children"===n);else if(!("style"===n))"o"===n[0]&&"n"===n[1]?(m=n!==(n=n.replace(/Capture$/,"")),g=n.toLowerCase(),n=(g in d?g:n).slice(2),a?(s||d.addEventListener(n,b,m),(d.u||(d.u={}))[n]=a):d.removeEventListener(n,b,m)):"list"!==n&&"tagName"!==n&&"form"!==n&&!p&&n in d?d[n]=null==a?"":a:"function"!=typeof a&&"dangerouslySetInnerHTML"!==n&&(n===(n=n.replace(/^xlink:?/,""))?null==a||!1===a?d.removeAttribute(n):d.setAttribute(n,a):null==a||!1===a?d.removeAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase()):d.setAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase(),a));else if(i=d.style,"string"==typeof a)i.cssText=a;else{if("string"==typeof s&&(i.cssText="",s=null),s)for(u in s)a&&u in a||x(i,u,"");if(a)for(h in a)s&&a[h]===s[h]||x(i,h,a[h])}}function b(e){return this.u[e.type](An.event?An.event(e):e)}function P(n,s,u,t,l,r,o,m,e,c){var a,f,y,b,S,T,E,M,O,A,I=s.type;if(void 0!==s.constructor)return null;(a=An.__b)&&a(s);try{n:if("function"==typeof I){if(M=s.props,O=(a=I.contextType)&&t[a.__c],A=a?O?O.props.value:a.__p:t,u.__c?E=(f=s.__c=u.__c).__p=f.__E:("prototype"in I&&I.prototype.render?s.__c=f=new I(M,A):(s.__c=f=new Y(M,A),f.constructor=I,f.render=D),O&&O.sub(f),f.props=M,f.state||(f.state={}),f.context=A,f.__n=t,y=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=I.getDerivedStateFromProps&&V(f.__s==f.state?f.__s=V({},f.__s):f.__s,I.getDerivedStateFromProps(M,f.__s)),y)null==I.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&o.push(f);else{if(null==I.getDerivedStateFromProps&&null==m&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(M,A),!m&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(M,f.__s,A)){for(f.props=M,f.state=f.__s,f.__d=!1,f.__v=s,s.__e=null==e?null:e===u.__e?u.__e:e,s.__k=u.__k,a=0;a<s.__k.length;a++)s.__k[a]&&(s.__k[a].__p=s);break n}null!=f.componentWillUpdate&&f.componentWillUpdate(M,f.__s,A)}for(b=f.props,S=f.state,f.context=A,f.props=M,f.state=f.__s,(a=An.__r)&&a(s),f.__d=!1,f.__v=s,f.__P=n,a=f.render(f.props,f.state,f.context),s.__k=null!=a&&a.type==Z&&null==a.key?a.props.children:a,null!=f.getChildContext&&(t=V(V({},t),f.getChildContext())),y||null==f.getSnapshotBeforeUpdate||(T=f.getSnapshotBeforeUpdate(b,S)),k(n,s,u,t,l,r,o,e,c),f.base=s.__e;a=f.__h.pop();)f.__s&&(f.state=f.__s),a.call(f);y||null==b||null==f.componentDidUpdate||f.componentDidUpdate(b,S,T),E&&(f.__E=f.__p=null)}else s.__e=N(u.__e,s,u,t,l,r,o,c);(a=An.diffed)&&a(s)}catch(e){An.__e(e,s,u)}return s.__e}function T(e,n){for(var o;o=e.pop();)try{o.componentDidMount()}catch(e){An.__e(e,o.__v)}An.__c&&An.__c(n)}function N(e,d,l,u,t,m,g,o){var c,w,x,b,P=l.props,S=d.props;if(t="svg"===d.type||t,null==e&&null!=m)for(c=0;c<m.length;c++)if(null!=(w=m[c])&&(null===d.type?3===w.nodeType:w.localName===d.type)){e=w,m[c]=null;break}if(null==e){if(null===d.type)return document.createTextNode(S);e=t?document.createElementNS("http://www.w3.org/2000/svg",d.type):document.createElement(d.type),m=null}return null===d.type?P!==S&&(null!=m&&(m[m.indexOf(e)]=null),e.data=S):d!==l&&(null!=m&&(m=f.slice.call(e.childNodes)),x=(P=l.props||Fn).dangerouslySetInnerHTML,b=S.dangerouslySetInnerHTML,o||(b||x)&&(b&&x&&b.__html==x.__html||(e.innerHTML=b&&b.__html||"")),_(e,S,P,t,o),d.__k=d.props.children,b||k(e,d,l,u,"foreignObject"!==d.type&&t,m,g,Fn,o),o||("value"in S&&void 0!==S.value&&S.value!==e.value&&(e.value=null==S.value?"":S.value),"checked"in S&&void 0!==S.checked&&S.checked!==e.checked&&(e.checked=S.checked))),e}function C(e,n,o){try{"function"==typeof e?e(n):e.current=n}catch(e){An.__e(e,o)}}function A(e,n,d){var a,p,l;if(An.unmount&&An.unmount(e),(a=e.ref)&&C(a,null,n),d||"function"==typeof e.type||(d=null!=(p=e.__e)),e.__e=e.l=null,null!=(a=e.__c)){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(e){An.__e(e,n)}a.base=a.__P=null}if(a=e.__k)for(l=0;l<a.length;l++)a[l]&&A(a[l],n,d);null!=p&&s(p)}function D(e,t,n){return this.constructor(e,n)}function j(e,n,r){var t,d,s;An.__p&&An.__p(e,n),d=(t=r===qn)?null:r&&r.__k||n.__k,e=a(Z,null,[e]),s=[],P(n,t?n.__k=e:(r||n).__k=e,d||Fn,Fn,void 0!==n.ownerSVGElement,r&&!t?[r]:d?null:f.slice.call(n.childNodes),s,!1,r||Fn,t),T(s,e)}function I(e,t){var n=[],o=e,i=function(e){return 0|t(o,e)};return{register:function(e){n.push(e),e(o,i(o))},unregister:function(e){n=n.filter(function(t){return t!==e})},val:function(e){if(void 0===e||e==o)return o;var t=i(e);return o=e,n.forEach(function(n){return n(e,t)}),o}}}function H(e){var t=e.children,n=1===t.length?t[0]:null;return{child:n,children:t}}function z(e){var t=H(e).child;return t||"render"in e&&e.render}function $(e,t){var n="_preactContextProvider-"+Gn++,o=function(e){function o(n){var o=e.call(this,n)||this;return o._emitter=I(n.value,t||Hn),o}return jn(o,e),o.prototype.getChildContext=function(){var e;return e={},e[n]=this._emitter,e},o.prototype.componentDidUpdate=function(){this._emitter.val(this.props.value)},o.prototype.render=function(){var e=H(this.props),t=e.child,n=e.children;return t?t:a("span",null,n)},o}(Y),i=function(t){function o(n,o){var i=t.call(this,n,o)||this;return i._updateContext=function(e,t){var n=i.props.unstable_observedBits,o=void 0===n||null===n?1073741823:n;o|=0,0==(o&t)||i.setState({value:e})},i.state={value:i._getEmitter().val()||e},i}return jn(o,t),o.prototype.componentDidMount=function(){this._getEmitter().register(this._updateContext)},o.prototype.shouldComponentUpdate=function(e,t){return this.state.value!==t.value||z(this.props)!==z(e)},o.prototype.componentWillUnmount=function(){this._getEmitter().unregister(this._updateContext)},o.prototype.componentDidUpdate=function(e,t,o){var i=o[n];i===this.context[n]||((i||Wn).unregister(this._updateContext),this.componentDidMount())},o.prototype.render=function(){var e="render"in this.props&&this.props.render,t=z(this.props);return e&&e!==t&&console.warn("Both children and a render function are defined. Children will be used"),"function"==typeof t?t(this.state.value):void console.warn("Consumer is expecting a function as one and only child but didn't find any")},o.prototype._getEmitter=function(){return this.context[n]||Wn},o}(Y);return{Provider:o,Consumer:i}}function X(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}function J(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ee(e,t,n){function o(){u===l&&(u=l.slice())}function i(){if(c)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return p}function r(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(c)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return o(),u.push(e),function(){if(t){if(c)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,o();var n=u.indexOf(e);u.splice(n,1)}}}function d(e){if(!J(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error("Actions may not have an undefined \"type\" property. Have you misspelled a constant?");if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,p=s(p,e)}finally{c=!1}for(var t,n=l=u,o=0;o<n.length;o++)t=n[o],t();return e}var a;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(ee)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var s=e,p=t,l=[],u=l,c=!1;return d({type:Kn.INIT}),a={dispatch:d,subscribe:r,getState:i,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");s=e,d({type:Kn.REPLACE})}},a[zn]=function(){var e,t=r;return e={subscribe:function(e){function n(){e.next&&e.next(i())}if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");n();var o=t(n);return{unsubscribe:o}}},e[zn]=function(){return this},e},a}function te(e,t){var n=t&&t.type;return"Given "+(n&&"action \""+(n+"")+"\""||"an action")+", reducer \""+e+"\" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined."}function ne(e){Object.keys(e).forEach(function(t){var n=e[t],o=n(void 0,{type:Kn.INIT});if("undefined"==typeof o)throw new Error("Reducer \""+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"==typeof n(void 0,{type:Kn.PROBE_UNKNOWN_ACTION()}))throw new Error("Reducer \""+t+"\" returned undefined when probed with a random type. "+("Don't try to handle "+Kn.INIT+" or other actions in \"redux/*\" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null."))})}function oe(e){for(var t,n=Object.keys(e),o={},r=0;r<n.length;r++)t=n[r],"function"==typeof e[t]&&(o[t]=e[t]);var d,a=Object.keys(o);try{ne(o)}catch(t){d=t}return function(e,t){if(void 0===e&&(e={}),d)throw d;for(var n=!1,i={},r=0;r<a.length;r++){var s=a[r],p=o[s],l=e[s],u=p(l,t);if("undefined"==typeof u){var c=te(s,t);throw new Error(c)}i[s]=u,n=n||u!==l}return n?i:e}}function ie(e,t){return function(){return t(e.apply(this,arguments))}}function re(e,t){if("function"==typeof e)return ie(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+". Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?");var n={};for(var o in e){var i=e[o];"function"==typeof i&&(n[o]=ie(i,t))}return n}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function se(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?ae(t,!0).forEach(function(n){de(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ae(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))});return e}function pe(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function le(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),o=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return o.apply(void 0,arguments)}},r=t.map(function(e){return e(i)});return o=pe.apply(void 0,r)(n.dispatch),se({},n,{dispatch:o})}}}function ue(){return ue=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ue.apply(this,arguments)}function ce(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function he(e,t){if(null==e)return{};var n,o,r={},d=Object.keys(e);for(o=0;o<d.length;o++)n=d[o],0<=t.indexOf(n)||(r[n]=e[n]);return r}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(){}function ge(e,t){return t={exports:{}},e(t,t.exports),t.exports}function ye(e){return To.isMemo(e)?Oo:No[e.$$typeof]||Mo}function _e(e,t,n){if("string"!=typeof t){if(Uo){var o=qo(t);o&&o!==Uo&&_e(e,o,n)}var r=Io(t);Ro&&(r=r.concat(Ro(t)));for(var d,a=ye(e),s=ye(t),p=0;p<r.length;++p)if(d=r[p],!Do[d]&&!(n&&n[d])&&!(s&&s[d])&&!(a&&a[d])){var l=Lo(t,d);try{Ao(e,d,l)}catch(t){}}return e}return e}function we(e,t){var n=void 0===t?{}:t,o=n.getDisplayName,i=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,r=n.methodName,d=void 0===r?"connectAdvanced":r,a=n.renderCountProp,s=void 0===a?void 0:a,p=n.shouldHandleStateChanges,l=n.storeKey,u=void 0===l?"store":l,c=n.withRef,h=n.forwardRef,m=void 0!==h&&h,f=n.context,g=void 0===f?Vn:f,y=he(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);return function(t){function n(){var t,n,o,i,r,d;return function(a,s,p,l){if(c&&t===s&&n===a)return o;(p!==i||r!==l)&&(i=p,r=l,d=e(p.dispatch,l)),t=s,n=a;var u=d(a,s);return o=u,o}}function o(){var e,t,n,o;return function(i,r,d){return(r!==e||d!==t||o!==i)&&(e=r,t=d,o=i,n=Bn.createElement(i,ue({},r,{ref:d}))),n}}var r=t.displayName||t.name||"Component",a=i(r),l=ue({},y,{getDisplayName:i,methodName:d,renderCountProp:s,shouldHandleStateChanges:!(void 0!==p)||p,storeKey:u,displayName:a,wrappedComponentName:r,WrappedComponent:t}),c=y.pure,h=Y;c&&(h=Y);var f=function(e){function i(t){var i;return i=e.call(this,t)||this,fe(m?!t.wrapperProps[u]:!t[u]),i.selectDerivedProps=n(),i.selectChildElement=o(),i.indirectRenderWrappedComponent=i.indirectRenderWrappedComponent.bind(me(i)),i}ce(i,e);var r=i.prototype;return r.indirectRenderWrappedComponent=function(e){return this.renderWrappedComponent(e)},r.renderWrappedComponent=function(e){var n,o=e.storeState,i=e.store,r=this.props;m&&(r=this.props.wrapperProps,n=this.props.forwardedRef);var d=this.selectDerivedProps(o,r,i,l);return this.selectChildElement(t,d,n)},r.render=function(){var e=this.props.context&&this.props.context.Consumer&&Co(Bn.createElement(this.props.context.Consumer,null))?this.props.context:g;return Bn.createElement(e.Consumer,null,this.indirectRenderWrappedComponent)},i}(h);if(f.WrappedComponent=t,f.displayName=a,m){var _=Bn.forwardRef(function(e,t){return Bn.createElement(f,{wrapperProps:e,forwardedRef:t})});return _.displayName=a,_.WrappedComponent=t,Fo(_,t)}return Fo(f,t)}}function xe(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function ve(e,t){if(xe(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var r=0;r<n.length;r++)if(!Wo.call(t,n[r])||!xe(e[n[r]],t[n[r]]))return!1;return!0}function be(e){return function(t,n){function o(){return i}var i=e(t,n);return o.dependsOnOwnProps=!1,o}}function ke(e){return null!==e.dependsOnOwnProps&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:1!==e.length}function Pe(e){return function(t,n){var o=n.displayName,i=function(e,t){return i.dependsOnOwnProps?i.mapToProps(e,t):i.mapToProps(e)};return i.dependsOnOwnProps=!0,i.mapToProps=function(t,n){i.mapToProps=e,i.dependsOnOwnProps=ke(e);var o=i(t,n);return"function"==typeof o&&(i.mapToProps=o,i.dependsOnOwnProps=ke(o),o=i(t,n)),o},i}}function Se(e,t,n){return ue({},n,e,t)}function Te(e){return function(t,n){var o,i=n.displayName,r=n.pure,d=n.areMergedPropsEqual,a=!1;return function(t,n,i){var s=e(t,n,i);return a?(!r||!d(s,o))&&(o=s):(a=!0,o=s),o}}}function Ee(e,t,n,o){return function(i,r){return n(e(i,r),t(o,r),r)}}function Ce(e,t,n,o,i){function r(i,r){return l=i,u=r,c=e(l,u),h=t(o,u),m=n(c,h,u),_=!0,m}function d(){return c=e(l,u),t.dependsOnOwnProps&&(h=t(o,u)),m=n(c,h,u),m}function a(){return e.dependsOnOwnProps&&(c=e(l,u)),t.dependsOnOwnProps&&(h=t(o,u)),m=n(c,h,u),m}function s(){var t=e(l,u),o=!y(t,c);return c=t,o&&(m=n(c,h,u)),m}function p(e,t){var n=!g(t,u),o=!f(e,l);return l=e,u=t,n&&o?d():n?a():o?s():m}var l,u,c,h,m,f=i.areStatesEqual,g=i.areOwnPropsEqual,y=i.areStatePropsEqual,_=!1;return function(e,t){return _?p(e,t):r(e,t)}}function Me(e,t){var n=t.initMapStateToProps,o=t.initMapDispatchToProps,i=t.initMergeProps,r=he(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),d=n(e,r),a=o(e,r),s=i(e,r),p=r.pure?Ce:Ee;return p(d,a,s,e,r)}function De(e,t,n){for(var o,r=t.length-1;0<=r;r--)if(o=t[r](e),o)return o;return function(t,o){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+o.wrappedComponentName+".")}}function Oe(e,t){return e===t}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ae(){return Ae=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ae.apply(this,arguments)}function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Re(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?Ie(t,!0).forEach(function(n){Ne(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ie(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))});return e}function Le(e,t,n){return t*ot(e/n,$o/Ko)}function qe(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:Bo;return n*e/(t-e)}function Ue(e,t){return qe(Fe(t),e)}function Fe(e){const t=e-Yo;return Zo*it(17.67*t/(t+243.5))}function We(e,t){const n=Ue(e,t),o=Ko+ot(Vo,2)*n*Bo/($o*ot(t,2));return 1/e*(($o*t+Vo*n)/o)}function je(e,t){return e*t/(Bo+t)}function He(e){const t=rt(e/Zo);return Yo+243.5*t/(17.67-t)}function Ge(e){return 288.15/Qo*(ot(e/1013.25,-Qo*$o/Xo)-1)}function ze(e,t,n,o,i){const r={},d=[],a=[],s=[],l=[],u=qe(Fe(i),o),c=K(e.level,e.gh),h=c(o),m=st(h,e.gh[e.gh.length-1]),f=(m-h)/t;for(let r=h;r<=m;r+=f){const e=c.invert(r),i=Le(e,n,o),t=He(je(e,u));d.push(r),a.push(e),s.push(i),l.push(t)}const g=U(d,s,d,l);let y=U(d,s,e.gh,e.temp);if(!y)return null;if(g[0]<y[0]){y=g;const n=c.invert(g[0]),o=[],i=[],d=[];let s=g[1],t=n;for(let e=g[0];e<m+f;e+=f){const n=c.invert(e);s+=(n-t)*We(n,s),t=n,o.push(e),i.push(n),d.push(s)}const p=F(l,a).filter(e=>e[1]>n);p.push([g[1],n]);let u=F(d,i);const h=U(o,d,e.gh,e.temp);if(r.pCloudTop=e.level[e.level.length-1],h){const e=c.invert(h[0]);u=u.filter(t=>t[1]>=e),u.push([h[1],e]),r.pCloudTop=e}r.moist=u,r.isohume=p}const _=c.invert(y[0]),w=F(s,a).filter(e=>e[1]>_);return w.push([y[1],_]),r.dry=w,r.pThermalTop=_,r.elevThermalTop=y[0],r}function $e(e,t){for(let n in e)if(!(n in t))return!0;for(let n in t)if(e[n]!==t[n])return!0;return!1}function Ke(e){let{parcel:t,width:n,line:o,pToPx:i,formatAltitude:r}=e;const{trajectory:d,isohume:s,elevThermalTop:p,pThermalTop:l,pCloudTop:u}=t,c=[];if(d){const e=i(l);if(u){const t=i(u);c.push(a("rect",{y:t,height:e-t,width:n,fill:"url(#diag-hatch)"}),a(ei,{x:n,y:e}),a("line",{class:"boundary",y1:t,y2:t,x2:n}))}c.push(a("line",{class:"boundary",y1:e,y2:e,x2:n}),a("text",{class:"tick",style:"fill: black","text-anchor":"end","dominant-baseline":"hanging",y:e+4,x:n-7},r(p)),a("path",{class:"parcel trajectory",d:o(d)})),s&&c.push(a("path",{class:"parcel isohume",d:o(s)}))}return c.length?a("g",null,c):null}function Be(e){return new Date(e).toLocaleString([],{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}function Ve(e){return function(t){var n=t.dispatch,o=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,o,e):t(i)}}}}function Ze(e,t,n,o){return n.map(n=>{const i=e.data["".concat(t,"-").concat(n,"h")],r=Array.isArray(i)?i[o]:null;return"gh"===t&&null==r?nt(Ge(n)):r})}function Ye(e){const t=[];for(let n in e.data){const e=n.match(/temp-(\d+)h$/);e&&t.push(+e[1])}return t.sort((e,t)=>+e<+t?1:-1)}function Qe(e,t,n){const o=t.data.hours,r=Ye(t),d=[];let a=Number.MIN_VALUE,s=Number.MAX_VALUE;for(let p=0;p<o.length;p++){const e=Ze(t,"temp",r,p);a=st(a,...e),s=at(s,...e),d.push({temp:e,dewpoint:Ze(t,"dewpoint",r,p),gh:Ze(t,"gh",r,p),wind_u:Ze(t,"wind_u",r,p),wind_v:Ze(t,"wind_v",r,p)})}const{interval:p}=tr[e],l=n.header.updateTs+1e3*(60*(p+60));return{airData:t,forecast:n,times:o,values:d,levels:r,tMax:a,tMin:s,pMax:r[r.length-1],pMin:r[0],nextUpdate:l}}function Xe(){let e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{isLoading:!1},t=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0;switch(t.type){case Tt:return Re({},e,{isLoading:!0});case Et:const{airData:o,forecast:i}=t.payload,r=Qe(n,o,i);return Re({},e,{},r,{isLoading:!1,loaded:Date.now()});default:return e;}}function Je(){if(ar)return ar;ar=ee(nr,le(...[Hi]));const e=or("#bsounding-chart");return ar.dispatch(Gt(e.clientWidth)),ar.dispatch(zt(600)),et(),dr.getArray().forEach(e=>{ar.dispatch(Dt(e))}),ar.dispatch(Ki(460)),ar.dispatch(Bi(580)),ar.dispatch(Vi(400)),ar.dispatch(Qi(100)),ar.dispatch(Xi(580)),ar.dispatch(Mt(!0)),ir["detail-render"].load().then(()=>{W.define("meteogram-ext",["meteogram","Class"],function(e,t){return t.extend(e,{legend:()=>this})}),ar.dispatch(Ot(W.require("meteogram-ext")))}),ar}function et(){ar&&(ar.dispatch(Nt(rr.get("metric_temp"))),ar.dispatch(At(rr.get("metric_altitude"))),ar.dispatch(It(rr.get("metric_wind"))))}const pt=W.require("utils"),lt=W.require("pluginDataLoader")({key:"QKlmnpLWr2rZSyFaT7LpxZc0d5bo34D4",plugin:"windy-plugin-sounding"}),ut="SDG.SET_LOCATION",ct="SDG.SET_MODEL",ht="SDG.SET_TIME",mt="SDG.ADD_SUBSCRIPTION",ft="SDG.DELETE_SUBSCRIPTION",gt="SDG.SET_ACTIVE",yt="SDG.MOVE_MARKER",_t="SDG.REMOVE_MARKER",wt="SDG.SET_WIDTH",xt="SDG.SET_HEIGHT",vt="SDG.SET_METRIC_TEMP",bt="SDG.SET_METRIC_ALTITUDE",kt="SDG.SET_METRIC_SPEED",Pt="SDG.SET_METEOGRAM",St="SDG.ADD_FAVORITE",Tt="SDG.FETCH_PARAMS",Et="SDG.RECEIVE_PARAMS",Ct="SDG.SET_ZOOM",Mt=e=>({type:Ct,payload:{zoom:e}}),Dt=e=>({type:St,payload:{favorite:e}}),Ot=e=>({type:Pt,payload:{meteogram:e}}),Nt=e=>({type:vt,payload:{metric:e}}),At=e=>({type:bt,payload:{metric:e}}),It=e=>({type:kt,payload:{metric:e}}),Rt=(e,t)=>n=>{n({type:ut,payload:{lat:e,lon:t}}),n(jt(e,t)),n(S())},Lt=e=>t=>{const n=/^(ecmwf|gfs|nam|iconEu)/;n.test(e)||(e="gfs"),t({type:ct,payload:{modelName:e}}),t(S())},qt=e=>({type:ht,payload:{timestamp:e}}),Ut=e=>({type:mt,payload:{cb:e}}),Ft=()=>(e,t)=>{t().plugin.subscriptions.forEach(t=>{t(),e(p(t))})},Wt=e=>({type:gt,payload:{active:e}}),jt=(e,t)=>({type:yt,payload:{lat:e,lon:t}}),Ht=()=>({type:_t}),Gt=e=>({type:wt,payload:{width:e}}),zt=e=>({type:xt,payload:{height:e}}),$t=(e,t,n)=>({type:Tt,payload:{lat:e,lon:t,modelName:n}}),Kt=(e,t,n,o,i)=>({type:Et,payload:{lat:e,lon:t,modelName:n,airData:o,forecast:i}});var Bt=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return function(){for(var t=arguments.length,o=Array(t),i=0;i<t;i++)o[i]=arguments[i];var r=0,d=o.pop(),a=O(o),s=e.apply(void 0,[function(){return r++,d.apply(null,arguments)}].concat(n)),p=e(function(){for(var e=[],t=a.length,n=0;n<t;n++)e.push(a[n].apply(null,arguments));return s.apply(null,e)});return p.resultFunc=d,p.dependencies=a,p.recomputations=function(){return r},p.resetRecomputations=function(){return r=0},p}}(function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:E,n=null,o=null;return function(){return M(t,n,arguments)||(o=e.apply(null,arguments)),n=arguments,o}});const Vt=W.require("metrics"),Zt=W.require("utils"),Yt=W.require("map"),Qt=W.require("store"),Xt=e=>e.plugin.modelName,Jt=e=>e.plugin.timestamp,en=e=>e.metrics.temp,tn=e=>e.metrics.altitude,nn=e=>e.metrics.speed,on=e=>e.plugin.favorites,rn=e=>e.plugin.width,dn=e=>e.plugin.height,an=e=>e.plugin.zoom,sn=Bt(en,e=>t=>nt(Vt.temp.conv[e].conversion(t))),pn=Bt(e=>e.metrics.pressure,e=>t=>nt(Vt.pressure.conv[e].conversion(t))),ln=Bt(tn,e=>t=>100*nt(Vt.altitude.conv[e].conversion(t)/100)),un=Bt(nn,e=>t=>nt(Vt.wind.conv[e].conversion(t))),cn=Bt(e=>e.plugin.lat,e=>e.plugin.lon,(e,t)=>Zt.latLon2str({lat:e,lon:t})),hn=Bt(cn,e=>e.models,Xt,(e,t,n)=>(t[n]||{})[e]),mn=e=>e.plugin.meteogram,fn=Bt(mn,hn,(e,t)=>{const n=document.createElement("canvas"),o=t.times,i=300/e.canvasRatio;return e.init(n,o.length,6,i).setHeight(i).setOffset(0).render(t.airData).resetCanvas(),n}),gn=Bt(fn,Jt,hn,(e,n,o)=>{const i=o.times,r=e.width,d=i.findIndex(e=>e>=n);if(-1==d)return null;const a=st(0,d-1),s=r/i.length,p=nt(R(i[a],s/2+a*s,i[d],s/2+d*s,n)),t=e.height,l=e.getContext("2d").getImageData(p,0,1,t).data,u=[];for(let i=0;i<t;i++)u.push(l[4*i]);return u}),yn=Bt(mn,gn,(e,t)=>{const n=t.length,o=e.hrAlt.map(e=>(n-1)*(1-e/100)),i=G([1e3,950,925,900,850,800,700,600,500,400,300,200,150,100],o);return(e,n)=>{const o=nt(i(e));if(null==n)return t[o];const r=nt(i(n)),d=t.slice(r,o).filter(e=>0<e);return 0<d.length?at(...d):0}}),_n=Bt(hn,mn,(e,t)=>!t||!e||!0===e.isLoading),wn=Bt(hn,e=>e.tMax),xn=Bt(hn,e=>e.tMin),vn=Bt(hn,e=>e.pMax),bn=Bt(hn,e=>e.pMin),kn=Bt(hn,e=>{let{forecast:t,airData:n}=e,o=null==t.header.elevation?0:t.header.elevation;return null!=n.header.elevation&&(o=n.header.elevation),null!=n.header.modelElevation&&(o=n.header.modelElevation),o}),Pn=Bt(hn,e=>e.forecast.header.updateTs),Sn=Bt(hn,e=>e.nextUpdate),Tn=Bt(hn,e=>e.forecast.celestial.TZoffset),En=Bt(hn,e=>e.forecast.celestial.sunriseTs),Cn=Bt(hn,e=>e.forecast.celestial.sunsetTs),Mn=Bt(En,Cn,Jt,(e,t,n)=>{const o=e+7200000;return!(n<o||(n-o)%86400000>t-7200000-o)}),Dn=Bt(rn,e=>(t,n)=>{const o=Yt.getBounds(),i=o.getEast()-o.getWest(),r=n-i/Yt.getSize().x*e/2;Yt.panTo({lng:r,lat:t})});let On=Date.now();const Nn=Bt(Tn,e=>t=>{if(Date.now()>On){let n=Qt.get("timestamp"),o=100;const i=dt(event.deltaY);if(t.shiftKey||t.ctrlKey){o=1e3;const t=new Date(n),r=t.getUTCHours();t.setUTCMinutes(0),n=t.getTime();const d=((13-e+24)%24-r)*i;n+=0>=d?1e3*(3600*(i*(24+d))):1e3*(3600*(i*d))}else n+=1e3*(3600*i);Qt.set("timestamp",n),On=Date.now()+o}t.stopPropagation(),t.preventDefault()});var An,In,Rn,Ln,qn,Un,Fn={},f=[],e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;An={},Y.prototype.setState=function(e,t){var o=this.__s!==this.state&&this.__s||(this.__s=V({},this.state));("function"!=typeof e||(e=e(o,this.props)))&&V(o,e),null!=e&&this.__v&&(t&&this.__h.push(t),m(this))},Y.prototype.forceUpdate=function(e){var n,a,s,p=this.__v,i=this.__v.__e,r=this.__P;r&&(n=!1!==e,a=[],s=P(r,p,V({},p),this.__n,void 0!==r.ownerSVGElement,null,a,n,null==i?Q(p):i),T(a,p),s!=i&&d(p)),e&&e()},Y.prototype.render=Z,In=[],Rn="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ln=An.debounceRendering,An.__e=function(e,o){for(var i;o=o.__p;)if((i=o.__c)&&!i.__p)try{if(i.constructor&&null!=i.constructor.getDerivedStateFromError)i.setState(i.constructor.getDerivedStateFromError(e));else{if(null==i.componentDidCatch)continue;i.componentDidCatch(e)}return m(i.__E=i)}catch(t){e=t}throw e},qn=Fn,Un=0;var c,Wn={register:function(){console.warn("Consumer used without a Provider")},unregister:function(){},val:function(){}},jn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Hn=function(){return 1073741823},Gn=0;c="undefined"==typeof self?"undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof module?Function("return this")():module:global:window:self;var zn=X(c),$n=function(){return Math.random().toString(36).substring(7).split("").join(".")},Kn={INIT:"@@redux/INIT"+$n(),REPLACE:"@@redux/REPLACE"+$n(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+$n()}},Bn={createContext:$,forwardRef:fe,createElement:a},Vn=Bn.createContext(null),Zn=function(e){function t(t){var n=e.call(this,t)||this;var o=t.store;return n.state={storeState:o.getState(),store:o},n}ce(t,e);var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this.subscribe()},n.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this._isMounted=!1},n.componentDidUpdate=function(e){this.props.store!==e.store&&(this.unsubscribe&&this.unsubscribe(),this.subscribe())},n.subscribe=function(){var e=this,t=this.props.store;this.unsubscribe=t.subscribe(function(){var n=t.getState();e._isMounted&&e.setState(function(e){return e.storeState===n?null:{storeState:n}})});var n=t.getState();n!==this.state.storeState&&this.setState({storeState:n})},n.render=function(){var e=this.props.context||Vn;return Bn.createElement(e.Provider,{value:this.state},this.props.children)},t}(Y),Yn=ge(function(e,n){function o(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case 60103:switch(e=e.type,e){case 60111:case 60111:case 60107:case 60114:case 60108:case 60113:return e;default:switch(e=e&&e.$$typeof,e){case 60110:case 60112:case 60109:return e;default:return t;}}case 60116:case 60115:case 60106:return t;}}}function t(e){return o(e)===60111}Object.defineProperty(n,"__esModule",{value:!0});n.typeOf=o,n.AsyncMode=60111,n.ConcurrentMode=60111,n.ContextConsumer=60110,n.ContextProvider=60109,n.Element=60103,n.ForwardRef=60112,n.Fragment=60107,n.Lazy=60116,n.Memo=60115,n.Portal=60106,n.Profiler=60114,n.StrictMode=60108,n.Suspense=60113,n.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===60107||e===60111||e===60114||e===60108||e===60113||"object"==typeof e&&null!==e&&(e.$$typeof===60116||e.$$typeof===60115||e.$$typeof===60109||e.$$typeof===60110||e.$$typeof===60112)},n.isAsyncMode=function(e){return t(e)||o(e)===60111},n.isConcurrentMode=t,n.isContextConsumer=function(e){return o(e)===60110},n.isContextProvider=function(e){return o(e)===60109},n.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===60103},n.isForwardRef=function(e){return o(e)===60112},n.isFragment=function(e){return o(e)===60107},n.isLazy=function(e){return o(e)===60116},n.isMemo=function(e){return o(e)===60115},n.isPortal=function(e){return o(e)===60106},n.isProfiler=function(e){return o(e)===60114},n.isStrictMode=function(e){return o(e)===60108},n.isSuspense=function(e){return o(e)===60113}});(function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e})(Yn);var Qn=Yn.typeOf,Xn=Yn.AsyncMode,Jn=Yn.ConcurrentMode,eo=Yn.ContextConsumer,to=Yn.ContextProvider,no=Yn.Element,oo=Yn.ForwardRef,io=Yn.Fragment,ro=Yn.Lazy,ao=Yn.Memo,so=Yn.Portal,po=Yn.Profiler,lo=Yn.StrictMode,uo=Yn.Suspense,co=Yn.isValidElementType,ho=Yn.isAsyncMode,mo=Yn.isConcurrentMode,fo=Yn.isContextConsumer,go=Yn.isContextProvider,yo=Yn.isElement,_o=Yn.isForwardRef,wo=Yn.isFragment,xo=Yn.isLazy,vo=Yn.isMemo,bo=Yn.isPortal,ko=Yn.isProfiler,Po=Yn.isStrictMode,So=Yn.isSuspense,To=ge(function(e){e.exports=Yn}),Eo=To.isValidElementType,Co=To.isContextConsumer,Mo={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Do={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Oo={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},No={};No[To.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var Ao=Object.defineProperty,Io=Object.getOwnPropertyNames,Ro=Object.getOwnPropertySymbols,Lo=Object.getOwnPropertyDescriptor,qo=Object.getPrototypeOf,Uo=Object.prototype,Fo=_e,Wo=Object.prototype.hasOwnProperty,jo=[function(e){return"function"==typeof e?Pe(e):void 0},function(e){return e?void 0:be(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?be(function(t){return re(e,t)}):void 0}],Ho=[function(e){return"function"==typeof e?Pe(e):void 0},function(e){return e?void 0:be(function(){return{}})}],Go=[function(e){return"function"==typeof e?Te(e):void 0},function(e){return e?void 0:function(){return Se}}],zo=function(e){var t=void 0===e?{}:e,n=t.connectHOC,o=void 0===n?we:n,i=t.mapStateToPropsFactories,r=void 0===i?Ho:i,d=t.mapDispatchToPropsFactories,a=void 0===d?jo:d,s=t.mergePropsFactories,p=void 0===s?Go:s,l=t.selectorFactory,u=void 0===l?Me:l;return function(e,t,n,i){var d=void 0===i?{}:i,s=d.pure,l=d.areStatesEqual,c=void 0===l?Oe:l,h=d.areOwnPropsEqual,m=void 0===h?ve:h,f=d.areStatePropsEqual,g=void 0===f?ve:f,y=d.areMergedPropsEqual,_=void 0===y?ve:y,w=he(d,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),x=De(e,r,"mapStateToProps"),v=De(t,a,"mapDispatchToProps"),b=De(n,p,"mergeProps");return o(u,ue({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:!!e,initMapStateToProps:x,initMapDispatchToProps:v,initMergeProps:b,pure:!(void 0!==s)||s,areStatesEqual:c,areOwnPropsEqual:m,areStatePropsEqual:g,areMergedPropsEqual:_},w))}}();const $o=287,Ko=1005,Bo=18.01528/28.9644,Vo=2501e3,Zo=6.112,Yo=273.15,Qo=-.0065,Xo=9.80665;class Jo extends Y{shouldComponentUpdate(e,t){return $e(this.props,e)||$e(this.state,t)}}class ei extends Jo{render(e){let{x:t,y:n}=e;return a("path",{class:"cumulus",transform:"translate(".concat(t-36,", ").concat(n-28,")"),d:"M26.003 24H5.997C3.794 24 2 22.209 2 20c0-1.893 1.318-3.482 3.086-3.896A7.162 7.162 0 0 1 5 15c0-3.866 3.134-7 7-7 3.162 0 5.834 2.097 6.702 4.975A4.477 4.477 0 0 1 21.5 12c2.316 0 4.225 1.75 4.473 4h.03C28.206 16 30 17.791 30 20c0 2.205-1.789 4-3.997 4z"})}}class ti extends Jo{render(e){let{temp:n,pressure:o,height:i,pToPx:r,line:d}=e;const s=[],p=i/15;for(let d=i;d>-p;d-=p){const e=r.invert(d),i=Le(e,n,o);s.push([i,e])}return a("path",{class:"dry",d:d(s)})}}class ni extends Jo{render(e){let{temp:t,pressure:n,height:o,pToPx:i,line:r}=e;const d=[];let s=n;const p=o/15;for(let n=o;n>-p;n-=p){const e=i.invert(n);t+=(e-s)*We(e,t),s=e,d.push([t,e])}return a("path",{class:"moist",d:r(d)})}}class oi extends Jo{render(e){let{temp:t,pressure:n,height:o,pToPx:i,line:r}=e;const d=[],s=qe(Fe(t),n),p=o;for(let n=o;n>-p;n-=p){const e=i.invert(n),o=He(je(e,s));d.push([o,e])}return a("path",{class:"isohume",d:r(d)})}}class ii extends Jo{render(e){let{temp:t,height:n,pToPx:o,line:i}=e;const r=[[t,o.invert(n)],[t,o.invert(0)]];return a("path",{class:"isotherm",d:i(r)})}}class ri extends Jo{render(e){let{height:t,width:n,metric:o,step:i,tAxisToPx:r}=e;const d=[],s=Math.trunc(r.invert(0)/i)*i;for(let p,l=s;!p;l+=i){const e=r(l);p=r(l+i)>n,d.push(a("text",{class:"tick","text-anchor":"middle","dominant-baseline":"hanging",y:t+5,x:e},l+(p?" "+o:"")))}return a("g",null,d)}}const di=e=>{let{pAxisToPx:t,width:n,metric:o,step:i}=e;const r=[];for(let d,s=i;!d;s+=i){const e=t(s);d=20>t(s+i),r.push(a("line",{y1:e,x2:n,y2:e,class:"light"}),a("text",{class:"tick",y:e-5,x:5},s+" "+(d?" "+o:"")))}return a("g",null,r)},ai=e=>{let{width:t,cloudCover:n,pToPx:o,pSfc:i,highClouds:r}=e;const d=[];let s=0;if(r){s=30;const e=o.invert(s),i=n(e,150);0<i&&d.push(a(si,{y:"0",width:t,height:"30",cover:i}),a("text",{class:"tick",y:25,x:t-5,"text-anchor":"end"},"upper clouds"),a("line",{y1:"30",y2:"30",x2:t,class:"boundary"}))}for(const t=o(i);s<t;){const e=s,i=n(o.invert(s));let r=1;for(;s++<t&&n(o.invert(s))==i;)r++;0!=i&&d.push(a(si,{y:e,width:100,height:r,cover:i}))}return a("g",null,d)},si=e=>{let{y:t,height:n,width:o,cover:i}=e;return a("rect",Ae({y:t,height:n,width:o},{fill:"rgba(".concat(i,", ").concat(i,", ").concat(i,", 0.7)")}))},pi=e=>{let{height:t,width:n,metric:o,format:i,speedToPx:r,maxSpeed:d,zoom:s}=e;if(s){const e=r(30/3.6),s=e/2;return a("g",{class:"axis"},a("line",{y1:t,x1:s,x2:s,class:"light"}),a("rect",{x:n/2,width:n/2,height:t,fill:"red",opacity:"0.1"}),a("text",{class:"tick",transform:"translate(".concat(s-5," 80) rotate(-90)")},i(15/3.6)),a("text",{class:"tick",transform:"translate(".concat(e-5," 80) rotate(-90)")},i(30/3.6)),a("text",{class:"tick",transform:"translate(".concat(n-5," 80) rotate(-90)")},"".concat(i(d)," ").concat(o)))}return a("g",{class:"axis"},a("line",{y1:t,x1:n/3,x2:n/3,class:"light"}),a("text",{class:"tick",transform:"translate(".concat(n/3-5," 80) rotate(-90)")},i(d/3)),a("line",{y1:t,x1:2*n/3,x2:2*n/3,class:"light"}),a("text",{class:"tick",transform:"translate(".concat(2*n/3-5," 80) rotate(-90)")},i(2*d/3)),a("text",{class:"tick",transform:"translate(".concat(n-5," 80) rotate(-90)")},"".concat(i(d)," ").concat(o)))},li=e=>{let{direction:t,y:n,speed:o}=e;return 1<o?a("g",{transform:"translate(0,".concat(n,") rotate(").concat(t,")"),stroke:"black",fill:"none"},a("line",{y2:"-30"}),a("path",{d:"M-4,-8L0,0L4,-8","stroke-linejoin":"round"})):a("g",{transform:"translate(0,".concat(n,")"),stroke:"black",fill:"none"},a("circle",{r:"6"}),a("circle",{r:"1"}))},ui=W.require("utils");class ci extends Jo{render(e){let{cx:t,cy:n}=e;return a("svg",{width:"60",height:"60",viewBox:"0 0 38 38",x:t-30,y:n-30},a("g",{transform:"translate(1 1)","stroke-width":"2",fill:"none","fill-rule":"evenodd"},a("circle",{cx:"18",cy:"18",r:"18",stroke:"#ddd"}),a("path",{d:"M36 18C36 8 28 0 18 0",stroke:"#333"},a("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}))))}}const hi=W.require("utils"),mi=e=>e.skewt.width,fi=e=>e.skewt.height,gi=e=>e.skewt.pMax,yi=Bt(e=>e.skewt.pMin,an,(e,t)=>t?e:150),_i=Bt(hn,Jt,yi,(e,n,o)=>{if(!e||e.isLoading)return null;const{times:i,values:r}=e,d=i.findIndex(e=>e>=n);if(-1==d)return null;const a=st(0,d-1);let s=e.levels.findIndex(e=>e<=o);-1==s&&(s=e.levels.length-1);const p=e.levels.slice(0,s+1),l={};Object.getOwnPropertyNames(r[a]).forEach(e=>{l[e]=R(i[a],r[a][e],i[d],r[d][e],n),l[e].splice(s+1)}),l.level=p;const u=l.wind_u.map((e,t)=>{const n=l.wind_v[t];return hi.wind2obj([e,n])});return l.windSpeed=u.map(e=>e.wind),l.windDir=u.map(e=>e.dir),l}),wi=Bt(hn,e=>e.tMax+8),xi=Bt(wi,e=>e-60),vi=Bt(mi,fi,gi,yi,wi,xi,(e,t,n,o,i,r)=>75*(e/t)*(tt(n)-tt(o))/(i-r)),bi=Bt(mi,wi,xi,(e,t,n)=>G([n,t],[0,e])),ki=Bt(mi,wi,xi,sn,(e,t,n,o)=>G([n,t].map(o),[0,e])),Pi=Bt(fi,gi,yi,(e,t,n)=>K([t,n],[e,0])),Si=Bt(_i,e=>K(e.level,e.gh)),Ti=Bt(_i,Si,fi,yi,ln,(e,t,n,o,i)=>G([e.gh[0],t(o)].map(i),[n,0])),Ei=Bt(bi,vi,fi,Pi,(e,t,n,o)=>B(i=>e(i[0])+t*(n-o(i[1])),e=>o(e[1]))),Ci=Bt(kn,_i,Si,(e,t,n)=>{const o=t.level;return at(n.invert(e),o[0])}),Mi=Bt(_i,Ci,(e,t)=>{const n=e.level,o=e.temp,i=K(n,o);return i(t)}),Di=Bt(_i,Ci,(e,t)=>{const n=e.level,o=e.dewpoint,i=K(n,o);return i(t)}),Oi=Bt(tn,e=>"m"===e?1e3:3e3),Ni=Bt(en,e=>"\xB0C"===e?10:20),Ai=Bt(_i,e=>e?st(60/3.6,...e.windSpeed):0),Ii=Bt(Ai,e=>e.windgram.width,an,(e,t,n)=>n?G([0,30/3.6,e],[0,t/2,t]):G([0,e],[0,t])),Ri=Bt(Ii,Pi,(e,t)=>B(t=>e(t[0]),e=>t(e[1]))),Li=W.require("Calendar"),qi=zo(function(e){const t=_i(e),n=Ci(e);let o;if(Mn(e)){const i=Mi(e)+3,r=Di(e),{dry:d,moist:a,isohume:s,elevThermalTop:p,pThermalTop:l,pCloudTop:u}=ze(t,40,i,n,r)||{};o={trajectory:d.concat(a||[]),isohume:s,elevThermalTop:p,pThermalTop:l,pCloudTop:u}}return{params:t,pMax:gi(e),cloudCover:yn(e),pSfc:n,parcel:o,formatAltitude:ln(e),tAxisToPx:ki(e),pToPx:Pi(e),pAxisToPx:Ti(e),line:Ei(e),tMetric:en(e),tAxisStep:Ni(e),ghMetric:tn(e),ghAxisStep:Oi(e),zoom:an(e)}})(e=>{let{params:t,pMax:n,width:o,height:i,cloudCover:r,pSfc:d,parcel:s,formatAltitude:p,tAxisToPx:l,pToPx:u,pAxisToPx:c,line:h,tMetric:m,tAxisStep:f,ghMetric:g,ghAxisStep:y,zoom:_}=e;const w=u(d);return a("svg",{width:o,height:i+20},a("defs",null,a("pattern",{id:"diag-hatch",patternUnits:"userSpaceOnUse",width:"8",height:"8",patternTransform:"rotate(45 2 2)"},a("rect",{width:"8",height:"8",fill:"#f8f8f8",opacity:"0.7"}),a("path",{d:"M 0,-1 L 0,11",stroke:"gray","stroke-width":"1"}))),a("g",{class:"chart skewt"},a("g",{class:"axis"},[-20,-10,0,10,20,30,40,50,60,70,80].map(e=>a(ti,{temp:e+273.15,pressure:n,height:i,pToPx:u,line:h})),[-20,-10,0,5,10,15,20,25,30,35].map(e=>a(ni,{temp:e+273.15,pressure:n,height:i,pToPx:u,line:h})),[-20,-15,-10,-5,0,5,10,15,20].map(e=>a(oi,Ae({temp:e+273.15,pressure:n},{height:i,pToPx:u,line:h}))),[-70,-60,-50,-40,-30,-20,-10,0,10,20,30,40].map(e=>a(ii,Ae({temp:e+273.15},{height:i,pToPx:u,line:h}))),s&&a(Ke,{parcel:s,width:o,height:i,line:h,pToPx:u,formatAltitude:p}),a(ri,{width:o,height:i,tAxisToPx:l,step:f,metric:m}),a(ai,{width:o,height:i,cloudCover:r,pToPx:u,pSfc:d,highClouds:_}),a(di,{width:o,pAxisToPx:c,step:y,metric:g})),a("path",{class:"line temperature",d:h(F(t.temp,t.level))}),a("path",{class:"line dewpoint",d:h(F(t.dewpoint,t.level))}),a("rect",{class:"surface",y:w,width:o,height:i-w+1}),a("rect",{class:"border",height:i,width:o})))}),Ui=zo(e=>({params:_i(e),windSpeedMax:Ai(e),format:un(e),metric:nn(e),pSfc:Ci(e),pToPx:Pi(e),speedToPx:Ii(e),line:Ri(e),zoom:an(e)}))(e=>{let{params:t,width:n,height:o,windSpeedMax:i,metric:r,format:d,pSfc:s,pToPx:p,speedToPx:l,line:u,zoom:c}=e;const h=p(s);return a("g",{class:"chart wind"},a("path",{class:"line wind",d:u(F(t.windSpeed,t.level))}),a(pi,{speedToPx:l,width:n,height:o,maxSpeed:i,metric:r,format:d,zoom:c}),a("g",{transform:"translate(".concat(n/2,", 0)")},t.level.map((e,n)=>e<=s?a(li,{direction:t.windDir[n],speed:t.windSpeed[n],y:p(e)}):null)),a("rect",{class:"surface",y:h,width:n,height:o-h+1}),a("rect",{class:"border",height:o,width:n}))}),Fi=zo(e=>({favorites:on(e),location:cn(e)}))(class extends Jo{render(e){let{favorites:t,location:n,onSelected:o}=e;return a("div",{id:"fly-to",class:"size-s"},0==t.length?a("span",{"data-icon":"m"},"Add favorites to enable fly to."):t.map(t=>a("span",{class:"location"+(ui.latLon2str(t)==n?" selected":""),onClick:n=>o(t,n)},t.title||t.name)))}}),Wi=zo(e=>({modelName:Xt(e),updated:Pn(e),nextUpdate:Sn(e)}))(e=>{let{modelName:t,updated:n,nextUpdate:o}=e;const i=Be(n),r=Be(o);return a("p",{class:"model"},"Model ",a("strong",null,t.toUpperCase())," (",i,"). Next update on ",r,".")}),ji=zo(e=>{const t=rn(e),n=dn(e),o={centerMap:Dn(e),wheelHandler:()=>null,title:()=>a("p",{class:"model"},"Loading..."),chart:()=>a(ci,{cx:t/2,cy:n/2}),width:t,height:n,zoom:an(e)},i=_n(e);if(i)return o;const r=_i(e);return r?Re({},o,{title:()=>a(Wi,null),chart:()=>a("g",null,a(qi,{width:460,height:580}),a("g",{transform:"translate(480, 0)"},a(Ui,{width:100,height:580}))),wheelHandler:Nn(e)}):Re({},o,{title:()=>a("p",{class:"model"},"Forecast not available"),chart:()=>a("text",{x:"50%",y:"50%","text-anchor":"middle"},"Forecast not available")})},t=>({onFavSelected:e=>n=>{let{lat:o,lon:i}=n;t(Rt(o,i)),e(o,i)},onZoomClick:n=>{t(Mt(n.target.checked))}}))(e=>{let{title:t,chart:n,centerMap:o,onFavSelected:i,wheelHandler:r,width:d,height:s,zoom:p,onZoomClick:l}=e;return a("div",null,t(),a("svg",Ae({width:d,height:s},{onWheel:r}),n()),a(Fi,{onSelected:i(o)}),a("label",null,a("input",{type:"checkbox",checked:p,onClick:l}),"Zoom view"))});var Hi=Ve();Hi.withExtraArgument=Ve;const Gi="SKT.SET_WIDTH",zi="SKT.SET_HEIGHT",$i="SKT.SET_P_MIN",Ki=e=>({type:Gi,payload:{width:e}}),Bi=e=>({type:zi,payload:{height:e}}),Vi=e=>({type:$i,payload:{pMin:e}}),Zi="WND.SET_WIDTH",Yi="WND.SET_HEIGHT",Qi=e=>({type:Zi,payload:{width:e}}),Xi=e=>({type:Yi,payload:{height:e}}),Ji=W.require("utils"),er=W.require("map"),tr=W.require("products"),nr=oe({plugin:function(){let e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{subscriptions:[],favorites:[]},t=1<arguments.length?arguments[1]:void 0;switch(t.type){case ut:const{lat:n,lon:o}=t.payload;return Re({},e,{lat:n,lon:o});case ct:const{modelName:i}=t.payload;return Re({},e,{modelName:i});case ht:const{timestamp:r}=t.payload;return Re({},e,{timestamp:r});case mt:{const{cb:n}=t.payload;return Re({},e,{subscriptions:e.subscriptions.concat(n)})}case ft:{const{cb:n}=t.payload;return Re({},e,{subscriptions:e.subscriptions.filter(e=>e!=n)})}case gt:const{active:d}=t.payload;return Re({},e,{active:d});case yt:{let{marker:n}=e;const{lon:o,lat:i}=t.payload;return n?(n.setLatLng({lat:i,lng:o}),e):(n=L.marker({lat:i,lng:o},{icon:er.myMarkers.pulsatingIcon,zIndexOffset:-300}).addTo(er),Re({},e,{marker:n}))}case _t:const{marker:a}=e;return a&&er.removeLayer(a),Re({},e,{marker:null});case wt:const{width:s}=t.payload;return Re({},e,{width:s});case xt:const{height:p}=t.payload;return Re({},e,{height:p});case Pt:const{meteogram:l}=t.payload;return Re({},e,{meteogram:l});case St:{const{favorite:n}=t.payload;return Re({},e,{favorites:[...e.favorites,n]})}case Ct:const{zoom:u}=t.payload;return Re({},e,{zoom:u});default:return e;}},models:function(){let e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;switch(t.type){case Tt:case Et:const{modelName:n}=t.payload,o=e[n]||{},i=Ji.latLon2str(t.payload);return Re({},e,{[n]:Re({},o,{[i]:Xe(o[i],t,n)})});default:return e;}},metrics:function(){let e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;switch(t.type){case vt:{const{metric:n}=t.payload;return Re({},e,{temp:n})}case bt:{const{metric:n}=t.payload;return Re({},e,{altitude:n})}case kt:{const{metric:n}=t.payload;return Re({},e,{speed:n})}default:return e;}},skewt:function(){let e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{pMax:1e3},t=1<arguments.length?arguments[1]:void 0;switch(t.type){case Gi:const{width:n}=t.payload;return Re({},e,{width:n});case zi:const{height:o}=t.payload;return Re({},e,{height:o});case $i:const{pMin:i}=t.payload;return Re({},e,{pMin:i});default:return e;}},windgram:function(){let e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;switch(t.type){case Zi:const{width:n}=t.payload;return Re({},e,{width:n});case Yi:const{height:o}=t.payload;return Re({},e,{height:o});default:return e;}}}),or=W.require("$"),ir=W.require("plugins"),rr=W.require("store"),dr=W.require("favs");let ar;const sr=W.require("map");W.loadPlugin({name:"windy-plugin-sounding",version:"1.0.1",author:"Victor Berchet",repository:{type:"git",url:"git+https://github.com/vicb/windy-plugin-sounding"},description:"Soundings for paraglider pilots.",displayName:"Better Sounding",hook:"contextmenu",className:"plugin-lhpane plugin-mobile-fullscreen",exclusive:"lhpane"},"<div class=\"plugin-content\"><div class=\"title\">Sounding forecast</div><div id=\"bsounding-chart\"></div></div>",".onwindy-plugin-sounding .left-border{left:600px}.onwindy-plugin-sounding #search{display:none}#windy-plugin-sounding{font-size:12px;padding:1em 1em;line-height:2;z-index:100;width:600px}#windy-plugin-sounding .title{margin:0 0 .3em .6em;font-size:16px}#windy-plugin-sounding .closing-x{display:block}#windy-plugin-sounding .axis line,#windy-plugin-sounding .axis path{fill:none;stroke:#000}#windy-plugin-sounding .axis .light{stroke-width:.2}#windy-plugin-sounding #bsounding-chart{padding:0 .5em}#windy-plugin-sounding #bsounding-chart p.model{margin:0}#windy-plugin-sounding #bsounding-chart .chart .border{fill:none;stroke:gray;stroke-width:1}#windy-plugin-sounding #bsounding-chart .cumulus{stroke:#030104;stroke-width:2px;fill:ivory}#windy-plugin-sounding #bsounding-chart .line{stroke-width:3;fill:none;stroke-linejoin:round}#windy-plugin-sounding #bsounding-chart .line.dewpoint{stroke:#4682b4}#windy-plugin-sounding #bsounding-chart .line.temperature{stroke:red}#windy-plugin-sounding #bsounding-chart .line.wind{stroke:purple}#windy-plugin-sounding #bsounding-chart line.boundary{stroke-width:1;stroke-dasharray:8;stroke:gray}#windy-plugin-sounding #bsounding-chart .moist{fill:none;stroke:green;stroke-width:.3;stroke-dasharray:4 6}#windy-plugin-sounding #bsounding-chart .dry{fill:none;stroke:green;stroke-width:.3}#windy-plugin-sounding #bsounding-chart .isohume{fill:none;stroke:#00f;stroke-width:.3;stroke-dasharray:4 6}#windy-plugin-sounding #bsounding-chart .isotherm{stroke:#8b0000;stroke-width:.3}#windy-plugin-sounding #bsounding-chart .parcel{stroke-width:3;fill:none;stroke-linejoin:round}#windy-plugin-sounding #bsounding-chart .parcel.trajectory{stroke:#599c00}#windy-plugin-sounding #bsounding-chart .parcel.isohume{stroke-width:1;stroke:gray;stroke-dasharray:4}#windy-plugin-sounding #bsounding-chart text.tick{font-size:12px;font-family:sans-serif;fill:#000}#windy-plugin-sounding #bsounding-chart .surface{fill:#8f6d4d}#windy-plugin-sounding #fly-to{padding:0 15px 0 8px}#windy-plugin-sounding #fly-to .location{border:1px solid #bbb;border-radius:1em;line-height:1em;padding:.3em .6em;user-select:none;display:inline-block;margin-right:.3em;cursor:pointer}#windy-plugin-sounding #fly-to .selected{background-color:#d49500;border-color:#d49500;color:#fff}",function(){const e=W.require("$"),t=W.require("picker"),n=W.require("store"),o=Je(),i=e("#bsounding-chart");j(a(Zn,{store:o},a(ji,null)),i),this.onopen=e=>{let i,r;if(!e){const e=sr.getCenter();i=e.lat,r=e.lng}else i=e.lat,r=e.lon;if(!o.getState().plugin.active){sr.setZoom(10,{animate:!1}),n.set("overlay","clouds");const e=n.on("timestamp",()=>{o.dispatch(qt(n.get("timestamp")))});o.dispatch(Ut(()=>n.off(e)));const i=n.on("product",()=>{o.dispatch(Lt(n.get("product")))});o.dispatch(Ut(()=>n.off(i)));const r=t.on("pickerOpened",e=>{let{lat:t,lon:n}=e;o.dispatch(Rt(t,n))});o.dispatch(Ut(()=>t.off(r)));const d=t.on("pickerMoved",e=>{let{lat:t,lon:n}=e;o.dispatch(Rt(t,n))});o.dispatch(Ut(()=>t.off(d))),o.dispatch(Wt(!0))}et(),o.dispatch(Rt(i,r)),o.dispatch(Lt(n.get("product"))),o.dispatch(qt(n.get("timestamp"))),Dn(o.getState())(i,r),this.node.oncontextmenu=this.node.ondblclick=this.node.onclick=e=>e.stopPropagation()},this.onclose=()=>{o.dispatch(Ft()),o.dispatch(Ht()),o.dispatch(Wt(!1))}})})();
