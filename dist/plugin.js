W.loadPlugin({name:"windy-plugin-sounding",version:"2.0.8",author:"Victor Berchet",repository:{type:"git",url:"git+https://github.com/vicb/windy-plugin-sounding"},description:"Soundings for paraglider pilots.",displayName:"Better Sounding",hook:"contextmenu",className:"plugin-lhpane",classNameMobile:"window",exclusive:"lhpane",attachPointMobile:"#plugins"},["utils","fetch","http","store","metrics","map","rootScope","products","subscription","models","picker","favs"],(function(e,t,n,r,o,i,l,u,s,a,c,p,f){var d=p.emitter,_=l.markers,h=l.map;const m="SDG.SET_LOCATION",y="SDG.SET_MODEL",g="SDG.SET_TIME",v="SDG.ADD_SUBSCRIPTION",w="SDG.DELETE_SUBSCRIPTION",b="SDG.SET_ACTIVE",x="SDG.MOVE_MARKER",S="SDG.REMOVE_MARKER",E="SDG.SET_WIDTH",P="SDG.SET_HEIGHT",k="SDG.SET_METRIC_TEMP",M="SDG.SET_METRIC_ALTITUDE",T="SDG.SET_METRIC_SPEED",O="SDG.SET_FAVORITES",C="SDG.SET_Y_POINTER",N="SDG.FETCH_PARAMS",D="SDG.RECEIVE_PARAMS",$="SDG.TOGGLE_ZOOM",A=["ecmwf","gfs","nam","icon","hrrr","ukv"],R=e=>({type:O,payload:e}),j=e=>({type:k,payload:e}),I=e=>({type:M,payload:e}),U=e=>({type:T,payload:e}),H=(e,t)=>n=>{n({type:m,payload:{lat:e,lon:t}}),n(G(e,t)),n(K())},z=e=>t=>{const n=A.some((t=>e.startsWith(t)))?e:"ecmwf";t({type:y,payload:n}),t(K())},F=e=>({type:g,payload:e}),W=e=>({type:v,payload:e});const V=()=>(e,t)=>{t().plugin.subscriptions.forEach((t=>{t(),e(function(e){return{type:w,payload:e}}(t))}))},B=e=>({type:b,payload:e}),G=(e,t)=>({type:x,payload:{lat:e,lon:t}}),q=e=>({type:E,payload:e}),Y=e=>({type:P,payload:e});function K(){return(e,r)=>{const o=r(),{lat:i,lon:l,modelName:u}=o.plugin;if(null!=i&&null!=l&&null!=u&&function(e,n,r){if(!e)return!0;const o=e[t.latLon2str({lat:n,lon:r})];if(!o)return!0;if(o.isLoading)return!1;const i=Date.now();return i>o.nextUpdate&&i-o.loaded>6e4}(r().models[u],i,l)){e(Z(i,l,u));const t=3,r=n.getMeteogramForecastData(u,{lat:i,lon:l,step:t}),o=n.getPointForecastData(u,{lat:i,lon:l,step:t},"detail");Promise.all([r,o]).then((([t,n])=>{e(X(i,l,u,t.data,n.data))}))}}}const Z=(e,t,n)=>({type:N,payload:{lat:e,lon:t,modelName:n}}),X=(e,t,n,r,o)=>({type:D,payload:{lat:e,lon:t,modelName:n,airData:r,forecast:o}});function J(e,t,n,r,o){if(e==n)return t;const i=(o-e)/(n-e);return Array.isArray(t)?t.map(((e,t)=>e*(1-i)+r[t]*i)):t*(1-i)+r*i}function Q(e,t,n){const r=e[0]>e[1];return n.map((n=>{let o=e.findIndex((e=>r?e<=n:e>=n));return-1==o?o=e.length-1:0==o&&(o=1),J(e[o-1],t[o-1],e[o],t[o],n)}))}function ee(e,t,n,r){const o=Math.max(e[0],n[0]),i=Math.min(e[e.length-1],n[n.length-1]),l=Array.from(new Set([...e,...n])).filter((e=>e>=o&&e<=i)).sort(((e,t)=>Number(e)>Number(t)?1:-1)),u=Q(e,t,l),s=Q(n,r,l);for(let e=0;e<l.length-1;e++){const t=u[e],n=s[e],r=l[e];if(t==n)return[r,t];const o=u[e+1],i=s[e+1];if(Math.sign(n-t)!=Math.sign(i-o)){const u=l[e+1]-r,s=(o-t)/u,a=(n-t)/(s-(i-n)/u);return[r+a,t+a*s]}}return null}function te(e,t){return e.map(((e,n)=>[e,t[n]]))}function ne(e,t){const n=n=>Q(e,t,[n])[0];return n.invert=n=>Q(t,e,[n])[0],n}function re(e,t){e=e.map(Math.log);const n=n=>Q(e,t,[Math.log(n)])[0];return n.invert=n=>Math.exp(Q(t,e,[n])[0]),n}function oe(e,t){return n=>{const r=n.map((n=>e(n).toFixed(1)+","+t(n).toFixed(1)));return"M"+r.join("L")}}function ie(e,t,n){return e+n*(t-e)}const le=[0,5,11,16.7,25,33.4,50,58.4,66.7,75,83.3,92,98,100],ue=[null,950,925,900,850,800,700,600,500,400,300,200,150,null],se=new Uint8Array(256);for(let e=0;e<160;e++)se[e]=ae(24*Math.floor((e+12)/16),160);function ae(e,t){return e<0?0:e>t-1?t-1:e}function ce(e){return se[Math.floor(ae(e,160))]}function pe(e,t,n,r,o){return(.5*-e+3*t*.5-3*n*.5+.5*r)*o**3+(e-5*t*.5+2*n-.5*r)*o**2+(.5*-e+.5*n)*o+t}function fe(e,t,n){return pe(pe(e[0],e[1],e[2],e[3],t),pe(e[4],e[5],e[6],e[7],t),pe(e[8],e[9],e[10],e[11],t),pe(e[12],e[13],e[14],e[15],t),n)}var de="NOT_FOUND";var _e=function(e,t){return e===t};function he(e,t){var n,r,o="object"==typeof t?t:{equalityCheck:t},i=o.equalityCheck,l=void 0===i?_e:i,u=o.maxSize,s=void 0===u?1:u,a=o.resultEqualityCheck,c=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}}(l),p=1===s?(n=c,{get:function(e){return r&&n(r.key,e)?r.value:de},put:function(e,t){r={key:e,value:t}},getEntries:function(){return r?[r]:[]},clear:function(){r=void 0}}):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var o=n[r];return r>0&&(n.splice(r,1),n.unshift(o)),o.value}return de}return{get:r,put:function(t,o){r(t)===de&&(n.unshift({key:t,value:o}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(s,c);function f(){var t=p.get(arguments);if(t===de){if(t=e.apply(null,arguments),a){var n=p.getEntries().find((function(e){return a(e.value,t)}));n&&(t=n.value)}p.put(arguments,t)}return t}return f.clearCache=function(){return p.clear()},f}function me(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var i,l=0,u={memoizeOptions:void 0},s=r.pop();if("object"==typeof s&&(u=s,s=r.pop()),"function"!=typeof s)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof s+"]");var a=u.memoizeOptions,c=void 0===a?n:a,p=Array.isArray(c)?c:[c],f=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}(r),d=e.apply(void 0,[function(){return l++,s.apply(null,arguments)}].concat(p)),_=e((function(){for(var e=[],t=f.length,n=0;n<t;n++)e.push(f[n].apply(null,arguments));return i=d.apply(null,e)}));return Object.assign(_,{resultFunc:s,memoizedResultFunc:d,dependencies:f,lastResult:function(){return i},recomputations:function(){return l},resetRecomputations:function(){return l=0}}),_}}var ye=me(he);const ge=e=>e.plugin.modelName,ve=e=>e.plugin.timestamp,we=e=>e.metrics.temp,be=e=>e.metrics.altitude,xe=e=>e.metrics.speed,Se=e=>e.plugin.favorites,Ee=e=>e.plugin.width,Pe=e=>e.plugin.height-20,ke=e=>e.plugin.zoom,Me=e=>e.plugin.yPointer,Te=ye(we,(e=>t=>Math.round(i.temp.conv[e].conversion(t))));ye((e=>e.metrics.pressure),(e=>t=>Math.round(i.pressure.conv[e].conversion(t))));const Oe=ye(be,(e=>t=>100*Math.round(i.altitude.conv[e].conversion(t)/100))),Ce=ye(xe,(e=>t=>Math.round(i.wind.conv[e].conversion(t)))),Ne=ye((e=>e.plugin.lat),(e=>e.plugin.lon),((e,n)=>t.latLon2str({lat:e,lon:n}))),De=ye(Ne,(e=>e.models),ge,((e,t,n)=>(t[n]||{})[e])),$e=ye(De,(e=>function(e){const t=e["rh-1000h"].length,n=ue.length,r=new Array(t*n);for(let o=0,i=0;o<n;++o)if(null==ue[o])for(let e=0;e<t;++e)r[i++]=0;else{const n=.01*le[o],l=ie(-60,-70,n),u=ie(.025,.038,n),s=ie(6,4,n),a=1-.8*Math.pow(n,.7),c=e[`rh-${ue[o]}h`];for(let e=0;e<t;++e){const t=Number(c[e]);let n=Math.max(0,Math.min((t+l)*u,1));n=Math.pow(n,s)*a,r[i++]=n}}const o=10*t,i=300,l=new Array(o*i);let u=600;const s=new Array(u),a=new Array(16);let c,p=i;for(let e=0;e<n-1;++e){c=p,p=Math.round(299-2.99*le[e+1]);const i=t*ae(e+2,n),f=t*ae(e+1,n),d=t*ae(e+0,n),_=t*ae(e-1,n);let h=0,m=5;const y=c-p,g=1/y;for(let n=0;n<t+1;++n){if(0==n&&y>0){const t=1/y;for(let n=0;n<y;n++)s[--u]=e,s[--u]=Math.round(1e4*t*n)}const c=ae(n-2,t),v=ae(n-1,t),w=ae(n+0,t),b=ae(n+1,t);a[0]=r[i+c],a[1]=r[i+v],a[2]=r[i+w],a[3]=r[i+b],a[4]=r[f+c],a[5]=r[f+v],a[6]=r[f+w],a[7]=r[f+b],a[8]=r[d+c],a[9]=r[d+v],a[10]=r[d+w],a[11]=r[d+b],a[12]=r[_+c],a[13]=r[_+v],a[14]=r[_+w],a[15]=r[_+b];const x=p*o+h,S=m-h,E=1/S;for(let e=0;e<y;++e){let t=x+e*o;for(let n=0;n<S;++n){const r=ce(160*fe(a,E*n,g*e));l[t++]=255-r}}h=m,m+=10,m>o&&(m=o)}}return{clouds:l,width:o,height:i}}(e.airData.data))),Ae=ye($e,ve,De,((e,t,n)=>{const{clouds:r,width:o,height:i}=e,l=n.times,u=l.findIndex((e=>e>=t));if(-1==u)return null;const s=Math.max(0,u-1),a=o/l.length,c=a/2+u*a,p=a/2+s*a,f=Math.round(J(l[s],p,l[u],c,t)),d=[];for(let e=0;e<i;e++)d.push(r[f+e*o]);return d})),Re=ye(Ae,(e=>{const t=e.length,n=le.map((e=>(t-1)*(1-e/100))),r=ne([1e3,950,925,900,850,800,700,600,500,400,300,200,150,100],n);return(t,n)=>{const o=Math.round(r(t));if(null==n)return e[o];const i=Math.round(r(n)),l=e.slice(i,o).filter((e=>e>0));return l.length>0?Math.min(...l):0}})),je=ye(De,(e=>!e||!0===e.isLoading));ye(De,(e=>e.tMax)),ye(De,(e=>e.tMin)),ye(De,(e=>e.pMax)),ye(De,(e=>e.pMin));const Le=ye(De,(({forecast:e,airData:t})=>{let n=null==e.header.elevation?0:e.header.elevation;return null!=t.header.elevation&&(n=t.header.elevation),null!=t.header.modelElevation&&(n=t.header.modelElevation),n})),Ie=ye(De,(e=>e.forecast.header.updateTs)),Ue=ye(De,(e=>e.nextUpdate)),He=ye(De,(e=>e.forecast.celestial.TZoffset)),ze=ye(De,(e=>e.forecast.celestial.sunriseTs)),Fe=ye(De,(e=>e.forecast.celestial.sunsetTs)),We=ye(ze,Fe,ve,((e,t,n)=>{const r=e+72e5;return!(n<r||(n-r)%864e5>t-36e5-r)})),Ve=ye(Ee,(e=>(t,n)=>{const r=h.getBounds();if(u.isMobileOrTablet){const e=document.querySelector("#windy-plugin-sounding .plugin-content");if(!e)return void console.error("plugin div not found");const o=e.offsetHeight,i=h.getSize().y,l=t-(r.getSouth()-r.getNorth())/i*o/2;h.panTo({lng:n,lat:l})}else{const o=n-(r.getEast()-r.getWest())/h.getSize().x*e/2;h.panTo({lng:o,lat:t})}})),Be=ye(He,(e=>({direction:t,changeDay:n})=>{let r=o.get("timestamp");if(n){const n=new Date(r),o=n.getUTCHours();n.setUTCMinutes(0),r=n.getTime();const i=((13-e+24)%24-o)*t;r+=i<=0?t*(24+i)*3600*1e3:t*i*3600*1e3}else r+=3600*t*1e3;o.set("timestamp",r)}));let Ge=Date.now();const qe=ye(Be,(e=>t=>{if(Date.now()>Ge){const n=t.shiftKey||t.ctrlKey,r=Math.sign(t.deltaY);e({direction:r,changeDay:n}),Ge=Date.now()+(n?800:20)}t.stopPropagation(),t.preventDefault()})),Ye="SKT.SET_P_MIN",Ke=e=>({type:Ye,payload:e});function Ze(e){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze(e)}function Xe(e){var t=function(e,t){if("object"!=Ze(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ze(t)?t:String(t)}function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){var r,o,i;r=e,o=t,i=n[t],(o=Xe(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function et(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var tt="function"==typeof Symbol&&Symbol.observable||"@@observable",nt=function(){return Math.random().toString(36).substring(7).split("").join(".")},rt={INIT:"@@redux/INIT"+nt(),REPLACE:"@@redux/REPLACE"+nt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+nt()}};function ot(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(et(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(et(1));return n(ot)(e,t)}if("function"!=typeof e)throw new Error(et(2));var o=e,i=t,l=[],u=l,s=!1;function a(){u===l&&(u=l.slice())}function c(){if(s)throw new Error(et(3));return i}function p(e){if("function"!=typeof e)throw new Error(et(4));if(s)throw new Error(et(5));var t=!0;return a(),u.push(e),function(){if(t){if(s)throw new Error(et(6));t=!1,a();var n=u.indexOf(e);u.splice(n,1),l=null}}}function f(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(et(7));if(void 0===e.type)throw new Error(et(8));if(s)throw new Error(et(9));try{s=!0,i=o(i,e)}finally{s=!1}for(var t=l=u,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:rt.INIT}),(r={dispatch:f,subscribe:p,getState:c,replaceReducer:function(e){if("function"!=typeof e)throw new Error(et(10));o=e,f({type:rt.REPLACE})}})[tt]=function(){var e,t=p;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(et(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[tt]=function(){return this},e},r}function it(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}const lt=287,ut=1005,st=18.01528/28.9644,at=2501e3,ct=6.112,pt=273.15,ft=-.0065,dt=9.80665;function _t(e,t,n){return t*Math.pow(e/n,lt/ut)}function ht(e,t,n=st){return n*e/(t-e)}function mt(e){const t=e-pt;return ct*Math.exp(17.67*t/(t+243.5))}function yt(e,t){const n=function(e,t){return ht(mt(t),e)}(e,t);return 1/e*((lt*t+at*n)/(ut+Math.pow(at,2)*n*st/(lt*Math.pow(t,2))))}function gt(e,t){return e*t/(st+t)}function vt(e){const t=Math.log(e/ct);return pt+243.5*t/(17.67-t)}const wt=_.pulsatingIcon;function bt(e,t,n,r){return n.map((n=>{const o=e.data[`${t}-${n}h`],i=Array.isArray(o)?o[r]:null;return"gh"===t&&null==i?Math.round(function(e){return 288.15/ft*(Math.pow(e/1013.25,-ft*lt/dt)-1)}(n)):i}))}function xt(e,t,n){const r=t.data.hours,o=function(e){const t=[];for(let n in e.data){const e=n.match(/temp-(\d+)h$/);e&&t.push(Number(e[1]))}return t.sort(((e,t)=>Number(e)<Number(t)?1:-1))}(t),i=[];let l=Number.MIN_VALUE,u=Number.MAX_VALUE;for(let e=0;e<r.length;e++){const n=bt(t,"temp",o,e);l=Math.max(l,...n),u=Math.min(u,...n),i.push({temp:n,dewpoint:bt(t,"dewpoint",o,e),gh:bt(t,"gh",o,e),wind_u:bt(t,"wind_u",o,e),wind_v:bt(t,"wind_v",o,e)})}const c=a.hasAny()&&s[e].intervalPremium||s[e].interval,p=n.header.updateTs+60*(c+60)*1e3;return{airData:t,forecast:n,times:r,values:i,levels:o,tMax:l,tMin:u,pMax:o[o.length-1],pMin:o[0],nextUpdate:p}}function St(e={isLoading:!1},t,n){switch(t.type){case N:return{...e,isLoading:!0};case D:{const{airData:r,forecast:o}=t.payload,i=xt(n,r,o);return{...e,...i,isLoading:!1,loaded:Date.now()}}default:return e}}const Et=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];"function"==typeof e[o]&&(n[o]=e[o])}var i,l=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:rt.INIT}))throw new Error(et(12));if(void 0===n(void 0,{type:rt.PROBE_UNKNOWN_ACTION()}))throw new Error(et(13))}))}(n)}catch(e){i=e}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var r=!1,o={},u=0;u<l.length;u++){var s=l[u],a=n[s],c=e[s],p=a(c,t);if(void 0===p)throw t&&t.type,new Error(et(14));o[s]=p,r=r||p!==c}return(r=r||l.length!==Object.keys(e).length)?o:e}}({plugin:function(e={subscriptions:[],favorites:[],zoom:!0},t){switch(t.type){case m:return{...e,...t.payload};case y:return{...e,modelName:t.payload};case g:return{...e,timestamp:t.payload};case v:return{...e,subscriptions:e.subscriptions.concat(t.payload)};case w:return{...e,subscriptions:e.subscriptions.filter((e=>e!=t.payload))};case b:return{...e,active:t.payload};case x:{let{marker:n}=e;const{lon:r,lat:o}=t.payload;return n?(n.setLatLng({lat:o,lng:r}),e):(n=L.marker({lat:o,lng:r},{icon:wt,zIndexOffset:-300}).addTo(h),{...e,marker:n})}case S:{const{marker:t}=e;return t&&h.removeLayer(t),{...e,marker:null}}case E:return{...e,width:t.payload};case P:return{...e,height:t.payload};case O:return{...e,favorites:[...t.payload]};case C:return{...e,yPointer:t.payload};case $:return{...e,zoom:!e.zoom};default:return e}},models:function(e={},n){switch(n.type){case N:case D:{const{modelName:r}=n.payload,o=e[r]||{},i=t.latLon2str(n.payload);return{...e,[r]:{...o,[i]:St(o[i],n,r)}}}default:return e}},metrics:function(e={},t){switch(t.type){case k:return{...e,temp:t.payload};case M:return{...e,altitude:t.payload};case T:return{...e,speed:t.payload};default:return e}},skewt:function(e={pMax:1e3},t){return t.type===Ye?{...e,pMin:t.payload}:e},windgram:function(e={},t){return t.type,e}});function Pt(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}var kt=Pt();kt.withExtraArgument=Pt;var Mt=kt;let Tt;function Ot(e){if(Tt)return Tt;Tt=ot(Et,it(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(et(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return r=it.apply(void 0,i)(n.dispatch),Qe(Qe({},n),{},{dispatch:r})}}}(...[Mt])));const t=e.clientWidth-10,n=Math.min(t,.7*window.innerHeight);return Tt.dispatch(q(t)),Tt.dispatch(Y(n)),Ct(),Tt.dispatch(Ke(400)),Tt}function Ct(){Tt&&(Tt.dispatch(j(o.get("metric_temp"))),Tt.dispatch(I(o.get("metric_altitude"))),Tt.dispatch(U(o.get("metric_wind"))))}var Nt,Dt,$t,At,Rt,jt,Lt,It,Ut={},Ht=[],zt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ft=Array.isArray;function Wt(e,t){for(var n in t)e[n]=t[n];return e}function Vt(e){var t=e.parentNode;t&&t.removeChild(e)}function Bt(e,t,n){var r,o,i,l={};for(i in t)"key"==i?r=t[i]:"ref"==i?o=t[i]:l[i]=t[i];if(arguments.length>2&&(l.children=arguments.length>3?Nt.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===l[i]&&(l[i]=e.defaultProps[i]);return Gt(e,l,r,o,null)}function Gt(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==o?++$t:o,__i:-1,__u:0};return null==o&&null!=Dt.vnode&&Dt.vnode(i),i}function qt(){return{current:null}}function Yt(e){return e.children}function Kt(e,t){this.props=e,this.context=t}function Zt(e,t){if(null==t)return e.__?Zt(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?Zt(e):null}function Xt(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return Xt(e)}}function Jt(e){(!e.__d&&(e.__d=!0)&&At.push(e)&&!Qt.__r++||Rt!==Dt.debounceRendering)&&((Rt=Dt.debounceRendering)||jt)(Qt)}function Qt(){var e,t,n,r,o,i,l,u,s;for(At.sort(Lt);e=At.shift();)e.__d&&(t=At.length,r=void 0,i=(o=(n=e).__v).__e,u=[],s=[],(l=n.__P)&&((r=Wt({},o)).__v=o.__v+1,Dt.vnode&&Dt.vnode(r),an(l,r,o,n.__n,void 0!==l.ownerSVGElement,32&o.__u?[i]:null,u,null==i?Zt(o):i,!!(32&o.__u),s),r.__.__k[r.__i]=r,cn(u,r,s),r.__e!=i&&Xt(r)),At.length>t&&At.sort(Lt));Qt.__r=0}function en(e,t,n,r,o,i,l,u,s,a,c){var p,f,d,_,h,m=r&&r.__k||Ht,y=t.length;for(n.__d=s,function(e,t,n){var r,o,i,l,u,s=t.length,a=n.length,c=a,p=0;for(e.__k=[],r=0;r<s;r++)null!=(o=e.__k[r]=null==(o=t[r])||"boolean"==typeof o||"function"==typeof o?null:"string"==typeof o||"number"==typeof o||"bigint"==typeof o||o.constructor==String?Gt(null,o,null,null,o):Ft(o)?Gt(Yt,{children:o},null,null,null):void 0===o.constructor&&o.__b>0?Gt(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)?(o.__=e,o.__b=e.__b+1,u=rn(o,n,l=r+p,c),o.__i=u,i=null,-1!==u&&(c--,(i=n[u])&&(i.__u|=131072)),null==i||null===i.__v?(-1==u&&p--,"function"!=typeof o.type&&(o.__u|=65536)):u!==l&&(u===l+1?p++:u>l?c>s-l?p+=u-l:p--:p=u<l&&u==l-1?u-l:0,u!==r+p&&(o.__u|=65536))):(i=n[r])&&null==i.key&&i.__e&&(i.__e==e.__d&&(e.__d=Zt(i)),fn(i,i,!1),n[r]=null,c--);if(c)for(r=0;r<a;r++)null!=(i=n[r])&&0==(131072&i.__u)&&(i.__e==e.__d&&(e.__d=Zt(i)),fn(i,i))}(n,t,m),s=n.__d,p=0;p<y;p++)null!=(d=n.__k[p])&&"boolean"!=typeof d&&"function"!=typeof d&&(f=-1===d.__i?Ut:m[d.__i]||Ut,d.__i=p,an(e,d,f,o,i,l,u,s,a,c),_=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&pn(f.ref,null,d),c.push(d.ref,d.__c||_,d)),null==h&&null!=_&&(h=_),65536&d.__u||f.__k===d.__k?s=tn(d,s,e):"function"==typeof d.type&&void 0!==d.__d?s=d.__d:_&&(s=_.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=s,n.__e=h}function tn(e,t,n){var r,o;if("function"==typeof e.type){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=tn(r[o],t,n));return t}return e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function nn(e,t){return t=t||[],null==e||"boolean"==typeof e||(Ft(e)?e.some((function(e){nn(e,t)})):t.push(e)),t}function rn(e,t,n,r){var o=e.key,i=e.type,l=n-1,u=n+1,s=t[n];if(null===s||s&&o==s.key&&i===s.type)return n;if(r>(null!=s&&0==(131072&s.__u)?1:0))for(;l>=0||u<t.length;){if(l>=0){if((s=t[l])&&0==(131072&s.__u)&&o==s.key&&i===s.type)return l;l--}if(u<t.length){if((s=t[u])&&0==(131072&s.__u)&&o==s.key&&i===s.type)return u;u++}}return-1}function on(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||zt.test(t)?n:n+"px"}function ln(e,t,n,r,o){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||on(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||on(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,i?sn:un,i)):e.removeEventListener(t,i?sn:un,i);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&"role"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function un(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(Dt.event?Dt.event(e):e)}function sn(e){return this.l[e.type+!0](Dt.event?Dt.event(e):e)}function an(e,t,n,r,o,i,l,u,s,a){var c,p,f,d,_,h,m,y,g,v,w,b,x,S,E,P=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(s=!!(32&n.__u),i=[u=t.__e=n.__e]),(c=Dt.__b)&&c(t);e:if("function"==typeof P)try{if(y=t.props,g=(c=P.contextType)&&r[c.__c],v=c?g?g.props.value:c.__:r,n.__c?m=(p=t.__c=n.__c).__=p.__E:("prototype"in P&&P.prototype.render?t.__c=p=new P(y,v):(t.__c=p=new Kt(y,v),p.constructor=P,p.render=dn),g&&g.sub(p),p.props=y,p.state||(p.state={}),p.context=v,p.__n=r,f=p.__d=!0,p.__h=[],p._sb=[]),null==p.__s&&(p.__s=p.state),null!=P.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=Wt({},p.__s)),Wt(p.__s,P.getDerivedStateFromProps(y,p.__s))),d=p.props,_=p.state,p.__v=t,f)null==P.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==P.getDerivedStateFromProps&&y!==d&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(y,v),!p.__e&&(null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(y,p.__s,v)||t.__v===n.__v)){for(t.__v!==n.__v&&(p.props=y,p.state=p.__s,p.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),w=0;w<p._sb.length;w++)p.__h.push(p._sb[w]);p._sb=[],p.__h.length&&l.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(y,p.__s,v),null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(d,_,h)}))}if(p.context=v,p.props=y,p.__P=e,p.__e=!1,b=Dt.__r,x=0,"prototype"in P&&P.prototype.render){for(p.state=p.__s,p.__d=!1,b&&b(t),c=p.render(p.props,p.state,p.context),S=0;S<p._sb.length;S++)p.__h.push(p._sb[S]);p._sb=[]}else do{p.__d=!1,b&&b(t),c=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++x<25);p.state=p.__s,null!=p.getChildContext&&(r=Wt(Wt({},r),p.getChildContext())),f||null==p.getSnapshotBeforeUpdate||(h=p.getSnapshotBeforeUpdate(d,_)),en(e,Ft(E=null!=c&&c.type===Yt&&null==c.key?c.props.children:c)?E:[E],t,n,r,o,i,l,u,s,a),p.base=t.__e,t.__u&=-161,p.__h.length&&l.push(p),m&&(p.__E=p.__=null)}catch(e){t.__v=null,s||null!=i?(t.__e=u,t.__u|=s?160:32,i[i.indexOf(u)]=null):(t.__e=n.__e,t.__k=n.__k),Dt.__e(e,t,n)}else null==i&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,r,o,i,l,u,s){var a,c,p,f,d,_,h,m=n.props,y=t.props,g=t.type;if("svg"===g&&(o=!0),null!=i)for(a=0;a<i.length;a++)if((d=i[a])&&"setAttribute"in d==!!g&&(g?d.localName===g:3===d.nodeType)){e=d,i[a]=null;break}if(null==e){if(null===g)return document.createTextNode(y);e=o?document.createElementNS("http://www.w3.org/2000/svg",g):document.createElement(g,y.is&&y),i=null,u=!1}if(null===g)m===y||u&&e.data===y||(e.data=y);else{if(i=i&&Nt.call(e.childNodes),m=n.props||Ut,!u&&null!=i)for(m={},a=0;a<e.attributes.length;a++)m[(d=e.attributes[a]).name]=d.value;for(a in m)d=m[a],"children"==a||("dangerouslySetInnerHTML"==a?p=d:"key"===a||a in y||ln(e,a,null,d,o));for(a in y)d=y[a],"children"==a?f=d:"dangerouslySetInnerHTML"==a?c=d:"value"==a?_=d:"checked"==a?h=d:"key"===a||u&&"function"!=typeof d||m[a]===d||ln(e,a,d,m[a],o);if(c)u||p&&(c.__html===p.__html||c.__html===e.innerHTML)||(e.innerHTML=c.__html),t.__k=[];else if(p&&(e.innerHTML=""),en(e,Ft(f)?f:[f],t,n,r,o&&"foreignObject"!==g,i,l,i?i[0]:n.__k&&Zt(n,0),u,s),null!=i)for(a=i.length;a--;)null!=i[a]&&Vt(i[a]);u||(a="value",void 0!==_&&(_!==e[a]||"progress"===g&&!_||"option"===g&&_!==m[a])&&ln(e,a,_,m[a],!1),a="checked",void 0!==h&&h!==e[a]&&ln(e,a,h,m[a],!1))}return e}(n.__e,t,n,r,o,i,l,s,a);(c=Dt.diffed)&&c(t)}function cn(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)pn(n[r],n[++r],n[++r]);Dt.__c&&Dt.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){Dt.__e(e,t.__v)}}))}function pn(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){Dt.__e(e,n)}}function fn(e,t,n){var r,o;if(Dt.unmount&&Dt.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||pn(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){Dt.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&fn(r[o],t,n||"function"!=typeof e.type);n||null==e.__e||Vt(e.__e),e.__=e.__e=e.__d=void 0}function dn(e,t,n){return this.constructor(e,n)}function _n(e,t,n){var r,o,i,l;Dt.__&&Dt.__(e,t),o=(r="function"==typeof n)?null:n&&n.__k||t.__k,i=[],l=[],an(t,e=(!r&&n||t).__k=Bt(Yt,null,[e]),o||Ut,Ut,void 0!==t.ownerSVGElement,!r&&n?[n]:o?null:t.firstChild?Nt.call(t.childNodes):null,i,!r&&n?n:o?o.__e:t.firstChild,r,l),cn(i,e,l)}function hn(e,t){_n(e,t,hn)}function mn(e,t,n){var r,o,i,l,u=Wt({},e.props);for(i in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)"key"==i?r=t[i]:"ref"==i?o=t[i]:u[i]=void 0===t[i]&&void 0!==l?l[i]:t[i];return arguments.length>2&&(u.children=arguments.length>3?Nt.call(arguments,2):n),Gt(e.type,u,r||e.key,o||e.ref,null)}function yn(e,t){var n={__c:t="__cC"+It++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some((function(e){e.__e=!0,Jt(e)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}Nt=Ht.slice,Dt={__e:function(e,t,n,r){for(var o,i,l;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(e)),l=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,r||{}),l=o.__d),l)return o.__E=o}catch(t){e=t}throw e}},$t=0,Kt.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Wt({},this.state),"function"==typeof e&&(e=e(Wt({},n),this.props)),e&&Wt(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),Jt(this))},Kt.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Jt(this))},Kt.prototype.render=Yt,At=[],jt="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Lt=function(e,t){return e.__v.__b-t.__v.__b},Qt.__r=0,It=0;const gn=e=>Math.floor(.83*Ee(e)-5),vn=e=>e.skewt.pMax,wn=ye((e=>e.skewt.pMin),ke,((e,t)=>t?e:150)),bn=ye(De,ve,wn,((e,n,r)=>{if(!e||e.isLoading)return null;const{times:o,values:i}=e,l=o.findIndex((e=>e>=n));if(-1==l)return null;const u=Math.max(0,l-1);let s=e.levels.findIndex((e=>e<=r));-1==s&&(s=e.levels.length-1);const a=e.levels.slice(0,s+1),c={};Object.getOwnPropertyNames(i[u]).forEach((e=>{c[e]=J(o[u],i[u][e],o[l],i[l][e],n),c[e].splice(s+1)})),c.level=a;const p=c.wind_u.map(((e,n)=>{const r=c.wind_v[n];return t.wind2obj([e,r])}));return c.windSpeed=p.map((e=>e.wind)),c.windDir=p.map((e=>e.dir)),c})),xn=ye(De,(e=>e.tMax+8)),Sn=ye(xn,(e=>e-60)),En=ye(gn,Pe,vn,wn,xn,Sn,((e,t,n,r,o,i)=>e/t*75*(Math.log10(n)-Math.log10(r))/(o-i))),Pn=ye(gn,xn,Sn,((e,t,n)=>ne([n,t],[0,e]))),kn=ye(gn,xn,Sn,Te,((e,t,n,r)=>ne([n,t].map(r),[0,e]))),Mn=ye(Pe,vn,wn,((e,t,n)=>re([t,n],[e,0]))),Tn=ye(bn,(e=>re(e.level,e.gh))),On=ye(bn,Tn,Pe,wn,Oe,((e,t,n,r,o)=>ne([e.gh[0],t(r)].map(o),[n,0]))),Cn=ye(Pn,En,Pe,Mn,((e,t,n,r)=>oe((o=>e(o[0])+t*(n-r(o[1]))),(e=>r(e[1]))))),Nn=ye(Le,bn,Tn,((e,t,n)=>{const r=t.level;return Math.min(n.invert(e),r[0])})),Dn=ye(bn,Nn,((e,t)=>re(e.level,e.temp)(t))),$n=ye(bn,Nn,((e,t)=>re(e.level,e.dewpoint)(t))),An=ye(be,(e=>"m"===e?1e3:3e3)),Rn=ye(we,(e=>"°C"===e?10:20)),jn=e=>Math.floor(17*Ee(e)/100),Ln=ye(bn,(e=>e?Math.max(60/3.6,...e.windSpeed):0)),In=ye(Ln,jn,ke,((e,t,n)=>n?ne([0,30/3.6,e],[0,t/2,t]):ne([0,e],[0,t]))),Un=ye(In,Mn,((e,t)=>oe((t=>e(t[0])),(e=>t(e[1])))));function Hn(e,t){for(let n in e)if(!(n in t))return!0;for(let n in t)if(e[n]!==t[n])return!0;return!1}let zn=class extends Kt{shouldComponentUpdate(e,t){return Hn(this.props,e)||Hn(this.state,t)}};function Fn(e){return e.title||e.name}class Wn extends zn{render({cx:e,cy:t}){return Bt("svg",{width:"60",height:"60",viewBox:"0 0 38 38",x:e-30,y:t-30},Bt("g",{transform:"translate(1 1)","stroke-width":"2",fill:"none","fill-rule":"evenodd"},Bt("circle",{cx:"18",cy:"18",r:"18",stroke:"#ddd"}),Bt("path",{d:"M36 18C36 8 28 0 18 0",stroke:"#333"},Bt("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}))))}}function Vn({parcel:e,width:t,line:n,pToPx:r,formatAltitude:o}){const{trajectory:i,isohume:l,elevThermalTop:u,pThermalTop:s,pCloudTop:a}=e,c=[];if(i){const e=r(s);if(a){const n=r(a);c.push(Bt("rect",{y:n,height:e-n,width:t,fill:"url(#diag-hatch)"}),Bt(Bn,{x:t,y:e}),Bt("line",{class:"boundary",y1:n,y2:n,x2:t}))}c.push(Bt("line",{class:"boundary",y1:e,y2:e,x2:t}),Bt("text",{class:"tick",style:"fill: black","text-anchor":"end","dominant-baseline":"hanging",y:e+4,x:t-7,filter:"url(#whiteOutlineEffect)"},o(u)),Bt("path",{class:"parcel trajectory",d:n(i)})),l&&c.push(Bt("path",{class:"parcel isohume",d:n(l)}))}return c.length?Bt("g",null,c):null}class Bn extends zn{render({x:e,y:t}){return Bt("path",{class:"cumulus",transform:`translate(${e-36}, ${t-28})`,d:"M26.003 24H5.997C3.794 24 2 22.209 2 20c0-1.893 1.318-3.482 3.086-3.896A7.162 7.162 0 0 1 5 15c0-3.866 3.134-7 7-7 3.162 0 5.834 2.097 6.702 4.975A4.477 4.477 0 0 1 21.5 12c2.316 0 4.225 1.75 4.473 4h.03C28.206 16 30 17.791 30 20c0 2.205-1.789 4-3.997 4z"})}}class Gn extends zn{render({temp:e,pressure:t,height:n,pToPx:r,line:o}){const i=[],l=n/15;for(let o=n;o>-l;o-=l){const n=r.invert(o),l=_t(n,e,t);i.push([l,n])}return Bt("path",{class:"dry",d:o(i)})}}class qn extends zn{render({temp:e,pressure:t,height:n,pToPx:r,line:o}){const i=[];let l=t;const u=n/15;for(let t=n;t>-u;t-=u){const n=r.invert(t);e+=(n-l)*yt(n,e),l=n,i.push([e,n])}return Bt("path",{class:"moist",d:o(i)})}}class Yn extends zn{render({temp:e,pressure:t,height:n,pToPx:r,line:o}){const i=[],l=ht(mt(e),t),u=n;for(let e=n;e>-u;e-=u){const t=r.invert(e),n=vt(gt(t,l));i.push([n,t])}return Bt("path",{class:"isohume",d:o(i)})}}class Kn extends zn{render({temp:e,height:t,pToPx:n,line:r}){const o=[[e,n.invert(t)],[e,n.invert(0)]];return Bt("path",{class:"isotherm "+(273==Math.round(e)?"zero":""),d:r(o)})}}class Zn extends zn{render({height:e,width:t,metric:n,step:r,tAxisToPx:o}){const i=[];for(let l,u=Math.trunc(o.invert(0)/r)*r;!l;u+=r){const s=o(u);l=o(u+r)>t,i.push(Bt("text",{class:"tick","text-anchor":"middle","dominant-baseline":"hanging",y:e+5,x:s},u+(l?" "+n:"")))}return Bt("g",null,i)}}const Xn=({pAxisToPx:e,width:t,metric:n,step:r})=>{const o=[];for(let i,l=r;!i;l+=r){const u=e(l);i=e(l+r)<20,o.push(Bt("line",{y1:u,x2:t,y2:u,class:"light"}),Bt("text",{class:"tick",y:u-5,x:5,filter:"url(#whiteOutlineEffect)"},l+" "+(i?" "+n:"")))}return Bt("g",null,o)},Jn=({width:e,cloudCover:t,pToPx:n,pSfc:r,highClouds:o})=>{const i=[];let l=0;if(o){l=30;const r=t(n.invert(l),150);i.push(Bt(Qn,{y:"0",width:e,height:"30",cover:r}),Bt("text",{class:"tick",y:25,x:e-5,"text-anchor":"end",filter:"url(#whiteOutlineEffect)"},"upper clouds"),Bt("line",{y1:"30",y2:"30",x2:e,class:"boundary"}))}const u=n(r);for(;l<u;){const e=l,r=t(n.invert(l));let o=1;for(;l++<u&&t(n.invert(l))==r;)o++;i.push(Bt(Qn,{y:e,width:100,height:o,cover:r}))}return Bt("g",null,i)},Qn=({y:e,height:t,width:n,cover:r})=>{if(255!=r)return Bt("rect",{y:e,height:t,width:n,fill:`rgba(${r}, ${r}, ${r}, 0.7)`})};const er=({height:e,width:t,metric:n,format:r,speedToPx:o,maxSpeed:i,zoom:l})=>{if(l){const l=o(30/3.6),u=l/2;return Bt("g",{class:"axis"},Bt("line",{y1:e,x1:u,x2:u,class:"light"}),Bt("rect",{width:t/2,height:e,fill:"white",opacity:"0.1"}),Bt("rect",{x:t/2,width:t/2,height:e,fill:"red",opacity:"0.1"}),Bt("text",{class:"tick",transform:`translate(${u-5} 80) rotate(-90)`,filter:"url(#whiteOutlineEffect)"},r(15/3.6)),Bt("text",{class:"tick",transform:`translate(${l-5} 80) rotate(-90)`,filter:"url(#whiteOutlineEffect)"},r(30/3.6)),Bt("text",{class:"tick",transform:`translate(${t-5} 80) rotate(-90)`,filter:"url(#whiteOutlineEffect)"},`${r(i)} ${n}`))}return Bt("g",{class:"axis"},Bt("rect",{width:t,height:e,fill:"white",opacity:"0.1"}),Bt("line",{y1:e,x1:t/3,x2:t/3,class:"light"}),Bt("text",{class:"tick",transform:`translate(${t/3-5} 80) rotate(-90)`,filter:"url(#whiteOutlineEffect)"},r(i/3)),Bt("line",{y1:e,x1:2*t/3,x2:2*t/3,class:"light"}),Bt("text",{class:"tick",transform:`translate(${2*t/3-5} 80) rotate(-90)`,filter:"url(#whiteOutlineEffect)"},r(2*i/3)),Bt("text",{class:"tick",transform:`translate(${t-5} 80) rotate(-90)`,filter:"url(#whiteOutlineEffect)"},`${r(i)} ${n}`))},tr=({direction:e,y:t,speed:n})=>n>1?Bt("g",{transform:`translate(0,${t}) rotate(${e})`,stroke:"black",fill:"none"},Bt("line",{y2:"-30"}),Bt("path",{d:"M-4,-8L0,0L4,-8","stroke-linejoin":"round"})):Bt("g",{transform:`translate(0,${t})`,stroke:"black",fill:"none"},Bt("circle",{r:"6"}),Bt("circle",{r:"1"}));function nr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rr(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){if(this instanceof e){var n=[null];return n.push.apply(n,arguments),new(Function.bind.apply(t,n))}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var or,ir,lr,ur,sr={exports:{}},ar={},cr=0,pr=[],fr=[],dr=Dt.__b,_r=Dt.__r,hr=Dt.diffed,mr=Dt.__c,yr=Dt.unmount;function gr(e,t){Dt.__h&&Dt.__h(ir,e,cr||t),cr=0;var n=ir.__H||(ir.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:fr}),n.__[e]}function vr(e){return cr=1,wr(jr,e)}function wr(e,t,n){var r=gr(or++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):jr(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=ir,!ir.u)){var o=function(e,t,n){if(!r.__c.__H)return!0;var o=r.__c.__H.__.filter((function(e){return e.__c}));if(o.every((function(e){return!e.__N})))return!i||i.call(this,e,t,n);var l=!1;return o.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(l=!0)}})),!(!l&&r.__c.props===e)&&(!i||i.call(this,e,t,n))};ir.u=!0;var i=ir.shouldComponentUpdate,l=ir.componentWillUpdate;ir.componentWillUpdate=function(e,t,n){if(this.__e){var r=i;i=void 0,o(e,t,n),i=r}l&&l.call(this,e,t,n)},ir.shouldComponentUpdate=o}return r.__N||r.__}function br(e,t){var n=gr(or++,3);!Dt.__s&&Rr(n.__H,t)&&(n.__=e,n.i=t,ir.__H.__h.push(n))}function xr(e,t){var n=gr(or++,4);!Dt.__s&&Rr(n.__H,t)&&(n.__=e,n.i=t,ir.__h.push(n))}function Sr(e){return cr=5,Pr((function(){return{current:e}}),[])}function Er(e,t,n){cr=6,xr((function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0}),null==n?n:n.concat(e))}function Pr(e,t){var n=gr(or++,7);return Rr(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function kr(e,t){return cr=8,Pr((function(){return e}),t)}function Mr(e){var t=ir.context[e.__c],n=gr(or++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(ir)),t.props.value):e.__}function Tr(e,t){Dt.useDebugValue&&Dt.useDebugValue(t?t(e):e)}function Or(){var e=gr(or++,11);if(!e.__){for(var t=ir.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function Cr(){for(var e;e=pr.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach($r),e.__H.__h.forEach(Ar),e.__H.__h=[]}catch(t){e.__H.__h=[],Dt.__e(t,e.__v)}}Dt.__b=function(e){ir=null,dr&&dr(e)},Dt.__r=function(e){_r&&_r(e),or=0;var t=(ir=e.__c).__H;t&&(lr===ir?(t.__h=[],ir.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=fr,e.__N=e.i=void 0}))):(t.__h.forEach($r),t.__h.forEach(Ar),t.__h=[],or=0)),lr=ir},Dt.diffed=function(e){hr&&hr(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==pr.push(t)&&ur===Dt.requestAnimationFrame||((ur=Dt.requestAnimationFrame)||Dr)(Cr)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==fr&&(e.__=e.__V),e.i=void 0,e.__V=fr}))),lr=ir=null},Dt.__c=function(e,t){t.some((function(e){try{e.__h.forEach($r),e.__h=e.__h.filter((function(e){return!e.__||Ar(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],Dt.__e(n,e.__v)}})),mr&&mr(e,t)},Dt.unmount=function(e){yr&&yr(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{$r(e)}catch(e){t=e}})),n.__H=void 0,t&&Dt.__e(t,n.__v))};var Nr="function"==typeof requestAnimationFrame;function Dr(e){var t,n=function(){clearTimeout(r),Nr&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Nr&&(t=requestAnimationFrame(n))}function $r(e){var t=ir,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),ir=t}function Ar(e){var t=ir;e.__c=e.__(),ir=t}function Rr(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function jr(e,t){return"function"==typeof t?t(e):t}function Lr(e,t){for(let n in t)e[n]=t[n];return e}function Ir(e,t){for(let n in e)if("__source"!==n&&!(n in t))return!0;for(let n in t)if("__source"!==n&&e[n]!==t[n])return!0;return!1}function Ur(e){this.props=e}function Hr(e,t){function n(e){let n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:Ir(this.props,e)}function r(t){return this.shouldComponentUpdate=n,Bt(e,t)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r._forwarded=!0,r}Ur.prototype=new Kt,Ur.prototype.isPureReactComponent=!0,Ur.prototype.shouldComponentUpdate=function(e,t){return Ir(this.props,e)||Ir(this.state,t)};let zr=Dt._diff;Dt._diff=e=>{e.type&&e.type._forwarded&&e.ref&&(e.props.ref=e.ref,e.ref=null),zr&&zr(e)};const Fr="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Wr(e){function t(t){let n=Lr({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=Fr,t.render=t,t.prototype.isReactComponent=t._forwarded=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}const Vr=(e,t)=>null==e?null:nn(nn(e).map(t)),Br={map:Vr,forEach:Vr,count:e=>e?nn(e).length:0,only(e){const t=nn(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:nn},Gr=Dt._catchError;Dt._catchError=function(e,t,n,r){if(e.then){let r,o=t;for(;o=o._parent;)if((r=o._component)&&r._childDidSuspend)return null==t._dom&&(t._dom=n._dom,t._children=n._children),r._childDidSuspend(e,t)}Gr(e,t,n,r)};const qr=Dt.unmount;function Yr(e,t,n){return e&&(e._component&&e._component.__hooks&&(e._component.__hooks._list.forEach((e=>{"function"==typeof e._cleanup&&e._cleanup()})),e._component.__hooks=null),null!=(e=Lr({},e))._component&&(e._component._parentDom===n&&(e._component._parentDom=t),e._component=null),e._children=e._children&&e._children.map((e=>Yr(e,t,n)))),e}function Kr(e,t,n){return e&&n&&(e._original=null,e._children=e._children&&e._children.map((e=>Kr(e,t,n))),e._component&&e._component._parentDom===t&&(e._dom&&n.appendChild(e._dom),e._component._force=!0,e._component._parentDom=n)),e}function Zr(){this._pendingSuspensionCount=0,this._suspenders=null,this._detachOnNextRender=null}function Xr(e){let t=e._parent._component;return t&&t._suspended&&t._suspended(e)}function Jr(e){let t,n,r;function o(o){if(t||(t=e(),t.then((e=>{n=e.default||e}),(e=>{r=e}))),r)throw r;if(!n)throw t;return Bt(n,o)}return o.displayName="Lazy",o._forwarded=!0,o}Dt.unmount=function(e){const t=e._component;t&&t._onResolve&&t._onResolve(),t&&32&e._flags&&(e.type=null),qr&&qr(e)},Zr.prototype=new Kt,Zr.prototype._childDidSuspend=function(e,t){const n=t._component,r=this;null==r._suspenders&&(r._suspenders=[]),r._suspenders.push(n);const o=Xr(r._vnode);let i=!1;const l=()=>{i||(i=!0,n._onResolve=null,o?o(u):u())};n._onResolve=l;const u=()=>{if(! --r._pendingSuspensionCount){if(r.state._suspended){const e=r.state._suspended;r._vnode._children[0]=Kr(e,e._component._parentDom,e._component._originalParentDom)}let e;for(r.setState({_suspended:r._detachOnNextRender=null});e=r._suspenders.pop();)e.forceUpdate()}};r._pendingSuspensionCount++||32&t._flags||r.setState({_suspended:r._detachOnNextRender=r._vnode._children[0]}),e.then(l,l)},Zr.prototype.componentWillUnmount=function(){this._suspenders=[]},Zr.prototype.render=function(e,t){if(this._detachOnNextRender){if(this._vnode._children){const e=document.createElement("div"),t=this._vnode._children[0]._component;this._vnode._children[0]=Yr(this._detachOnNextRender,e,t._originalParentDom=t._parentDom)}this._detachOnNextRender=null}const n=t._suspended&&Bt(Yt,null,e.fallback);return n&&(n._flags&=-33),[Bt(Yt,null,t._suspended?null:e.children),n]};function Qr(){this._next=null,this._map=null}const eo=(e,t,n)=>{if(++n[1]===n[0]&&e._map.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e._map.size))for(n=e._next;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e._next=n=n[2]}};function to(e){return this.getChildContext=()=>e.context,e.children}function no(e){const t=this;let n=e._container;t.componentWillUnmount=function(){_n(null,t._temp),t._temp=null,t._container=null},t._container&&t._container!==n&&t.componentWillUnmount(),t._temp||(t._container=n,t._temp={nodeType:1,parentNode:n,childNodes:[],appendChild(e){this.childNodes.push(e),t._container.appendChild(e)},insertBefore(e,n){this.childNodes.push(e),t._container.appendChild(e)},removeChild(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t._container.removeChild(e)}}),_n(Bt(to,{context:t.context},e._vnode),t._temp)}function ro(e,t){const n=Bt(no,{_vnode:e,_container:t});return n.containerInfo=t,n}Qr.prototype=new Kt,Qr.prototype._suspended=function(e){const t=this,n=Xr(t._vnode);let r=t._map.get(e);return r[0]++,o=>{const i=()=>{t.props.revealOrder?(r.push(o),eo(t,e,r)):o()};n?n(i):i()}},Qr.prototype.render=function(e){this._next=null,this._map=new Map;const t=nn(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(let e=t.length;e--;)this._map.set(t[e],this._next=[1,0,this._next]);return e.children},Qr.prototype.componentDidUpdate=Qr.prototype.componentDidMount=function(){this._map.forEach(((e,t)=>{eo(this,t,e)}))};const oo="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,io=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,lo=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,uo=/[A-Z0-9]/g,so="undefined"!=typeof document,ao=e=>("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e);function co(e,t,n){return null==t._children&&(t.textContent=""),_n(e,t),"function"==typeof n&&n(),e?e._component:null}function po(e,t,n){return hn(e,t),"function"==typeof n&&n(),e?e._component:null}Kt.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((e=>{Object.defineProperty(Kt.prototype,e,{configurable:!0,get(){return this["UNSAFE_"+e]},set(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));let fo=Dt.event;function _o(){}function ho(){return this.cancelBubble}function mo(){return this.defaultPrevented}Dt.event=e=>(fo&&(e=fo(e)),e.persist=_o,e.isPropagationStopped=ho,e.isDefaultPrevented=mo,e.nativeEvent=e);const yo={enumerable:!1,configurable:!0,get(){return this.class}};let go,vo=Dt.vnode;Dt.vnode=e=>{"string"==typeof e.type&&function(e){let t=e.props,n=e.type,r={};for(let e in t){let o=t[e];if("value"===e&&"defaultValue"in t&&null==o||so&&"children"===e&&"noscript"===n||"class"===e||"className"===e)continue;let i=e.toLowerCase();"defaultValue"===e&&"value"in t&&null==t.value?e="value":"download"===e&&!0===o?o="":"ondoubleclick"===i?e="ondblclick":"onchange"!==i||"input"!==n&&"textarea"!==n||ao(t.type)?"onfocus"===i?e="onfocusin":"onblur"===i?e="onfocusout":lo.test(e)?e=i:-1===n.indexOf("-")&&io.test(e)?e=e.replace(uo,"-$&").toLowerCase():null===o&&(o=void 0):i=e="oninput","oninput"===i&&(e=i,r[e]&&(e="oninputCapture")),r[e]=o}"select"==n&&r.multiple&&Array.isArray(r.value)&&(r.value=nn(t.children).forEach((e=>{e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==n&&null!=r.defaultValue&&(r.value=nn(t.children).forEach((e=>{r.multiple?e.props.selected=-1!=r.defaultValue.indexOf(e.props.value):e.props.selected=r.defaultValue==e.props.value}))),t.class&&!t.className?(r.class=t.class,Object.defineProperty(r,"className",yo)):(t.className&&!t.class||t.class&&t.className)&&(r.class=r.className=t.className),e.props=r}(e),e.$$typeof=oo,vo&&vo(e)};const wo=Dt._render;Dt._render=function(e){wo&&wo(e),go=e._component};const bo=Dt.diffed;Dt.diffed=function(e){bo&&bo(e);const t=e.props,n=e._dom;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value),go=null};const xo={ReactCurrentDispatcher:{current:{readContext:e=>go._globalContext[e._id].props.value}}},So="17.0.2";function Eo(e){return Bt.bind(null,e)}function Po(e){return!!e&&e.$$typeof===oo}function ko(e){return Po(e)&&e.type===Yt}function Mo(e){return Po(e)?mn.apply(null,arguments):e}function To(e){return!!e._children&&(_n(null,e),!0)}function Oo(e){return e&&(e.base||1===e.nodeType&&e)||null}const Co=(e,t)=>e(t),No=(e,t)=>e(t),Do=Yt;function $o(e){e()}function Ao(e){return e}function Ro(){return[!1,$o]}const jo=xr,Lo=Po;function Io(e,t){const n=t(),[{_instance:r},o]=vr({_instance:{_value:n,_getSnapshot:t}});return xr((()=>{r._value=n,r._getSnapshot=t,Uo(r)&&o({_instance:r})}),[e,n,t]),br((()=>(Uo(r)&&o({_instance:r}),e((()=>{Uo(r)&&o({_instance:r})})))),[e]),n}function Uo(e){const t=e._getSnapshot,n=e._value;try{return!function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}(n,t())}catch(e){return!0}}var Ho={useState:vr,useId:Or,useReducer:wr,useEffect:br,useLayoutEffect:xr,useInsertionEffect:jo,useTransition:Ro,useDeferredValue:Ao,useSyncExternalStore:Io,startTransition:$o,useRef:Sr,useImperativeHandle:Er,useMemo:Pr,useCallback:kr,useContext:Mr,useDebugValue:Tr,version:So,Children:Br,render:co,hydrate:po,unmountComponentAtNode:To,createPortal:ro,createElement:Bt,createContext:yn,createFactory:Eo,cloneElement:Mo,createRef:qt,Fragment:Yt,isValidElement:Po,isElement:Lo,isFragment:ko,findDOMNode:Oo,Component:Kt,PureComponent:Ur,memo:Hr,forwardRef:Wr,flushSync:No,unstable_batchedUpdates:Co,StrictMode:Do,Suspense:Zr,SuspenseList:Qr,lazy:Jr,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:xo},zo=Object.freeze({__proto__:null,Children:Br,Component:Kt,Fragment:Yt,PureComponent:Ur,StrictMode:Do,Suspense:Zr,SuspenseList:Qr,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:xo,cloneElement:Mo,createContext:yn,createElement:Bt,createFactory:Eo,createPortal:ro,createRef:qt,default:Ho,findDOMNode:Oo,flushSync:No,forwardRef:Wr,hydrate:po,isElement:Lo,isFragment:ko,isValidElement:Po,lazy:Jr,memo:Hr,render:co,startTransition:$o,unmountComponentAtNode:To,unstable_batchedUpdates:Co,useCallback:kr,useContext:Mr,useDebugValue:Tr,useDeferredValue:Ao,useEffect:br,useErrorBoundary:function(e){var t=gr(or++,10),n=vr();return t.__=e,ir.componentDidCatch||(ir.componentDidCatch=function(e,r){t.__&&t.__(e,r),n[1](e)}),[n[0],function(){n[1](void 0)}]},useId:Or,useImperativeHandle:Er,useInsertionEffect:jo,useLayoutEffect:xr,useMemo:Pr,useReducer:wr,useRef:Sr,useState:vr,useSyncExternalStore:Io,useTransition:Ro,version:So}),Fo=rr(zo),Wo=Fo;var Vo="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Bo=Wo.useState,Go=Wo.useEffect,qo=Wo.useLayoutEffect,Yo=Wo.useDebugValue;function Ko(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vo(e,n)}catch(e){return!0}}var Zo="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=Bo({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return qo((function(){o.value=n,o.getSnapshot=t,Ko(o)&&i({inst:o})}),[e,n,t]),Go((function(){return Ko(o)&&i({inst:o}),e((function(){Ko(o)&&i({inst:o})}))}),[e]),Yo(n),n};ar.useSyncExternalStore=void 0!==Wo.useSyncExternalStore?Wo.useSyncExternalStore:Zo,sr.exports=ar;var Xo=sr.exports,Jo=Fo,Qo=Xo;"function"==typeof Object.is&&Object.is,Qo.useSyncExternalStore,Jo.useRef,Jo.useEffect,Jo.useMemo,Jo.useDebugValue;let ei=function(e){e()};const ti=()=>ei,ni=Symbol.for("react-redux-context"),ri="undefined"!=typeof globalThis?globalThis:{};function oi(){var e;if(!yn)return{};const t=null!=(e=ri[ni])?e:ri[ni]=new Map;let n=t.get(yn);return n||(n=yn(null),t.set(yn,n)),n}const ii=oi();function li(){return li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},li.apply(this,arguments)}function ui(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var si={exports:{}},ai={},ci="function"==typeof Symbol&&Symbol.for,pi=ci?Symbol.for("react.element"):60103,fi=ci?Symbol.for("react.portal"):60106,di=ci?Symbol.for("react.fragment"):60107,_i=ci?Symbol.for("react.strict_mode"):60108,hi=ci?Symbol.for("react.profiler"):60114,mi=ci?Symbol.for("react.provider"):60109,yi=ci?Symbol.for("react.context"):60110,gi=ci?Symbol.for("react.async_mode"):60111,vi=ci?Symbol.for("react.concurrent_mode"):60111,wi=ci?Symbol.for("react.forward_ref"):60112,bi=ci?Symbol.for("react.suspense"):60113,xi=ci?Symbol.for("react.suspense_list"):60120,Si=ci?Symbol.for("react.memo"):60115,Ei=ci?Symbol.for("react.lazy"):60116,Pi=ci?Symbol.for("react.block"):60121,ki=ci?Symbol.for("react.fundamental"):60117,Mi=ci?Symbol.for("react.responder"):60118,Ti=ci?Symbol.for("react.scope"):60119;function Oi(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case pi:switch(e=e.type){case gi:case vi:case di:case hi:case _i:case bi:return e;default:switch(e=e&&e.$$typeof){case yi:case wi:case Ei:case Si:case mi:return e;default:return t}}case fi:return t}}}function Ci(e){return Oi(e)===vi}ai.AsyncMode=gi,ai.ConcurrentMode=vi,ai.ContextConsumer=yi,ai.ContextProvider=mi,ai.Element=pi,ai.ForwardRef=wi,ai.Fragment=di,ai.Lazy=Ei,ai.Memo=Si,ai.Portal=fi,ai.Profiler=hi,ai.StrictMode=_i,ai.Suspense=bi,ai.isAsyncMode=function(e){return Ci(e)||Oi(e)===gi},ai.isConcurrentMode=Ci,ai.isContextConsumer=function(e){return Oi(e)===yi},ai.isContextProvider=function(e){return Oi(e)===mi},ai.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===pi},ai.isForwardRef=function(e){return Oi(e)===wi},ai.isFragment=function(e){return Oi(e)===di},ai.isLazy=function(e){return Oi(e)===Ei},ai.isMemo=function(e){return Oi(e)===Si},ai.isPortal=function(e){return Oi(e)===fi},ai.isProfiler=function(e){return Oi(e)===hi},ai.isStrictMode=function(e){return Oi(e)===_i},ai.isSuspense=function(e){return Oi(e)===bi},ai.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===di||e===vi||e===hi||e===_i||e===bi||e===xi||"object"==typeof e&&null!==e&&(e.$$typeof===Ei||e.$$typeof===Si||e.$$typeof===mi||e.$$typeof===yi||e.$$typeof===wi||e.$$typeof===ki||e.$$typeof===Mi||e.$$typeof===Ti||e.$$typeof===Pi)},ai.typeOf=Oi,si.exports=ai;var Ni=si.exports,Di={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},$i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ai={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ri={};function ji(e){return Ni.isMemo(e)?Ai:Ri[e.$$typeof]||Di}Ri[Ni.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ri[Ni.Memo]=Ai;var Li=Object.defineProperty,Ii=Object.getOwnPropertyNames,Ui=Object.getOwnPropertySymbols,Hi=Object.getOwnPropertyDescriptor,zi=Object.getPrototypeOf,Fi=Object.prototype;var Wi,Vi=function e(t,n,r){if("string"!=typeof n){if(Fi){var o=zi(n);o&&o!==Fi&&e(t,o,r)}var i=Ii(n);Ui&&(i=i.concat(Ui(n)));for(var l=ji(t),u=ji(n),s=0;s<i.length;++s){var a=i[s];if(!($i[a]||r&&r[a]||u&&u[a]||l&&l[a])){var c=Hi(n,a);try{Li(t,a,c)}catch(e){}}}}return t},Bi=nr(Vi),Gi={exports:{}},qi={},Yi=Symbol.for("react.element"),Ki=Symbol.for("react.portal"),Zi=Symbol.for("react.fragment"),Xi=Symbol.for("react.strict_mode"),Ji=Symbol.for("react.profiler"),Qi=Symbol.for("react.provider"),el=Symbol.for("react.context"),tl=Symbol.for("react.server_context"),nl=Symbol.for("react.forward_ref"),rl=Symbol.for("react.suspense"),ol=Symbol.for("react.suspense_list"),il=Symbol.for("react.memo"),ll=Symbol.for("react.lazy"),ul=Symbol.for("react.offscreen");function sl(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Yi:switch(e=e.type){case Zi:case Ji:case Xi:case rl:case ol:return e;default:switch(e=e&&e.$$typeof){case tl:case el:case nl:case ll:case il:case Qi:return e;default:return t}}case Ki:return t}}}Wi=Symbol.for("react.module.reference"),qi.ContextConsumer=el,qi.ContextProvider=Qi,qi.Element=Yi,qi.ForwardRef=nl,qi.Fragment=Zi,qi.Lazy=ll,qi.Memo=il,qi.Portal=Ki,qi.Profiler=Ji,qi.StrictMode=Xi,qi.Suspense=rl,qi.SuspenseList=ol,qi.isAsyncMode=function(){return!1},qi.isConcurrentMode=function(){return!1},qi.isContextConsumer=function(e){return sl(e)===el},qi.isContextProvider=function(e){return sl(e)===Qi},qi.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Yi},qi.isForwardRef=function(e){return sl(e)===nl},qi.isFragment=function(e){return sl(e)===Zi},qi.isLazy=function(e){return sl(e)===ll},qi.isMemo=function(e){return sl(e)===il},qi.isPortal=function(e){return sl(e)===Ki},qi.isProfiler=function(e){return sl(e)===Ji},qi.isStrictMode=function(e){return sl(e)===Xi},qi.isSuspense=function(e){return sl(e)===rl},qi.isSuspenseList=function(e){return sl(e)===ol},qi.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===Zi||e===Ji||e===Xi||e===rl||e===ol||e===ul||"object"==typeof e&&null!==e&&(e.$$typeof===ll||e.$$typeof===il||e.$$typeof===Qi||e.$$typeof===el||e.$$typeof===nl||e.$$typeof===Wi||void 0!==e.getModuleId)},qi.typeOf=sl,Gi.exports=qi;var al=Gi.exports;const cl=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function pl(e,t,n,r,{areStatesEqual:o,areOwnPropsEqual:i,areStatePropsEqual:l}){let u,s,a,c,p,f=!1;function d(f,d){const _=!i(d,s),h=!o(f,u,d,s);return u=f,s=d,_&&h?(a=e(u,s),t.dependsOnOwnProps&&(c=t(r,s)),p=n(a,c,s),p):_?(e.dependsOnOwnProps&&(a=e(u,s)),t.dependsOnOwnProps&&(c=t(r,s)),p=n(a,c,s),p):h?function(){const t=e(u,s),r=!l(t,a);return a=t,r&&(p=n(a,c,s)),p}():p}return function(o,i){return f?d(o,i):(u=o,s=i,a=e(u,s),c=t(r,s),p=n(a,c,s),f=!0,p)}}function fl(e){return function(t){const n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function dl(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function _l(e,t){return function(t,{displayName:n}){const r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=dl(e);let o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=dl(o),o=r(t,n)),o},r}}function hl(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function ml(e,t,n){return li({},n,e,t)}const yl={notify(){},get:()=>[]};function gl(e,t){let n,r=yl,o=0,i=!1;function l(){a.onStateChange&&a.onStateChange()}function u(){o++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=function(){const e=ti();let t=null,n=null;return{clear(){t=null,n=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let r=!0,o=n={callback:e,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}())}function s(){o--,n&&0===o&&(n(),n=void 0,r.clear(),r=yl)}const a={addNestedSub:function(e){u();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),s())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:l,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,u())},tryUnsubscribe:function(){i&&(i=!1,s())},getListeners:()=>r};return a}const vl=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?xr:br;function wl(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function bl(e,t){if(wl(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!wl(e[n[r]],t[n[r]]))return!1;return!0}const xl=["reactReduxForwardedRef"];let Sl=()=>{throw new Error("uSES not initialized!")};const El=[null,null];function Pl(e,t,n,r,o,i){e.current=r,n.current=!1,o.current&&(o.current=null,i())}function kl(e,t){return e===t}function Ml(e,t,n,{pure:r,areStatesEqual:o=kl,areOwnPropsEqual:i=bl,areStatePropsEqual:l=bl,areMergedPropsEqual:u=bl,forwardRef:s=!1,context:a=ii}={}){const c=a,p=function(e){return e?"function"==typeof e?_l(e):hl(e,"mapStateToProps"):fl((()=>({})))}(e),f=function(e){return e&&"object"==typeof e?fl((t=>function(e,t){const n={};for(const r in e){const o=e[r];"function"==typeof o&&(n[r]=(...e)=>t(o(...e)))}return n}(e,t))):e?"function"==typeof e?_l(e):hl(e,"mapDispatchToProps"):fl((e=>({dispatch:e})))}(t),d=function(e){return e?"function"==typeof e?function(e){return function(t,{displayName:n,areMergedPropsEqual:r}){let o,i=!1;return function(t,n,l){const u=e(t,n,l);return i?r(u,o)||(o=u):(i=!0,o=u),o}}}(e):hl(e,"mergeProps"):()=>ml}(n),_=Boolean(e);return e=>{const t=e.displayName||e.name||"Component",n=`Connect(${t})`,r={shouldHandleStateChanges:_,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:p,initMapDispatchToProps:f,initMergeProps:d,areStatesEqual:o,areStatePropsEqual:l,areOwnPropsEqual:i,areMergedPropsEqual:u};function a(t){const[n,o,i]=Pr((()=>{const{reactReduxForwardedRef:e}=t,n=ui(t,xl);return[t.context,e,n]}),[t]),l=Pr((()=>n&&n.Consumer&&al.isContextConsumer(Bt(n.Consumer,null))?n:c),[n,c]),u=Mr(l),s=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),a=Boolean(u)&&Boolean(u.store),p=s?t.store:u.store,f=a?u.getServerState:p.getState,d=Pr((()=>function(e,t){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:o}=t,i=ui(t,cl);return pl(n(e,i),r(e,i),o(e,i),e,i)}(p.dispatch,r)),[p]),[h,m]=Pr((()=>{if(!_)return El;const e=gl(p,s?void 0:u.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[p,s,u]),y=Pr((()=>s?u:li({},u,{subscription:h})),[s,u,h]),g=Sr(),v=Sr(i),w=Sr(),b=Sr(!1);Sr(!1);const x=Sr(!1),S=Sr();vl((()=>(x.current=!0,()=>{x.current=!1})),[]);const E=Pr((()=>()=>w.current&&i===v.current?w.current:d(p.getState(),i)),[p,i]),P=Pr((()=>e=>h?function(e,t,n,r,o,i,l,u,s,a,c){if(!e)return()=>{};let p=!1,f=null;const d=()=>{if(p||!u.current)return;const e=t.getState();let n,d;try{n=r(e,o.current)}catch(e){d=e,f=e}d||(f=null),n===i.current?l.current||a():(i.current=n,s.current=n,l.current=!0,c())};return n.onStateChange=d,n.trySubscribe(),d(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}(_,p,h,d,v,g,b,x,w,m,e):()=>{}),[h]);var k,M,T;let O;k=Pl,M=[v,g,b,i,w,m],vl((()=>k(...M)),T);try{O=Sl(P,E,f?()=>d(f(),i):E)}catch(e){throw S.current&&(e.message+=`\nThe error may be correlated with this previous error:\n${S.current.stack}\n\n`),e}vl((()=>{S.current=void 0,w.current=void 0,g.current=O}));const C=Pr((()=>Bt(e,li({},O,{ref:o}))),[o,e,O]);return Pr((()=>_?Bt(l.Provider,{value:y},C):C),[l,C,y])}const h=Hr(a);if(h.WrappedComponent=e,h.displayName=a.displayName=n,s){const t=Wr((function(e,t){return Bt(h,li({},e,{reactReduxForwardedRef:t}))}));return t.displayName=n,t.WrappedComponent=e,Bi(t,e)}return Bi(h,e)}}function Tl({store:e,context:t,children:n,serverState:r,stabilityCheck:o="once",noopCheck:i="once"}){const l=Pr((()=>{const t=gl(e);return{store:e,subscription:t,getServerState:r?()=>r:void 0,stabilityCheck:o,noopCheck:i}}),[e,r,o,i]),u=Pr((()=>e.getState()),[e]);vl((()=>{const{subscription:t}=l;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),u!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}}),[l,u]);return Bt((t||ii).Provider,{value:l},n)}var Ol;Ol=Xo.useSyncExternalStore,Sl=Ol,ei=Co;const Cl=e=>({setYPointer:t=>{e((e=>({type:C,payload:e}))(t))}});const Nl=Ml((function(e){if(je(e))return{isLoading:!0};const t=bn(e),n=Nn(e);let r;if(We(e)){const o=function(e,t,n,r,o){const i={},l=[],u=[],s=[],a=[],c=ht(mt(o),r),p=re(e.level,e.gh),f=p(r),d=Math.max(f,e.gh[e.gh.length-1]),_=(d-f)/t;for(let e=f;e<=d;e+=_){const t=p.invert(e),o=_t(t,n,r),i=vt(gt(t,c));l.push(e),u.push(t),s.push(o),a.push(i)}const h=ee(l,s,l,a);let m=ee(l,s,e.gh,e.temp);if(!m)return null;if(h&&h[0]<m[0]){m=h;const t=p.invert(h[0]),n=[],r=[],o=[];let l=h[1],s=t;for(let e=h[0];e<d+_;e+=_){const t=p.invert(e);l+=(t-s)*yt(t,l),s=t,n.push(e),r.push(t),o.push(l)}const c=te(a,u).filter((e=>e[1]>t));c.push([h[1],t]);let f=te(o,r);const y=ee(n,o,e.gh,e.temp);if(i.pCloudTop=e.level[e.level.length-1],y){const e=p.invert(y[0]);f=f.filter((t=>t[1]>=e)),f.push([y[1],e]),i.pCloudTop=e}i.moist=f,i.isohume=c}const y=p.invert(m[0]),g=te(s,u).filter((e=>e[1]>y));return g.push([m[1],y]),i.dry=g,i.pThermalTop=y,i.elevThermalTop=m[0],i}(t,40,Dn(e)+3,n,$n(e));if(o){const{dry:e,moist:t,isohume:n,elevThermalTop:i,pThermalTop:l,pCloudTop:u}=o;r={trajectory:e.concat(t||[]),isohume:n,elevThermalTop:i,pThermalTop:l,pCloudTop:u}}}return{isLoading:!1,params:t,pMax:vn(e),cloudCover:Re(e),pSfc:n,parcel:r,formatAltitude:Oe(e),formatTemp:Te(e),tAxisToPx:kn(e),tToPx:Pn(e),pToPx:Mn(e),pAxisToPx:On(e),line:Cn(e),tMetric:we(e),tAxisStep:Rn(e),ghMetric:be(e),ghAxisStep:An(e),zoom:ke(e),skew:En(e),yPointer:Me(e)}}),Cl)(class extends zn{constructor(e){super(e)}render({isLoading:e,params:t,pMax:n,width:r,height:o,cloudCover:i,pSfc:l,parcel:u,formatAltitude:s,formatTemp:a,tAxisToPx:c,tToPx:p,pToPx:f,pAxisToPx:d,line:_,tMetric:h,tAxisStep:m,ghMetric:y,ghAxisStep:g,zoom:v,skew:w,yPointer:b,setYPointer:x}){if(e)return;const S=f(l);let E=0,P=0;return null!=b&&(E=Q(t.level,t.temp,[f.invert(b)])[0],P=Q(t.level,t.dewpoint,[f.invert(b)])[0]),Bt("svg",{width:r,height:o+20},Bt("defs",null,Bt("pattern",{id:"diag-hatch",patternUnits:"userSpaceOnUse",width:"8",height:"8",patternTransform:"rotate(45 2 2)"},Bt("rect",{width:"8",height:"8",fill:"#f8f8f8",opacity:"0.7"}),Bt("path",{d:"M 0,-1 L 0,11",stroke:"gray","stroke-width":"1"})),Bt("filter",{id:"whiteOutlineEffect","color-interpolation-filters":"sRGB"},Bt("feMorphology",{in:"SourceAlpha",result:"MORPH",operator:"dilate",radius:"2"}),Bt("feColorMatrix",{in:"MORPH",result:"WHITENED",type:"matrix",values:"-1 0 0 0 1, 0 -1 0 0 1, 0 0 -1 0 1, 0 0 0 1 0"}),Bt("feMerge",null,Bt("feMergeNode",{in:"WHITENED"}),Bt("feMergeNode",{in:"SourceGraphic"})))),Bt("g",{class:"chart skewt",onPointerLeave:()=>x(null),onPointerMove:e=>x(e.offsetY)},Bt("rect",{width:r,height:o,fill:"white",opacity:"0.1"}),Bt("g",{class:"axis"},[-20,-10,0,10,20,30,40,50,60,70,80].map((e=>Bt(Gn,{temp:e+273.15,pressure:n,height:o,pToPx:f,line:_}))),[-20,-10,0,5,10,15,20,25,30,35].map((e=>Bt(qn,{temp:e+273.15,pressure:n,height:o,pToPx:f,line:_}))),[-20,-15,-10,-5,0,5,10,15,20].map((e=>Bt(Yn,{temp:e+273.15,pressure:n,height:o,pToPx:f,line:_}))),[-70,-60,-50,-40,-30,-20,-10,0,10,20,30,40].map((e=>Bt(Kn,{temp:e+273.15,height:o,pToPx:f,line:_}))),u&&Bt(Vn,{parcel:u,width:r,height:o,line:_,pToPx:f,formatAltitude:s}),Bt(Zn,{width:r,height:o,tAxisToPx:c,step:m,metric:h}),Bt(Jn,{width:r,height:o,cloudCover:i,pToPx:f,pSfc:l,highClouds:v}),Bt(Xn,{width:r,pAxisToPx:d,step:g,metric:y})),Bt("path",{class:"line temperature",d:_(te(t.temp,t.level))}),Bt("path",{class:"line dewpoint",d:_(te(t.dewpoint,t.level))}),Bt("rect",{class:"surface",y:S,width:r,height:o-S+1}),null!=b&&b<S?Bt("g",null,Bt("text",{class:"tick","text-anchor":"end",style:"fill: black;","dominant-baseline":"hanging",x:r-7,y:b+4,filter:"url(#whiteOutlineEffect)"},100*Math.round(d.invert(b)/100)),Bt("text",{class:"tick",style:"fill: red;","dominant-baseline":"hanging",x:p(E)+w*(o-b)+10,y:b+4,filter:"url(#whiteOutlineEffect)"},a(E)),Bt("text",{class:"tick",style:"fill: steelblue;","dominant-baseline":"hanging",x:p(P)+w*(o-b)+10,y:b+4,filter:"url(#whiteOutlineEffect)"},a(P)),Bt("line",{y1:b,y2:b,x2:r,class:"boundary"})):null,Bt("rect",{class:"border",height:o,width:r})))}}),Dl=Ml((e=>je(e)?{isLoading:!0}:{isLoading:!1,params:bn(e),windSpeedMax:Ln(e),format:Ce(e),metric:xe(e),pSfc:Nn(e),pToPx:Mn(e),speedToPx:In(e),line:Un(e),zoom:ke(e),yPointer:Me(e)}),Cl)(class extends zn{constructor(e){super(e)}render({isLoading:e,params:t,width:n,height:r,windSpeedMax:o,metric:i,format:l,pSfc:u,pToPx:s,speedToPx:a,line:c,zoom:p,yPointer:f,setYPointer:d}){if(e)return;const _=s(u);let h=0;return null!=f&&(h=Q(t.level,t.windSpeed,[s.invert(f)])[0]),Bt("g",{class:"chart wind",onPointerLeave:()=>d(null),onPointerMove:e=>d(e.offsetY)},Bt("defs",null,Bt("filter",{id:"whiteOutlineEffect","color-interpolation-filters":"sRGB"},Bt("feMorphology",{in:"SourceAlpha",result:"MORPH",operator:"dilate",radius:"2"}),Bt("feColorMatrix",{in:"MORPH",result:"WHITENED",type:"matrix",values:"-1 0 0 0 1, 0 -1 0 0 1, 0 0 -1 0 1, 0 0 0 1 0"}),Bt("feMerge",null,Bt("feMergeNode",{in:"WHITENED"}),Bt("feMergeNode",{in:"SourceGraphic"})))),Bt("path",{class:"line wind",d:c(te(t.windSpeed,t.level))}),Bt(er,{speedToPx:a,width:n,height:r,maxSpeed:o,metric:i,format:l,zoom:p}),Bt("g",{transform:`translate(${n/2}, 0)`},t.level.map(((e,n)=>e<=u?Bt(tr,{direction:t.windDir[n],speed:t.windSpeed[n],y:s(e)}):null))),Bt("rect",{class:"surface",y:_,width:n,height:r-_+1}),null!=f&&f<_?Bt("g",null,Bt("text",{class:"tick","text-anchor":"end","dominant-baseline":"hanging",x:n-5,y:f+4,filter:"url(#whiteOutlineEffect)"},l(h)),Bt("line",{id:"wind-hint-line",y1:f,y2:f,x2:n,class:"boundary"})):null,Bt("rect",{class:"border",height:r,width:n}))}}),$l=Ml((e=>({favorites:Se(e),location:Ne(e),isMobile:u.isMobile||u.isTablet})))(class extends zn{render({favorites:e,location:n,isMobile:r,onSelected:i}){if(e.sort(((e,t)=>Fn(e)>Fn(t)?1:-1)),r){const r=o.get("product"),l=c.getAllPointProducts(t.str2latLon(n)).filter((e=>A.some((t=>e.startsWith(t)))));return l.sort(),Bt("div",{style:"display: flex; justify-content: space-between; margin-bottom: 3px"},Bt("select",{id:"wsp-select-fav",onChange:e=>function(e,t){if(e.target.value){const[n,r]=e.target.value.split("#").map((e=>Number(e)));t({lat:n,lon:r},e)}}(e,i),style:"max-width: 60%"},Bt("option",null,"Pick a favorite"),e.map((e=>Bt("option",{value:`${e.lat}#${e.lon}`,selected:t.latLon2str(e)==n},Fn(e))))),Bt("select",{id:"wsp-select-model",onChange:e=>{return t=e.target.value,Ot().dispatch(z(t)),void o.set("product",t);var t},style:"max-width: 35%"},l.map((e=>Bt("option",{value:e,selected:e==r},e)))))}return 0==e.length?Bt("div",{id:"fly-to",class:"size-s"},Bt("span",{"data-icon":"m"},"Add favorites to enable fly to.")):Bt("div",{id:"fly-to",class:"size-s"},e.map((e=>Bt("span",{class:"location"+(t.latLon2str(e)==n?" selected":""),onClick:t=>i(e,t)},Fn(e)))))}});function Al(e){return new Date(e).toLocaleString([],{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}const Rl=Ml((e=>je(e)?{isLoading:!0}:{isLoading:!1,modelName:ge(e),updated:Ie(e),nextUpdate:Ue(e)}))((({isLoading:e,modelName:t,updated:n,nextUpdate:r})=>{if(e)return;const o=Al(n),i=Al(r);return Bt("p",{class:"model"},"Model ",Bt("strong",null,t.toUpperCase())," (",o,"). Next update on ",i,".")})),jl=Ml((e=>{const t=Ee(e),n=(e=>e.plugin.height)(e),r={centerMap:Ve(e),wheelHandler:()=>null,title:()=>Bt("p",{class:"model"},"Loading..."),chart:()=>Bt(Wn,{cx:t/2,cy:n/2}),width:t,height:n,graphHeight:Pe(e),skewTWidth:gn(e),windgramWidth:jn(e),zoom:ke(e)};if(je(e))return r;return bn(e)?{...r,title:()=>Bt(Rl,null),chart:({skewTWidth:e,windgramWidth:t,height:n})=>Bt("g",null,Bt(Nl,{width:e,height:n}),Bt("g",{transform:`translate(${e+5}, 0)`},Bt(Dl,{width:t,height:n}))),wheelHandler:qe(e)}:{...r,title:()=>Bt("p",{class:"model"},"Forecast not available"),chart:()=>Bt("text",{x:"50%",y:"50%","text-anchor":"middle"},"Forecast not available")}}),(e=>({onFavSelected:t=>({lat:n,lon:r})=>{e(H(n,r)),t(n,r)},onZoomClick:()=>{e({type:$})}})))((({title:e,chart:t,centerMap:n,onFavSelected:r,wheelHandler:o,width:i,height:l,zoom:u,onZoomClick:s,graphHeight:a,skewTWidth:c,windgramWidth:p})=>Bt("div",null,e(),Bt("img",{class:"wsp-abs",src:"https://logs-01.loggly.com/inputs/8298f665-7a6e-44e6-926f-4795243b5e4b.gif?source=pixel",width:"1",height:"1"}),Bt("div",{style:"position:relative"},Bt("svg",{width:i,height:l,onWheel:o},t({height:a,skewTWidth:c,windgramWidth:p})),Bt("div",{id:"wsp-zoom",class:"iconfont clickable-size",onClick:s},u?"":"")),Bt($l,{onSelected:r(n)}))));let Ll,Il;e.ondestroy=()=>{Il.dispatch(V()),Il.dispatch({type:S}),Il.dispatch(B(!1))},e.onmount=e=>{Ll=e,Il=Ot(Ll);const n=Ll.querySelector("#bsounding-chart");if(_n(Bt(Tl,{store:Il},Bt(jl,null)),n),u.isMobileOrTablet){const e=document.querySelector("#windy-plugin-sounding"),n=e.classList;n.remove("plugin-lhpane"),n.add("window"),t.loadScript("https://unpkg.com/swipe-listener@1.3.0/dist/swipe-listener.min.js").then((()=>{SwipeListener(e,{minHorizontal:e.offsetWidth/6,mouse:!1}),e.addEventListener("swipe",(e=>{const{right:t,left:n}=e.detail.directions,r=n?-1:t?1:0;Be(Ot().getState())({direction:r,changeDay:!0})}))})).catch((e=>console.error(e)))}},e.onopen=e=>{let t,n;if(e??={},e.query?(t=e.query.lat,n=e.query.lon):(t=e.lat,n=e.lon),null==t||null==n){const e=h.getCenter();t=e.lat,n=e.lng}if(t=Number(t),n=Number(n),!Il.getState().plugin.active){h.setZoom(10,{animate:!1}),o.set("overlay","clouds");const e=o.on("timestamp",(()=>{Il.dispatch(F(o.get("timestamp")))}));Il.dispatch(W((()=>o.off(e))));const t=o.on("product",(()=>{Il.dispatch(z(o.get("product")))}));if(Il.dispatch(W((()=>o.off(t)))),u.isMobileOrTablet){const e=({latlng:e})=>Il.dispatch(H(e.lat,e.lng));h.on("click",e),Il.dispatch(W((()=>h.off("click",e))))}else{const e=d.on("pickerOpened",(({lat:e,lon:t})=>{Il.dispatch(H(e,t))}));Il.dispatch(W((()=>d.off(e))));const t=d.on("pickerMoved",(({lat:e,lon:t})=>{Il.dispatch(H(e,t))}));Il.dispatch(W((()=>d.off(t))))}const n=f.on("favsChanged",(()=>{Il.dispatch(R(f.getArray()))}));Il.dispatch(W((()=>f.off(n)))),Il.dispatch(R(f.getArray())),Il.dispatch(B(!0))}Ct(),Il.dispatch(H(t,n)),Il.dispatch(z(o.get("product"))),Il.dispatch(F(o.get("timestamp"))),Ve(Il.getState())(t,n),Ll.oncontextmenu=Ll.ondblclick=Ll.onclick=e=>e.stopPropagation()}}),'<div class="plugin-content"><div class="title">Sounding forecast</div><div id="bsounding-chart"></div></div>',"@media only screen and (min-device-width:736px){.onwindy-plugin-sounding .left-border{left:550px}}.onwindy-plugin-sounding #search{display:none}#windy-plugin-sounding{font-size:12px;padding:1em 1em;line-height:2;z-index:100;height:100%;width:550px}#windy-plugin-sounding .title{margin:0 0 .3em .6em;font-size:16px}@media screen and (max-device-width:1024px){#windy-plugin-sounding{display:block;left:0;top:0;right:0;width:100%;height:auto;margin:0}#windy-plugin-sounding .plugin-content{bottom:auto}#windy-plugin-sounding .title{margin:0 0 2px 5px;font-size:16px}#windy-plugin-sounding p.model{display:none}}#windy-plugin-sounding .closing-x{display:block}#windy-plugin-sounding .wsp-abs{position:absolute}#windy-plugin-sounding #wsp-zoom{position:absolute;top:5px;left:60px;font-size:25px;user-select:none;color:#9d0300}#windy-plugin-sounding select{font-size:1rem}#windy-plugin-sounding .axis path,#windy-plugin-sounding .axis line{fill:none;stroke:#000}#windy-plugin-sounding .axis .light{stroke-width:.2}#windy-plugin-sounding #bsounding-chart{padding:0 5px}#windy-plugin-sounding #bsounding-chart svg{touch-action:none}#windy-plugin-sounding #bsounding-chart p.model{margin:0}#windy-plugin-sounding #bsounding-chart .chart .border{fill:none;stroke:gray;stroke-width:1}#windy-plugin-sounding #bsounding-chart .cumulus{stroke:#030104;stroke-width:2px;fill:ivory}#windy-plugin-sounding #bsounding-chart .line{pointer-events:none;stroke-width:3;fill:none;stroke-linejoin:round}#windy-plugin-sounding #bsounding-chart .line.dewpoint{stroke:steelblue}#windy-plugin-sounding #bsounding-chart .line.temperature{stroke:red}#windy-plugin-sounding #bsounding-chart .line.wind{stroke:purple}#windy-plugin-sounding #bsounding-chart line.boundary{stroke-width:1;stroke-dasharray:8;stroke:gray}#windy-plugin-sounding #bsounding-chart .moist{fill:none;stroke:green;stroke-width:.3;stroke-dasharray:4 6}#windy-plugin-sounding #bsounding-chart .dry{fill:none;stroke:green;stroke-width:.3}#windy-plugin-sounding #bsounding-chart .isohume{fill:none;stroke:blue;stroke-width:.3;stroke-dasharray:4 6}#windy-plugin-sounding #bsounding-chart .isotherm{stroke:darkred;stroke-width:.3}#windy-plugin-sounding #bsounding-chart .isotherm.zero{stroke-width:1}#windy-plugin-sounding #bsounding-chart .parcel{stroke-width:3;fill:none;stroke-linejoin:round}#windy-plugin-sounding #bsounding-chart .parcel.trajectory{stroke:#599c00}#windy-plugin-sounding #bsounding-chart .parcel.isohume{stroke-width:1;stroke:gray;stroke-dasharray:4}#windy-plugin-sounding #bsounding-chart text.tick{font-size:12px;font-family:sans-serif;fill:black}#windy-plugin-sounding #bsounding-chart .surface{fill:#8f6d4d}#windy-plugin-sounding #fly-to{padding:0 15px 0 8px}#windy-plugin-sounding #fly-to .location{border:1px solid #bbb;border-radius:1em;line-height:1em;padding:.3em .6em;user-select:none;display:inline-block;margin-right:.3em;cursor:pointer}#windy-plugin-sounding #fly-to .selected{background-color:#d49500;border-color:#d49500;color:white}");
