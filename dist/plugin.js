!function(){"use strict";const e=W.require("utils"),t=W.require("@plugins/plugin-data-loader")({key:"QKlmnpLWr2rZSyFaT7LpxZc0d5bo34D4",plugin:"windy-plugin-sounding"}),n="SDG.SET_LOCATION",r="SDG.SET_MODEL",o="SDG.SET_TIME",i="SDG.ADD_SUBSCRIPTION",a="SDG.DELETE_SUBSCRIPTION",u="SDG.SET_ACTIVE",s="SDG.MOVE_MARKER",l="SDG.REMOVE_MARKER",c="SDG.SET_WIDTH",p="SDG.SET_HEIGHT",d="SDG.SET_METRIC_TEMP",f="SDG.SET_METRIC_ALTITUDE",h="SDG.SET_METRIC_SPEED",_="SDG.ADD_FAVORITE",y="SDG.FETCH_PARAMS",m="SDG.RECEIVE_PARAMS",g="SDG.SET_ZOOM",v=e=>({type:g,payload:{zoom:e}}),b=(e,t)=>r=>{r({type:n,payload:{lat:e,lon:t}}),r(P(e,t)),r(E())},w=e=>t=>{/^(ecmwf|gfs|nam|iconEu)/.test(e)||(e="gfs"),t({type:r,payload:{modelName:e}}),t(E())},x=e=>({type:o,payload:{timestamp:e}}),S=e=>({type:i,payload:{cb:e}});const T=()=>(e,t)=>{t().plugin.subscriptions.forEach((t=>{t(),e(function(e){return{type:a,payload:{cb:e}}}(t))}))},k=e=>({type:u,payload:{active:e}}),P=(e,t)=>({type:s,payload:{lat:e,lon:t}});function E(){return(n,r)=>{const o=r(),{lat:i,lon:a,modelName:u}=o.plugin;if(null!=i&&null!=a&&null!=u&&function(t,n,r){if(!t)return!0;const o=t[e.latLon2str({lat:n,lon:r})];if(!o)return!0;if(o.isLoading)return!1;const i=Date.now();return i>o.nextUpdate&&i-o.loaded>6e4}(r().models[u],i,a)){n(C(i,a,u));const e={model:u,lat:i,lon:a};Promise.all([t("airData",e),t("forecast",e)]).then((([e,t])=>{n(O(i,a,u,e.data,t.data))}))}}}const C=(e,t,n)=>({type:y,payload:{lat:e,lon:t,modelName:n}}),O=(e,t,n,r,o)=>({type:m,payload:{lat:e,lon:t,modelName:n,airData:r,forecast:o}}),M="SKT.SET_WIDTH",N="SKT.SET_HEIGHT",D="SKT.SET_P_MIN",A="WND.SET_WIDTH",R="WND.SET_HEIGHT";var j=function(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")()),U=function(){return Math.random().toString(36).substring(7).split("").join(".")},$={INIT:"@@redux/INIT"+U(),REPLACE:"@@redux/REPLACE"+U(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+U()}};function I(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function H(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(H)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var o=e,i=t,a=[],u=a,s=!1;function l(){u===a&&(u=a.slice())}function c(){if(s)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return i}function p(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(s)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return l(),u.push(e),function(){if(t){if(s)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,l();var n=u.indexOf(e);u.splice(n,1),a=null}}}function d(e){if(!I(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(s)throw new Error("Reducers may not dispatch actions.");try{s=!0,i=o(i,e)}finally{s=!1}for(var t=a=u,n=0;n<t.length;n++){(0,t[n])()}return e}function f(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,d({type:$.REPLACE})}function h(){var e,t=p;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[j]=function(){return this},e}return d({type:$.INIT}),(r={dispatch:d,subscribe:p,getState:c,replaceReducer:f})[j]=h,r}function F(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function q(e,t){return function(){return t(e.apply(this,arguments))}}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(n,!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function K(e,t,n,r,o){if(e==n)return t;const i=(o-e)/(n-e);return Array.isArray(t)?t.map(((e,t)=>e*(1-i)+r[t]*i)):t*(1-i)+r*i}function Z(e,t,n){const r=e[0]>e[1];return n.map((n=>{let o=e.findIndex((e=>r?e<=n:e>=n));return-1==o?o=e.length-1:0==o&&(o=1),K(e[o-1],t[o-1],e[o],t[o],n)}))}function Y(e,t,n,r){const o=Math.max(e[0],n[0]),i=Math.min(e[e.length-1],n[n.length-1]),a=Array.from(new Set([...e,...n])).filter((e=>e>=o&&e<=i)).sort(((e,t)=>Number(e)>Number(t)?1:-1)),u=Z(e,t,a),s=Z(n,r,a);for(let e=0;e<a.length-1;e++){const t=u[e],n=s[e],r=a[e];if(t==n)return[r,t];const o=u[e+1],i=s[e+1];if(Math.sign(n-t)!=Math.sign(i-o)){const u=a[e+1]-r,s=(o-t)/u,l=(n-t)/(s-(i-n)/u);return[r+l,t+l*s]}}return null}function Q(e,t){return e.map(((e,n)=>[e,t[n]]))}function X(e,t){const n=n=>Z(e,t,[n])[0];return n.invert=n=>Z(t,e,[n])[0],n}function J(e,t){e=e.map(Math.log);const n=n=>Z(e,t,[Math.log(n)])[0];return n.invert=n=>Math.exp(Z(t,e,[n])[0]),n}function ee(e,t){return n=>"M"+n.map((n=>e(n).toFixed(1)+","+t(n).toFixed(1))).join("L")}const te=287,ne=18.01528/28.9644,re=2501e3,oe=273.15,ie=-.0065;function ae(e,t,n){return t*Math.pow(e/n,te/1005)}function ue(e,t,n=ne){return n*e/(t-e)}function se(e){const t=e-oe;return 6.112*Math.exp(17.67*t/(t+243.5))}function le(e,t){const n=function(e,t){return ue(se(t),e)}(e,t);return 1/e*((te*t+re*n)/(1005+Math.pow(re,2)*n*ne/(te*Math.pow(t,2))))}function ce(e,t){return e*t/(ne+t)}function pe(e){const t=Math.log(e/6.112);return oe+243.5*t/(17.67-t)}const de=W.require("utils"),fe=W.require("map"),he=W.require("products");function _e(e,t,n,r){return n.map((n=>{const o=e.data[`${t}-${n}h`],i=Array.isArray(o)?o[r]:null;return"gh"===t&&null==i?Math.round(function(e){return 288.15/ie*(Math.pow(e/1013.25,1.8655/9.80665)-1)}(n)):i}))}function ye(e,t,n){const r=t.data.hours,o=function(e){const t=[];for(let n in e.data){const e=n.match(/temp-(\d+)h$/);e&&t.push(Number(e[1]))}return t.sort(((e,t)=>Number(e)<Number(t)?1:-1))}(t),i=[];let a=Number.MIN_VALUE,u=Number.MAX_VALUE;for(let e=0;e<r.length;e++){const n=_e(t,"temp",o,e);a=Math.max(a,...n),u=Math.min(u,...n),i.push({temp:n,dewpoint:_e(t,"dewpoint",o,e),gh:_e(t,"gh",o,e),wind_u:_e(t,"wind_u",o,e),wind_v:_e(t,"wind_v",o,e)})}const{interval:s}=he[e],l=n.header.updateTs+60*(s+60)*1e3;return{airData:t,forecast:n,times:r,values:i,levels:o,tMax:a,tMin:u,pMax:o[o.length-1],pMin:o[0],nextUpdate:l}}function me(e={isLoading:!1},t,n){switch(t.type){case y:return{...e,isLoading:!0};case m:const{airData:r,forecast:o}=t.payload,i=ye(n,r,o);return{...e,...i,isLoading:!1,loaded:Date.now()};default:return e}}const ge=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];"function"==typeof e[o]&&(n[o]=e[o])}var i,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:$.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:$.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+$.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){i=e}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var r=!1,o={},u=0;u<a.length;u++){var s=a[u],l=n[s],c=e[s],p=l(c,t);if(void 0===p){var d=F(s,t);throw new Error(d)}o[s]=p,r=r||p!==c}return(r=r||a.length!==Object.keys(e).length)?o:e}}({plugin:function(e={subscriptions:[],favorites:[]},t){switch(t.type){case n:const{lat:d,lon:f}=t.payload;return{...e,lat:d,lon:f};case r:const{modelName:h}=t.payload;return{...e,modelName:h};case o:const{timestamp:y}=t.payload;return{...e,timestamp:y};case i:{const{cb:n}=t.payload;return{...e,subscriptions:e.subscriptions.concat(n)}}case a:{const{cb:n}=t.payload;return{...e,subscriptions:e.subscriptions.filter((e=>e!=n))}}case u:const{active:m}=t.payload;return{...e,active:m};case s:{let{marker:n}=e;const{lon:r,lat:o}=t.payload;return n?(n.setLatLng({lat:o,lng:r}),e):(n=L.marker({lat:o,lng:r},{icon:fe.myMarkers.pulsatingIcon,zIndexOffset:-300}).addTo(fe),{...e,marker:n})}case l:const{marker:v}=e;return v&&fe.removeLayer(v),{...e,marker:null};case c:const{width:b}=t.payload;return{...e,width:b};case p:const{height:w}=t.payload;return{...e,height:w};case _:{const{favorite:n}=t.payload;return{...e,favorites:[...e.favorites,n]}}case g:const{zoom:x}=t.payload;return{...e,zoom:x};default:return e}},models:function(e={},t){switch(t.type){case y:case m:const{modelName:n}=t.payload,r=e[n]||{},o=de.latLon2str(t.payload);return{...e,[n]:{...r,[o]:me(r[o],t,n)}};default:return e}},metrics:function(e={},t){switch(t.type){case d:{const{metric:n}=t.payload;return{...e,temp:n}}case f:{const{metric:n}=t.payload;return{...e,altitude:n}}case h:{const{metric:n}=t.payload;return{...e,speed:n}}default:return e}},skewt:function(e={pMax:1e3},t){switch(t.type){case M:const{width:n}=t.payload;return{...e,width:n};case N:const{height:r}=t.payload;return{...e,height:r};case D:const{pMin:o}=t.payload;return{...e,pMin:o};default:return e}},windgram:function(e={},t){switch(t.type){case A:const{width:n}=t.payload;return{...e,width:n};case R:const{height:r}=t.payload;return{...e,height:r};default:return e}}});function ve(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}var be=ve();be.withExtraArgument=ve;const we=W.require("$"),xe=(W.require("plugins"),W.require("store")),Se=W.require("favs");let Te;function ke(){if(Te)return Te;Te=H(ge,V(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return G({},n,{dispatch:r=V.apply(void 0,i)(n.dispatch)})}}}(...[be])));const e=we("#bsounding-chart");return Te.dispatch((e=>({type:c,payload:{width:e}}))(e.clientWidth)),Te.dispatch((e=>({type:p,payload:{height:e}}))(600)),Pe(),Se.getArray().forEach((e=>{Te.dispatch({type:_,payload:{favorite:e}})})),Te.dispatch((e=>({type:M,payload:{width:e}}))(460)),Te.dispatch((e=>({type:N,payload:{height:e}}))(580)),Te.dispatch((e=>({type:D,payload:{pMin:e}}))(400)),Te.dispatch((e=>({type:A,payload:{width:e}}))(100)),Te.dispatch((e=>({type:R,payload:{height:e}}))(580)),Te.dispatch(v(!0)),Te}function Pe(){var e;Te&&(Te.dispatch((e=xe.get("metric_temp"),{type:d,payload:{metric:e}})),Te.dispatch((e=>({type:f,payload:{metric:e}}))(xe.get("metric_altitude"))),Te.dispatch((e=>({type:h,payload:{metric:e}}))(xe.get("metric_wind"))))}var Ee,Ce,Oe,Me,Ne,De,Ae={},Re=[],We=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function je(e,t){for(var n in t)e[n]=t[n];return e}function Le(e){var t=e.parentNode;t&&t.removeChild(e)}function Ue(e,t,n){var r,o,i,a=arguments,u={};for(i in t)"key"==i?r=t[i]:"ref"==i?o=t[i]:u[i]=t[i];if(arguments.length>3)for(n=[n],i=3;i<arguments.length;i++)n.push(a[i]);if(null!=n&&(u.children=n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===u[i]&&(u[i]=e.defaultProps[i]);return $e(e,u,r,o,null)}function $e(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o};return null==o&&(i.__v=i),null!=Ee.vnode&&Ee.vnode(i),i}function Ie(e){return e.children}function He(e,t){this.props=e,this.context=t}function Fe(e,t){if(null==t)return e.__?Fe(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?Fe(e):null}function qe(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return qe(e)}}function ze(e){(!e.__d&&(e.__d=!0)&&Ce.push(e)&&!Be.__r++||Me!==Ee.debounceRendering)&&((Me=Ee.debounceRendering)||Oe)(Be)}function Be(){for(var e;Be.__r=Ce.length;)e=Ce.sort((function(e,t){return e.__v.__b-t.__v.__b})),Ce=[],e.some((function(e){var t,n,r,o,i,a,u;e.__d&&(a=(i=(t=e).__v).__e,(u=t.__P)&&(n=[],(r=je({},i)).__v=r,o=et(u,i,r,t.__n,void 0!==u.ownerSVGElement,null!=i.__h?[a]:null,n,null==a?Fe(i):a,i.__h),tt(n,i),o!=a&&qe(i)))}))}function Ge(e,t,n,r,o,i,a,u,s,l){var c,p,d,f,h,_,y,m=r&&r.__k||Re,g=m.length;for(s==Ae&&(s=null!=a?a[0]:g?Fe(r,0):null),n.__k=[],c=0;c<t.length;c++)if(null!=(f=n.__k[c]=null==(f=t[c])||"boolean"==typeof f?null:"string"==typeof f||"number"==typeof f?$e(null,f,null,null,f):Array.isArray(f)?$e(Ie,{children:f},null,null,null):null!=f.__e||null!=f.__c?$e(f.type,f.props,f.key,null,f.__v):f)){if(f.__=n,f.__b=n.__b+1,null===(d=m[c])||d&&f.key==d.key&&f.type===d.type)m[c]=void 0;else for(p=0;p<g;p++){if((d=m[p])&&f.key==d.key&&f.type===d.type){m[p]=void 0;break}d=null}h=et(e,f,d=d||Ae,o,i,a,u,s,l),(p=f.ref)&&d.ref!=p&&(y||(y=[]),d.ref&&y.push(d.ref,null,f),y.push(p,f.__c||h,f)),null!=h?(null==_&&(_=h),s=Ke(e,f,d,m,a,h,s),l||"option"!=n.type?"function"==typeof n.type&&(n.__d=s):e.value=""):s&&d.__e==s&&s.parentNode!=e&&(s=Fe(d))}if(n.__e=_,null!=a&&"function"!=typeof n.type)for(c=a.length;c--;)null!=a[c]&&Le(a[c]);for(c=g;c--;)null!=m[c]&&ot(m[c],m[c]);if(y)for(c=0;c<y.length;c++)rt(y[c],y[++c],y[++c])}function Ve(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){Ve(e,t)})):t.push(e)),t}function Ke(e,t,n,r,o,i,a){var u,s,l;if(void 0!==t.__d)u=t.__d,t.__d=void 0;else if(o==n||i!=a||null==i.parentNode)e:if(null==a||a.parentNode!==e)e.appendChild(i),u=null;else{for(s=a,l=0;(s=s.nextSibling)&&l<r.length;l+=2)if(s==i)break e;e.insertBefore(i,a),u=a}return void 0!==u?u:i.nextSibling}function Ze(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||We.test(t)?n:n+"px"}function Ye(e,t,n,r,o){var i,a,u;if(o&&"className"==t&&(t="class"),"style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Ze(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||Ze(e.style,t,n[t])}else"o"===t[0]&&"n"===t[1]?(i=t!==(t=t.replace(/Capture$/,"")),(a=t.toLowerCase())in e&&(t=a),t=t.slice(2),e.l||(e.l={}),e.l[t+i]=n,u=i?Xe:Qe,n?r||e.addEventListener(t,u,i):e.removeEventListener(t,u,i)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&"download"!==t&&"href"!==t&&!o&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function Qe(e){this.l[e.type+!1](Ee.event?Ee.event(e):e)}function Xe(e){this.l[e.type+!0](Ee.event?Ee.event(e):e)}function Je(e,t,n){var r,o;for(r=0;r<e.__k.length;r++)(o=e.__k[r])&&(o.__=e,o.__e&&("function"==typeof o.type&&o.__k.length>1&&Je(o,t,n),t=Ke(n,o,o,e.__k,null,o.__e,t),"function"==typeof e.type&&(e.__d=t)))}function et(e,t,n,r,o,i,a,u,s){var l,c,p,d,f,h,_,y,m,g,v,b=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(s=n.__h,u=t.__e=n.__e,t.__h=null,i=[u]),(l=Ee.__b)&&l(t);try{e:if("function"==typeof b){if(y=t.props,m=(l=b.contextType)&&r[l.__c],g=l?m?m.props.value:l.__:r,n.__c?_=(c=t.__c=n.__c).__=c.__E:("prototype"in b&&b.prototype.render?t.__c=c=new b(y,g):(t.__c=c=new He(y,g),c.constructor=b,c.render=it),m&&m.sub(c),c.props=y,c.state||(c.state={}),c.context=g,c.__n=r,p=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=b.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=je({},c.__s)),je(c.__s,b.getDerivedStateFromProps(y,c.__s))),d=c.props,f=c.state,p)null==b.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==b.getDerivedStateFromProps&&y!==d&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(y,g),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(y,c.__s,g)||t.__v===n.__v){c.props=y,c.state=c.__s,t.__v!==n.__v&&(c.__d=!1),c.__v=t,t.__e=n.__e,t.__k=n.__k,c.__h.length&&a.push(c),Je(t,u,e);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(y,c.__s,g),null!=c.componentDidUpdate&&c.__h.push((function(){c.componentDidUpdate(d,f,h)}))}c.context=g,c.props=y,c.state=c.__s,(l=Ee.__r)&&l(t),c.__d=!1,c.__v=t,c.__P=e,l=c.render(c.props,c.state,c.context),c.state=c.__s,null!=c.getChildContext&&(r=je(je({},r),c.getChildContext())),p||null==c.getSnapshotBeforeUpdate||(h=c.getSnapshotBeforeUpdate(d,f)),v=null!=l&&l.type==Ie&&null==l.key?l.props.children:l,Ge(e,Array.isArray(v)?v:[v],t,n,r,o,i,a,u,s),c.base=t.__e,t.__h=null,c.__h.length&&a.push(c),_&&(c.__E=c.__=null),c.__e=!1}else null==i&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=nt(n.__e,t,n,r,o,i,a,s);(l=Ee.diffed)&&l(t)}catch(e){t.__v=null,(s||null!=i)&&(t.__e=u,t.__h=!!s,i[i.indexOf(u)]=null),Ee.__e(e,t,n)}return t.__e}function tt(e,t){Ee.__c&&Ee.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){Ee.__e(e,t.__v)}}))}function nt(e,t,n,r,o,i,a,u){var s,l,c,p,d,f=n.props,h=t.props;if(o="svg"===t.type||o,null!=i)for(s=0;s<i.length;s++)if(null!=(l=i[s])&&((null===t.type?3===l.nodeType:l.localName===t.type)||e==l)){e=l,i[s]=null;break}if(null==e){if(null===t.type)return document.createTextNode(h);e=o?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,h.is&&{is:h.is}),i=null,u=!1}if(null===t.type)f===h||u&&e.data===h||(e.data=h);else{if(null!=i&&(i=Re.slice.call(e.childNodes)),c=(f=n.props||Ae).dangerouslySetInnerHTML,p=h.dangerouslySetInnerHTML,!u){if(null!=i)for(f={},d=0;d<e.attributes.length;d++)f[e.attributes[d].name]=e.attributes[d].value;(p||c)&&(p&&(c&&p.__html==c.__html||p.__html===e.innerHTML)||(e.innerHTML=p&&p.__html||""))}(function(e,t,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in t||Ye(e,i,null,n[i],r);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||Ye(e,i,t[i],n[i],r)})(e,h,f,o,u),p?t.__k=[]:(s=t.props.children,Ge(e,Array.isArray(s)?s:[s],t,n,r,"foreignObject"!==t.type&&o,i,a,Ae,u)),u||("value"in h&&void 0!==(s=h.value)&&(s!==e.value||"progress"===t.type&&!s)&&Ye(e,"value",s,f.value,!1),"checked"in h&&void 0!==(s=h.checked)&&s!==e.checked&&Ye(e,"checked",s,f.checked,!1))}return e}function rt(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){Ee.__e(e,n)}}function ot(e,t,n){var r,o,i;if(Ee.unmount&&Ee.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||rt(r,null,t)),n||"function"==typeof e.type||(n=null!=(o=e.__e)),e.__e=e.__d=void 0,null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){Ee.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&ot(r[i],t,n);null!=o&&Le(o)}function it(e,t,n){return this.constructor(e,n)}function at(e,t,n){var r,o,i;Ee.__&&Ee.__(e,t),o=(r=n===Ne)?null:n&&n.__k||t.__k,e=Ue(Ie,null,[e]),i=[],et(t,(r?t:n||t).__k=e,o||Ae,Ae,void 0!==t.ownerSVGElement,n&&!r?[n]:o?null:t.childNodes.length?Re.slice.call(t.childNodes):null,i,n||Ae,r),tt(i,e)}function ut(e,t){at(e,t,Ne)}function st(e,t,n){var r,o,i,a=arguments,u=je({},e.props);for(i in t)"key"==i?r=t[i]:"ref"==i?o=t[i]:u[i]=t[i];if(arguments.length>3)for(n=[n],i=3;i<arguments.length;i++)n.push(a[i]);return null!=n&&(u.children=n),$e(e.type,u,r||e.key,o||e.ref,null)}function lt(){return(lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ct(e,t){return e===t}function pt(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}function dt(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}Ee={__e:function(e,t){for(var n,r,o,i=t.__h;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(e)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),o=n.__d),o)return t.__h=i,n.__E=n}catch(t){e=t}throw e}},He.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=je({},this.state),"function"==typeof e&&(e=e(je({},n),this.props)),e&&je(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),ze(this))},He.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ze(this))},He.prototype.render=Ie,Ce=[],Oe="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Be.__r=0,Ne=Ae,De=0;var ft=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=0,a=r.pop(),u=dt(r),s=e.apply(void 0,[function(){return i++,a.apply(null,arguments)}].concat(n)),l=e((function(){for(var e=[],t=u.length,n=0;n<t;n++)e.push(u[n].apply(null,arguments));return s.apply(null,e)}));return l.resultFunc=a,l.dependencies=u,l.recomputations=function(){return i},l.resetRecomputations=function(){return i=0},l}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ct,n=null,r=null;return function(){return pt(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}}));const ht=W.require("metrics"),_t=W.require("utils"),yt=W.require("map"),mt=W.require("store"),gt=e=>e.plugin.modelName,vt=e=>e.plugin.timestamp,bt=e=>e.metrics.temp,wt=e=>e.metrics.altitude,xt=e=>e.metrics.speed,St=e=>e.plugin.favorites,Tt=e=>e.plugin.width,kt=e=>e.plugin.zoom,Pt=ft(bt,(e=>t=>Math.round(ht.temp.conv[e].conversion(t)))),Et=(ft((e=>e.metrics.pressure),(e=>t=>Math.round(ht.pressure.conv[e].conversion(t)))),ft(wt,(e=>t=>100*Math.round(ht.altitude.conv[e].conversion(t)/100)))),Ct=ft(xt,(e=>t=>Math.round(ht.wind.conv[e].conversion(t)))),Ot=ft((e=>e.plugin.lat),(e=>e.plugin.lon),((e,t)=>_t.latLon2str({lat:e,lon:t}))),Mt=ft(Ot,(e=>e.models),gt,((e,t,n)=>(t[n]||{})[e])),Nt=ft(Mt,(e=>!e||!0===e.isLoading)),Dt=(ft(Mt,(e=>e.tMax)),ft(Mt,(e=>e.tMin)),ft(Mt,(e=>e.pMax)),ft(Mt,(e=>e.pMin)),ft(Mt,(({forecast:e,airData:t})=>{let n=null==e.header.elevation?0:e.header.elevation;return null!=t.header.elevation&&(n=t.header.elevation),null!=t.header.modelElevation&&(n=t.header.modelElevation),n}))),At=ft(Mt,(e=>e.forecast.header.updateTs)),Rt=ft(Mt,(e=>e.nextUpdate)),Wt=ft(Mt,(e=>e.forecast.celestial.TZoffset)),jt=ft(Mt,(e=>e.forecast.celestial.sunriseTs)),Lt=ft(Mt,(e=>e.forecast.celestial.sunsetTs)),Ut=ft(jt,Lt,vt,((e,t,n)=>{const r=e+72e5;return!(n<r||(n-r)%864e5>t-72e5-r)})),$t=ft(Tt,(e=>(t,n)=>{const r=yt.getBounds(),o=n-(r.getEast()-r.getWest())/yt.getSize().x*e/2;yt.panTo({lng:o,lat:t})}));let It=Date.now();const Ht=ft(Wt,(e=>t=>{if(Date.now()>It){let n=mt.get("timestamp"),r=100;const o=Math.sign(event.deltaY);if(t.shiftKey||t.ctrlKey){r=1e3;const t=new Date(n),i=t.getUTCHours();t.setUTCMinutes(0),n=t.getTime();const a=((13-e+24)%24-i)*o;n+=a<=0?o*(24+a)*3600*1e3:o*a*3600*1e3}else n+=3600*o*1e3;mt.set("timestamp",n),It=Date.now()+r}t.stopPropagation(),t.preventDefault()})),Ft=W.require("utils"),qt=e=>e.skewt.width,zt=e=>e.skewt.height,Bt=e=>e.skewt.pMax,Gt=ft((e=>e.skewt.pMin),kt,((e,t)=>t?e:150)),Vt=ft(Mt,vt,Gt,((e,t,n)=>{if(!e||e.isLoading)return null;const{times:r,values:o}=e,i=r.findIndex((e=>e>=t));if(-1==i)return null;const a=Math.max(0,i-1);let u=e.levels.findIndex((e=>e<=n));-1==u&&(u=e.levels.length-1);const s=e.levels.slice(0,u+1),l={};Object.getOwnPropertyNames(o[a]).forEach((e=>{l[e]=K(r[a],o[a][e],r[i],o[i][e],t),l[e].splice(u+1)})),l.level=s;const c=l.wind_u.map(((e,t)=>{const n=l.wind_v[t];return Ft.wind2obj([e,n])}));return l.windSpeed=c.map((e=>e.wind)),l.windDir=c.map((e=>e.dir)),l})),Kt=ft(Mt,(e=>e.tMax+8)),Zt=ft(Kt,(e=>e-60)),Yt=ft(qt,zt,Bt,Gt,Kt,Zt,((e,t,n,r,o,i)=>e/t*75*(Math.log10(n)-Math.log10(r))/(o-i))),Qt=ft(qt,Kt,Zt,((e,t,n)=>X([n,t],[0,e]))),Xt=ft(qt,Kt,Zt,Pt,((e,t,n,r)=>X([n,t].map(r),[0,e]))),Jt=ft(zt,Bt,Gt,((e,t,n)=>J([t,n],[e,0]))),en=ft(Vt,(e=>J(e.level,e.gh))),tn=ft(Vt,en,zt,Gt,Et,((e,t,n,r,o)=>X([e.gh[0],t(r)].map(o),[n,0]))),nn=ft(Qt,Yt,zt,Jt,((e,t,n,r)=>ee((o=>e(o[0])+t*(n-r(o[1]))),(e=>r(e[1]))))),rn=ft(Dt,Vt,en,((e,t,n)=>{const r=t.level;return Math.min(n.invert(e),r[0])})),on=ft(Vt,rn,((e,t)=>J(e.level,e.temp)(t))),an=ft(Vt,rn,((e,t)=>J(e.level,e.dewpoint)(t))),un=ft(wt,(e=>"m"===e?1e3:3e3)),sn=ft(bt,(e=>"°C"===e?10:20)),ln=ft(Vt,(e=>e?Math.max(60/3.6,...e.windSpeed):0)),cn=ft(ln,(e=>e.windgram.width),kt,((e,t,n)=>n?X([0,30/3.6,e],[0,t/2,t]):X([0,e],[0,t]))),pn=ft(cn,Jt,((e,t)=>ee((t=>e(t[0])),(e=>t(e[1])))));function dn(e,t){for(let n in e)if(!(n in t))return!0;for(let n in t)if(e[n]!==t[n])return!0;return!1}class fn extends He{shouldComponentUpdate(e,t){return dn(this.props,e)||dn(this.state,t)}}const hn=W.require("utils");class _n extends fn{render({cx:e,cy:t}){return Ue("svg",{width:"60",height:"60",viewBox:"0 0 38 38",x:e-30,y:t-30},Ue("g",{transform:"translate(1 1)","stroke-width":"2",fill:"none","fill-rule":"evenodd"},Ue("circle",{cx:"18",cy:"18",r:"18",stroke:"#ddd"}),Ue("path",{d:"M36 18C36 8 28 0 18 0",stroke:"#333"},Ue("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}))))}}function yn({parcel:e,width:t,line:n,pToPx:r,formatAltitude:o}){const{trajectory:i,isohume:a,elevThermalTop:u,pThermalTop:s,pCloudTop:l}=e,c=[];if(i){const e=r(s);if(l){const n=r(l);c.push(Ue("rect",{y:n,height:e-n,width:t,fill:"url(#diag-hatch)"}),Ue(mn,{x:t,y:e}),Ue("line",{class:"boundary",y1:n,y2:n,x2:t}))}c.push(Ue("line",{class:"boundary",y1:e,y2:e,x2:t}),Ue("text",{class:"tick",style:"fill: black","text-anchor":"end","dominant-baseline":"hanging",y:e+4,x:t-7},o(u)),Ue("path",{class:"parcel trajectory",d:n(i)})),a&&c.push(Ue("path",{class:"parcel isohume",d:n(a)}))}return c.length?Ue("g",null,c):null}class mn extends fn{render({x:e,y:t}){return Ue("path",{class:"cumulus",transform:`translate(${e-36}, ${t-28})`,d:"M26.003 24H5.997C3.794 24 2 22.209 2 20c0-1.893 1.318-3.482 3.086-3.896A7.162 7.162 0 0 1 5 15c0-3.866 3.134-7 7-7 3.162 0 5.834 2.097 6.702 4.975A4.477 4.477 0 0 1 21.5 12c2.316 0 4.225 1.75 4.473 4h.03C28.206 16 30 17.791 30 20c0 2.205-1.789 4-3.997 4z"})}}class gn extends fn{render({temp:e,pressure:t,height:n,pToPx:r,line:o}){const i=[],a=n/15;for(let o=n;o>-a;o-=a){const n=r.invert(o),a=ae(n,e,t);i.push([a,n])}return Ue("path",{class:"dry",d:o(i)})}}class vn extends fn{render({temp:e,pressure:t,height:n,pToPx:r,line:o}){const i=[];let a=t;const u=n/15;for(let t=n;t>-u;t-=u){const n=r.invert(t);e+=(n-a)*le(n,e),a=n,i.push([e,n])}return Ue("path",{class:"moist",d:o(i)})}}class bn extends fn{render({temp:e,pressure:t,height:n,pToPx:r,line:o}){const i=[],a=ue(se(e),t),u=n;for(let e=n;e>-u;e-=u){const t=r.invert(e),n=pe(ce(t,a));i.push([n,t])}return Ue("path",{class:"isohume",d:o(i)})}}class wn extends fn{render({temp:e,height:t,pToPx:n,line:r}){return Ue("path",{class:"isotherm",d:r([[e,n.invert(t)],[e,n.invert(0)]])})}}class xn extends fn{render({height:e,width:t,metric:n,step:r,tAxisToPx:o}){const i=[];for(let a,u=Math.trunc(o.invert(0)/r)*r;!a;u+=r){const s=o(u);a=o(u+r)>t,i.push(Ue("text",{class:"tick","text-anchor":"middle","dominant-baseline":"hanging",y:e+5,x:s},u+(a?" "+n:"")))}return Ue("g",null,i)}}const Sn=({pAxisToPx:e,width:t,metric:n,step:r})=>{const o=[];for(let i,a=r;!i;a+=r){const u=e(a);i=e(a+r)<20,o.push(Ue("line",{y1:u,x2:t,y2:u,class:"light"}),Ue("text",{class:"tick",y:u-5,x:5},a+" "+(i?" "+n:"")))}return Ue("g",null,o)};const Tn=({height:e,width:t,metric:n,format:r,speedToPx:o,maxSpeed:i,zoom:a})=>{if(a){const a=o(30/3.6),u=a/2;return Ue("g",{class:"axis"},Ue("line",{y1:e,x1:u,x2:u,class:"light"}),Ue("rect",{width:t/2,height:e,fill:"white",opacity:"0.1"}),Ue("rect",{x:t/2,width:t/2,height:e,fill:"red",opacity:"0.1"}),Ue("text",{class:"tick",transform:`translate(${u-5} 80) rotate(-90)`},r(15/3.6)),Ue("text",{class:"tick",transform:`translate(${a-5} 80) rotate(-90)`},r(30/3.6)),Ue("text",{class:"tick",transform:`translate(${t-5} 80) rotate(-90)`},`${r(i)} ${n}`))}return Ue("g",{class:"axis"},Ue("line",{y1:e,x1:t/3,x2:t/3,class:"light"}),Ue("text",{class:"tick",transform:`translate(${t/3-5} 80) rotate(-90)`},r(i/3)),Ue("line",{y1:e,x1:2*t/3,x2:2*t/3,class:"light"}),Ue("text",{class:"tick",transform:`translate(${2*t/3-5} 80) rotate(-90)`},r(2*i/3)),Ue("text",{class:"tick",transform:`translate(${t-5} 80) rotate(-90)`},`${r(i)} ${n}`))},kn=({direction:e,y:t,speed:n})=>n>1?Ue("g",{transform:`translate(0,${t}) rotate(${e})`,stroke:"black",fill:"none"},Ue("line",{y2:"-30"}),Ue("path",{d:"M-4,-8L0,0L4,-8","stroke-linejoin":"round"})):Ue("g",{transform:`translate(0,${t})`,stroke:"black",fill:"none"},Ue("circle",{r:"6"}),Ue("circle",{r:"1"}));var Pn,En,Cn,On=0,Mn=[],Nn=Ee.__r,Dn=Ee.diffed,An=Ee.__c,Rn=Ee.unmount;function Wn(e,t){Ee.__h&&Ee.__h(En,e,On||t),On=0;var n=En.__H||(En.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function jn(e,t,n){var r=Wn(Pn++,2);return r.t=e,r.__c||(r.__=[n?n(t):Vn(void 0,t),function(e){var t=r.t(r.__[0],e);r.__[0]!==t&&(r.__=[t,r.__[1]],r.__c.setState({}))}],r.__c=En),r.__}function Ln(e,t){var n=Wn(Pn++,3);!Ee.__s&&Gn(n.__H,t)&&(n.__=e,n.__H=t,En.__H.__h.push(n))}function Un(e,t){var n=Wn(Pn++,4);!Ee.__s&&Gn(n.__H,t)&&(n.__=e,n.__H=t,En.__h.push(n))}function $n(e){return On=5,In((function(){return{current:e}}),[])}function In(e,t){var n=Wn(Pn++,7);return Gn(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Hn(e){var t=En.context[e.__c],n=Wn(Pn++,9);return n.__c=e,t?(null==n.__&&(n.__=!0,t.sub(En)),t.props.value):e.__}function Fn(){Mn.some((function(e){if(e.__P)try{e.__H.__h.forEach(zn),e.__H.__h.forEach(Bn),e.__H.__h=[]}catch(t){return e.__H.__h=[],Ee.__e(t,e.__v),!0}})),Mn=[]}Ee.__r=function(e){Nn&&Nn(e),Pn=0;var t=(En=e.__c).__H;t&&(t.__h.forEach(zn),t.__h.forEach(Bn),t.__h=[])},Ee.diffed=function(e){Dn&&Dn(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==Mn.push(t)&&Cn===Ee.requestAnimationFrame||((Cn=Ee.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),qn&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);qn&&(t=requestAnimationFrame(n))})(Fn))},Ee.__c=function(e,t){t.some((function(e){try{e.__h.forEach(zn),e.__h=e.__h.filter((function(e){return!e.__||Bn(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],Ee.__e(n,e.__v)}})),An&&An(e,t)},Ee.unmount=function(e){Rn&&Rn(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(zn)}catch(e){Ee.__e(e,t.__v)}};var qn="function"==typeof requestAnimationFrame;function zn(e){"function"==typeof e.u&&e.u()}function Bn(e){e.u=e.__()}function Gn(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function Vn(e,t){return"function"==typeof t?t(e):t}function Kn(e,t){for(let n in t)e[n]=t[n];return e}function Zn(e,t){for(let n in e)if("__source"!==n&&!(n in t))return!0;for(let n in t)if("__source"!==n&&e[n]!==t[n])return!0;return!1}function Yn(e){this.props=e}Yn.prototype=new He,Yn.prototype.isPureReactComponent=!0,Yn.prototype.shouldComponentUpdate=function(e,t){return Zn(this.props,e)||Zn(this.state,t)};let Qn=Ee._diff;Ee._diff=e=>{e.type&&e.type._forwarded&&e.ref&&(e.props.ref=e.ref,e.ref=null),Qn&&Qn(e)};const Xn="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;const Jn=(e,t)=>null==e?null:Ve(Ve(e).map(t)),er={map:Jn,forEach:Jn,count:e=>e?Ve(e).length:0,only(e){const t=Ve(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:Ve},tr=Ee._catchError;function nr(e){return e&&((e=Kn({},e))._component=null,e._children=e._children&&e._children.map(nr)),e}function rr(e){return e&&(e._original=null,e._children=e._children&&e._children.map(rr)),e}function or(){this._pendingSuspensionCount=0,this._suspenders=null,this._detachOnNextRender=null}function ir(e){let t=e._parent._component;return t&&t._suspended&&t._suspended(e)}Ee._catchError=function(e,t,n){if(e.then){let r,o=t;for(;o=o._parent;)if((r=o._component)&&r._childDidSuspend)return null==t._dom&&(t._dom=n._dom,t._children=n._children),r._childDidSuspend(e,t._component)}tr(e,t,n)},or.prototype=new He,or.prototype._childDidSuspend=function(e,t){const n=this;null==n._suspenders&&(n._suspenders=[]),n._suspenders.push(t);const r=ir(n._vnode);let o=!1;const i=()=>{o||(o=!0,t.componentWillUnmount=t._suspendedComponentWillUnmount,r?r(a):a())};t._suspendedComponentWillUnmount=t.componentWillUnmount,t.componentWillUnmount=()=>{i(),t._suspendedComponentWillUnmount&&t._suspendedComponentWillUnmount()};const a=()=>{if(!--n._pendingSuspensionCount){let e;for(n._vnode._children[0]=rr(n.state._suspended),n.setState({_suspended:n._detachOnNextRender=null});e=n._suspenders.pop();)e.forceUpdate()}},u=n._vnode;u&&!0===u._hydrating||n._pendingSuspensionCount++||n.setState({_suspended:n._detachOnNextRender=n._vnode._children[0]}),e.then(i,i)},or.prototype.componentWillUnmount=function(){this._suspenders=[]},or.prototype.render=function(e,t){this._detachOnNextRender&&(this._vnode._children&&(this._vnode._children[0]=nr(this._detachOnNextRender)),this._detachOnNextRender=null);const n=t._suspended&&Ue(Ie,null,e.fallback);return n&&(n._hydrating=null),[Ue(Ie,null,t._suspended?null:e.children),n]};function ar(){this._next=null,this._map=null}const ur=(e,t,n)=>{if(++n[1]===n[0]&&e._map.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e._map.size))for(n=e._next;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e._next=n=n[2]}};function sr(e){return this.getChildContext=()=>e.context,e.children}function lr(e){const t=this;let n=e._container,r=Ue(sr,{context:t.context},e._vnode);t.componentWillUnmount=function(){let e=t._temp.parentNode;e&&e.removeChild(t._temp),ot(t._wrap)},t._container&&t._container!==n&&(t.componentWillUnmount(),t._hasMounted=!1),e._vnode?t._hasMounted?(n._children=t._children,at(r,n),t._children=n._children):(t._temp=document.createTextNode(""),t._children=n._children,ut("",n),n.appendChild(t._temp),t._hasMounted=!0,t._container=n,at(r,n,t._temp),n._children=t._children,t._children=t._temp._children):t._hasMounted&&t.componentWillUnmount(),t._wrap=r}ar.prototype=new He,ar.prototype._suspended=function(e){const t=this,n=ir(t._vnode);let r=t._map.get(e);return r[0]++,o=>{const i=()=>{t.props.revealOrder?(r.push(o),ur(t,e,r)):o()};n?n(i):i()}},ar.prototype.render=function(e){this._next=null,this._map=new Map;const t=Ve(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(let e=t.length;e--;)this._map.set(t[e],this._next=[1,0,this._next]);return e.children},ar.prototype.componentDidUpdate=ar.prototype.componentDidMount=function(){this._map.forEach(((e,t)=>{ur(this,t,e)}))};const cr="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,pr=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,dr="undefined"!=typeof Symbol?/fil|che|rad/i:/fil|che|ra/i;He.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((e=>{Object.defineProperty(He.prototype,e,{configurable:!0,get(){return this["UNSAFE_"+e]},set(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));let fr=Ee.event;function hr(){}function _r(){return this.cancelBubble}function yr(){return this.defaultPrevented}Ee.event=e=>(fr&&(e=fr(e)),e.persist=hr,e.isPropagationStopped=_r,e.isDefaultPrevented=yr,e.nativeEvent=e);let mr,gr={configurable:!0,get(){return this.class}},vr={configurable:!0,get(){return this.className}},br=Ee.vnode;Ee.vnode=e=>{let t=e.type,n=e.props,r=n;if("string"==typeof t){r={};for(let e in n){let o=n[e];"defaultValue"===e&&"value"in n&&null==n.value?e="value":"download"===e&&!0===o?o="":/ondoubleclick/i.test(e)?e="ondblclick":/^onchange(textarea|input)/i.test(e+t)&&!dr.test(n.type)?e="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(e)?e=e.toLowerCase():pr.test(e)?e=e.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===o&&(o=void 0),r[e]=o}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=Ve(n.children).forEach((e=>{e.props.selected=-1!=r.value.indexOf(e.props.value)}))),e.props=r}t&&r&&("className"in r?Object.defineProperty(r,"class",vr):Object.defineProperty(r,"className",gr)),e.$$typeof=cr,br&&br(e)};const wr=Ee._render;Ee._render=function(e){wr&&wr(e),mr=e._component};function xr(e){return!!e&&e.$$typeof===cr}const Sr=(e,t)=>e(t);var Tr={useState:function(e){return On=1,jn(Vn,e)},useReducer:jn,useEffect:Ln,useLayoutEffect:Un,useRef:$n,useImperativeHandle:function(e,t,n){On=6,Un((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))},useMemo:In,useCallback:function(e,t){return On=8,In((function(){return e}),t)},useContext:Hn,useDebugValue:function(e,t){Ee.useDebugValue&&Ee.useDebugValue(t?t(e):e)},version:"16.8.0",Children:er,render:function(e,t,n){return null==t._children&&(t.textContent=""),at(e,t),"function"==typeof n&&n(),e?e._component:null},hydrate:function(e,t,n){return ut(e,t),"function"==typeof n&&n(),e?e._component:null},unmountComponentAtNode:function(e){return!!e._children&&(at(null,e),!0)},createPortal:function(e,t){return Ue(lr,{_vnode:e,_container:t})},createElement:Ue,createContext:function(e,t){var n={__c:t="__cC"+De++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e,n,r){return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(ze)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n},createFactory:function(e){return Ue.bind(null,e)},cloneElement:function(e){return xr(e)?st.apply(null,arguments):e},createRef:function(){return{current:null}},Fragment:Ie,isValidElement:xr,findDOMNode:function(e){return e&&(e.base||1===e.nodeType&&e)||null},Component:He,PureComponent:Yn,memo:function(e,t){function n(e){let n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:Zn(this.props,e)}function r(t){return this.shouldComponentUpdate=n,Ue(e,t)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r._forwarded=!0,r},forwardRef:function(e){function t(t,n){let r=Kn({},t);return delete r.ref,n=t.ref||n,e(r,!n||"object"==typeof n&&!("current"in n)?null:n)}return t.$$typeof=Xn,t.render=t,t.prototype.isReactComponent=t._forwarded=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t},unstable_batchedUpdates:Sr,StrictMode:Ie,Suspense:or,SuspenseList:ar,lazy:function(e){let t,n,r;function o(o){if(t||(t=e(),t.then((e=>{n=e.default||e}),(e=>{r=e}))),r)throw r;if(!n)throw t;return Ue(n,o)}return o.displayName="Lazy",o._forwarded=!0,o},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:{current:{readContext:e=>mr._globalContext[e._id].props.value}}}};function kr(e,t){return e(t={exports:{}},t.exports),t.exports}function Pr(){}function Er(){}Er.resetWarningCache=Pr;kr((function(e){e.exports=function(){function e(e,t,n,r,o,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Er,resetWarningCache:Pr};return n.PropTypes=n,n}()}));var Cr=Tr.createContext(null);var Or=function(e){e()},Mr=function(){return Or},Nr={notify:function(){}};var Dr=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=Nr,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function(){var e=Mr(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,o=n={callback:e,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=Nr)},e}();function Ar(e){var t=e.store,n=e.context,r=e.children,o=In((function(){var e=new Dr(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),i=In((function(){return t.getState()}),[t]);Ln((function(){var e=o.subscription;return e.trySubscribe(),i!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,i]);var a=n||Cr;return Tr.createElement(a.Provider,{value:o},r)}function Rr(){return(Rr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Wr(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var jr="function"==typeof Symbol&&Symbol.for,Lr=jr?Symbol.for("react.element"):60103,Ur=jr?Symbol.for("react.portal"):60106,$r=jr?Symbol.for("react.fragment"):60107,Ir=jr?Symbol.for("react.strict_mode"):60108,Hr=jr?Symbol.for("react.profiler"):60114,Fr=jr?Symbol.for("react.provider"):60109,qr=jr?Symbol.for("react.context"):60110,zr=jr?Symbol.for("react.async_mode"):60111,Br=jr?Symbol.for("react.concurrent_mode"):60111,Gr=jr?Symbol.for("react.forward_ref"):60112,Vr=jr?Symbol.for("react.suspense"):60113,Kr=jr?Symbol.for("react.suspense_list"):60120,Zr=jr?Symbol.for("react.memo"):60115,Yr=jr?Symbol.for("react.lazy"):60116,Qr=jr?Symbol.for("react.block"):60121,Xr=jr?Symbol.for("react.fundamental"):60117,Jr=jr?Symbol.for("react.responder"):60118,eo=jr?Symbol.for("react.scope"):60119;function to(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Lr:switch(e=e.type){case zr:case Br:case $r:case Hr:case Ir:case Vr:return e;default:switch(e=e&&e.$$typeof){case qr:case Gr:case Yr:case Zr:case Fr:return e;default:return t}}case Ur:return t}}}function no(e){return to(e)===Br}var ro={AsyncMode:zr,ConcurrentMode:Br,ContextConsumer:qr,ContextProvider:Fr,Element:Lr,ForwardRef:Gr,Fragment:$r,Lazy:Yr,Memo:Zr,Portal:Ur,Profiler:Hr,StrictMode:Ir,Suspense:Vr,isAsyncMode:function(e){return no(e)||to(e)===zr},isConcurrentMode:no,isContextConsumer:function(e){return to(e)===qr},isContextProvider:function(e){return to(e)===Fr},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Lr},isForwardRef:function(e){return to(e)===Gr},isFragment:function(e){return to(e)===$r},isLazy:function(e){return to(e)===Yr},isMemo:function(e){return to(e)===Zr},isPortal:function(e){return to(e)===Ur},isProfiler:function(e){return to(e)===Hr},isStrictMode:function(e){return to(e)===Ir},isSuspense:function(e){return to(e)===Vr},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===$r||e===Br||e===Hr||e===Ir||e===Vr||e===Kr||"object"==typeof e&&null!==e&&(e.$$typeof===Yr||e.$$typeof===Zr||e.$$typeof===Fr||e.$$typeof===qr||e.$$typeof===Gr||e.$$typeof===Xr||e.$$typeof===Jr||e.$$typeof===eo||e.$$typeof===Qr)},typeOf:to},oo=kr((function(e){e.exports=ro})),io=(oo.isValidElementType,oo.isContextConsumer),ao={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},uo={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},so={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},lo={};function co(e){return oo.isMemo(e)?so:lo[e.$$typeof]||ao}lo[oo.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var po=Object.defineProperty,fo=Object.getOwnPropertyNames,ho=Object.getOwnPropertySymbols,_o=Object.getOwnPropertyDescriptor,yo=Object.getPrototypeOf,mo=Object.prototype;var go=function e(t,n,r){if("string"!=typeof n){if(mo){var o=yo(n);o&&o!==mo&&e(t,o,r)}var i=fo(n);ho&&(i=i.concat(ho(n)));for(var a=co(t),u=co(n),s=0;s<i.length;++s){var l=i[s];if(!(uo[l]||r&&r[l]||u&&u[l]||a&&a[l])){var c=_o(n,l);try{po(t,l,c)}catch(e){}}}return t}return t},vo="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?Un:Ln,bo=[],wo=[null,null];function xo(e,t){var n=e[1];return[t.payload,n+1]}function So(e,t,n){vo((function(){return e.apply(void 0,t)}),n)}function To(e,t,n,r,o,i,a){e.current=r,t.current=o,n.current=!1,i.current&&(i.current=null,a())}function ko(e,t,n,r,o,i,a,u,s,l){if(e){var c=!1,p=null,d=function(){if(!c){var e,n,d=t.getState();try{e=r(d,o.current)}catch(e){n=e,p=e}n||(p=null),e===i.current?a.current||s():(i.current=e,u.current=e,a.current=!0,l({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=d,n.trySubscribe(),d();return function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,p)throw p}}}var Po=function(){return[null,0]};function Eo(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,o=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,i=n.methodName,a=void 0===i?"connectAdvanced":i,u=n.renderCountProp,s=void 0===u?void 0:u,l=n.shouldHandleStateChanges,c=void 0===l||l,p=n.storeKey,d=void 0===p?"store":p,f=(n.withRef,n.forwardRef),h=void 0!==f&&f,_=n.context,y=void 0===_?Cr:_,m=Wr(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),g=y;return function(t){var n=t.displayName||t.name||"Component",r=o(n),i=Rr({},m,{getDisplayName:o,methodName:a,renderCountProp:s,shouldHandleStateChanges:c,storeKey:d,displayName:r,wrappedComponentName:n,WrappedComponent:t}),u=m.pure;var l=u?In:function(e){return e()};function p(n){var r=In((function(){var e=n.reactReduxForwardedRef,t=Wr(n,["reactReduxForwardedRef"]);return[n.context,e,t]}),[n]),o=r[0],a=r[1],u=r[2],s=In((function(){return o&&o.Consumer&&io(Tr.createElement(o.Consumer,null))?o:g}),[o,g]),p=Hn(s),d=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch),f=(Boolean(p)&&Boolean(p.store),d?n.store:p.store),h=In((function(){return function(t){return e(t.dispatch,i)}(f)}),[f]),_=In((function(){if(!c)return wo;var e=new Dr(f,d?null:p.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[f,d,p]),y=_[0],m=_[1],v=In((function(){return d?p:Rr({},p,{subscription:y})}),[d,p,y]),b=jn(xo,bo,Po),w=b[0][0],x=b[1];if(w&&w.error)throw w.error;var S=$n(),T=$n(u),k=$n(),P=$n(!1),E=l((function(){return k.current&&u===T.current?k.current:h(f.getState(),u)}),[f,w,u]);So(To,[T,S,P,u,E,k,m]),So(ko,[c,f,y,h,T,S,P,k,m,x],[f,y,h]);var C=In((function(){return Tr.createElement(t,Rr({},E,{ref:a}))}),[a,t,E]);return In((function(){return c?Tr.createElement(s.Provider,{value:v},C):C}),[s,C,v])}var f=u?Tr.memo(p):p;if(f.WrappedComponent=t,f.displayName=r,h){var _=Tr.forwardRef((function(e,t){return Tr.createElement(f,Rr({},e,{reactReduxForwardedRef:t}))}));return _.displayName=r,_.WrappedComponent=t,go(_,t)}return go(f,t)}}function Co(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function Oo(e,t){if(Co(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!Co(e[n[o]],t[n[o]]))return!1;return!0}function Mo(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function No(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Do(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=No(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=No(o),o=r(t,n)),o},r}}var Ao=[function(e){return"function"==typeof e?Do(e):void 0},function(e){return e?void 0:Mo((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?Mo((function(t){return function(e,t){if("function"==typeof e)return q(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var o=e[r];"function"==typeof o&&(n[r]=q(o,t))}return n}(e,t)})):void 0}];var Ro=[function(e){return"function"==typeof e?Do(e):void 0},function(e){return e?void 0:Mo((function(){return{}}))}];function Wo(e,t,n){return Rr({},n,{},e,{},t)}var jo=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(t,n,u){var s=e(t,n,u);return a?o&&i(s,r)||(r=s):(a=!0,r=s),r}}}(e):void 0},function(e){return e?void 0:function(){return Wo}}];function Lo(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function Uo(e,t,n,r,o){var i,a,u,s,l,c=o.areStatesEqual,p=o.areOwnPropsEqual,d=o.areStatePropsEqual,f=!1;function h(o,f){var h,_,y=!p(f,a),m=!c(o,i);return i=o,a=f,y&&m?(u=e(i,a),t.dependsOnOwnProps&&(s=t(r,a)),l=n(u,s,a)):y?(e.dependsOnOwnProps&&(u=e(i,a)),t.dependsOnOwnProps&&(s=t(r,a)),l=n(u,s,a)):m?(h=e(i,a),_=!d(h,u),u=h,_&&(l=n(u,s,a)),l):l}return function(o,c){return f?h(o,c):(u=e(i=o,a=c),s=t(r,a),l=n(u,s,a),f=!0,l)}}function $o(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=Wr(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,i),u=r(e,i),s=o(e,i);return(i.pure?Uo:Lo)(a,u,s,e,i)}function Io(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function Ho(e,t){return e===t}function Fo(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?Eo:n,o=t.mapStateToPropsFactories,i=void 0===o?Ro:o,a=t.mapDispatchToPropsFactories,u=void 0===a?Ao:a,s=t.mergePropsFactories,l=void 0===s?jo:s,c=t.selectorFactory,p=void 0===c?$o:c;return function(e,t,n,o){void 0===o&&(o={});var a=o,s=a.pure,c=void 0===s||s,d=a.areStatesEqual,f=void 0===d?Ho:d,h=a.areOwnPropsEqual,_=void 0===h?Oo:h,y=a.areStatePropsEqual,m=void 0===y?Oo:y,g=a.areMergedPropsEqual,v=void 0===g?Oo:g,b=Wr(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),w=Io(e,i,"mapStateToProps"),x=Io(t,u,"mapDispatchToProps"),S=Io(n,l,"mergeProps");return r(p,Rr({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:w,initMapDispatchToProps:x,initMergeProps:S,pure:c,areStatesEqual:f,areOwnPropsEqual:_,areStatePropsEqual:m,areMergedPropsEqual:v},b))}}var qo=Fo();Or=Sr;const zo=qo((function(e){if(Nt(e))return{isLoading:!0};const t=Vt(e),n=rn(e);let r;if(Ut(e)){const o=on(e)+3,i=an(e),{dry:a,moist:u,isohume:s,elevThermalTop:l,pThermalTop:c,pCloudTop:p}=function(e,t,n,r,o){const i={},a=[],u=[],s=[],l=[],c=ue(se(o),r),p=J(e.level,e.gh),d=p(r),f=Math.max(d,e.gh[e.gh.length-1]),h=(f-d)/t;for(let e=d;e<=f;e+=h){const t=p.invert(e),o=ae(t,n,r),i=pe(ce(t,c));a.push(e),u.push(t),s.push(o),l.push(i)}const _=Y(a,s,a,l);let y=Y(a,s,e.gh,e.temp);if(!y)return null;if(_[0]<y[0]){y=_;const t=p.invert(_[0]),n=[],r=[],o=[];let a=_[1],s=t;for(let e=_[0];e<f+h;e+=h){const t=p.invert(e);a+=(t-s)*le(t,a),s=t,n.push(e),r.push(t),o.push(a)}const c=Q(l,u).filter((e=>e[1]>t));c.push([_[1],t]);let d=Q(o,r);const m=Y(n,o,e.gh,e.temp);if(i.pCloudTop=e.level[e.level.length-1],m){const e=p.invert(m[0]);d=d.filter((t=>t[1]>=e)),d.push([m[1],e]),i.pCloudTop=e}i.moist=d,i.isohume=c}const m=p.invert(y[0]),g=Q(s,u).filter((e=>e[1]>m));return g.push([y[1],m]),i.dry=g,i.pThermalTop=m,i.elevThermalTop=y[0],i}(t,40,o,n,i)||{};r={trajectory:a.concat(u||[]),isohume:s,elevThermalTop:l,pThermalTop:c,pCloudTop:p}}return{isLoading:!1,params:t,pMax:Bt(e),pSfc:n,parcel:r,formatAltitude:Et(e),formatTemp:Pt(e),tAxisToPx:Xt(e),pToPx:Jt(e),pAxisToPx:tn(e),line:nn(e),tMetric:bt(e),tAxisStep:sn(e),ghMetric:wt(e),ghAxisStep:un(e),zoom:kt(e),skew:Yt(e)}}))(class extends fn{constructor(e){super(e),this.state={yCursor:null}}render({isLoading:e,params:t,pMax:n,width:r,height:o,pSfc:i,parcel:a,formatAltitude:u,formatTemp:s,tAxisToPx:l,pToPx:c,pAxisToPx:p,line:d,tMetric:f,tAxisStep:h,ghMetric:_,ghAxisStep:y,skew:m},{yCursor:g}){if(e)return;const v=c(i);let b=0,w=0;return null!=g&&(b=Z(t.level,t.temp,[c.invert(g)])[0],w=Z(t.level,t.dewpoint,[c.invert(g)])[0]),Ue("svg",{width:r,height:o+20},Ue("defs",null,Ue("pattern",{id:"diag-hatch",patternUnits:"userSpaceOnUse",width:"8",height:"8",patternTransform:"rotate(45 2 2)"},Ue("rect",{width:"8",height:"8",fill:"#f8f8f8",opacity:"0.7"}),Ue("path",{d:"M 0,-1 L 0,11",stroke:"gray","stroke-width":"1"}))),Ue("g",{class:"chart skewt",onMouseLeave:()=>this.setState({yCursor:null}),onMouseMove:e=>this.setState({yCursor:e.offsetY})},Ue("rect",{width:r,height:o,fill:"white",opacity:"0.1"}),Ue("g",{class:"axis"},[-20,-10,0,10,20,30,40,50,60,70,80].map((e=>Ue(gn,{temp:e+273.15,pressure:n,height:o,pToPx:c,line:d}))),[-20,-10,0,5,10,15,20,25,30,35].map((e=>Ue(vn,{temp:e+273.15,pressure:n,height:o,pToPx:c,line:d}))),[-20,-15,-10,-5,0,5,10,15,20].map((e=>Ue(bn,lt({temp:e+273.15,pressure:n},{height:o,pToPx:c,line:d})))),[-70,-60,-50,-40,-30,-20,-10,0,10,20,30,40].map((e=>Ue(wn,lt({temp:e+273.15},{height:o,pToPx:c,line:d})))),a&&Ue(yn,{parcel:a,width:r,height:o,line:d,pToPx:c,formatAltitude:u}),Ue(xn,{width:r,height:o,tAxisToPx:l,step:h,metric:f}),Ue(Sn,{width:r,pAxisToPx:p,step:y,metric:_})),Ue("path",{class:"line temperature",d:d(Q(t.temp,t.level))}),Ue("path",{class:"line dewpoint",d:d(Q(t.dewpoint,t.level))}),null!=g?Ue("g",null,Ue("text",{class:"tick","text-anchor":"end",style:"fill: black;","dominant-baseline":"hanging",x:r-7,y:g+4},100*Math.round(p.invert(g)/100)),Ue("text",{class:"tick",style:"fill: red;","dominant-baseline":"hanging",x:l(b-273.15)+m*(o-g)+10,y:g+4},s(b)),Ue("text",{class:"tick",style:"fill: steelblue;","dominant-baseline":"hanging",x:l(w-273.15)+m*(o-g)+10,y:g+4},s(w)),Ue("line",{y1:g,y2:g,x2:r,class:"boundary"})):null,Ue("rect",{class:"surface",y:v,width:r,height:o-v+1}),Ue("rect",{class:"border",height:o,width:r})))}}),Bo=qo((e=>Nt(e)?{isLoading:!0}:{isLoading:!1,params:Vt(e),windSpeedMax:ln(e),format:Ct(e),metric:xt(e),pSfc:rn(e),pToPx:Jt(e),speedToPx:cn(e),line:pn(e),zoom:kt(e)}))(class extends fn{constructor(e){super(e),this.state={yCursor:null}}render({isLoading:e,params:t,width:n,height:r,windSpeedMax:o,metric:i,format:a,pSfc:u,pToPx:s,speedToPx:l,line:c,zoom:p},{yCursor:d}){if(e)return;const f=s(u);let h=0;return null!=d&&(h=Z(t.level,t.windSpeed,[s.invert(d)])[0]),Ue("g",{class:"chart wind",onMouseLeave:()=>this.setState({yCursor:null}),onMouseMove:e=>this.setState({yCursor:e.offsetY})},Ue("path",{class:"line wind",d:c(Q(t.windSpeed,t.level))}),Ue(Tn,{speedToPx:l,width:n,height:r,maxSpeed:o,metric:i,format:a,zoom:p}),Ue("g",{transform:`translate(${n/2}, 0)`},t.level.map(((e,n)=>e<=u?Ue(kn,{direction:t.windDir[n],speed:t.windSpeed[n],y:s(e)}):null))),null!=d?Ue("g",null,Ue("text",{class:"tick","text-anchor":"end",style:"fill: black;",x:n-5,y:d-5},a(h)),Ue("line",{id:"wind-hint-line",y1:d,y2:d,x2:n,class:"boundary"})):null,Ue("rect",{class:"surface",y:f,width:n,height:r-f+1}),Ue("rect",{class:"border",height:r,width:n}))}}),Go=qo((e=>({favorites:St(e),location:Ot(e)})))(class extends fn{render({favorites:e,location:t,onSelected:n}){return Ue("div",{id:"fly-to",class:"size-s"},0==e.length?Ue("span",{"data-icon":"m"},"Add favorites to enable fly to."):e.map((e=>Ue("span",{class:"location"+(hn.latLon2str(e)==t?" selected":""),onClick:t=>n(e,t)},e.title||e.name))))}});function Vo(e){return new Date(e).toLocaleString([],{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}const Ko=qo((e=>Nt(e)?{isLoading:!0}:{isLoading:!1,modelName:gt(e),updated:At(e),nextUpdate:Rt(e)}))((({isLoading:e,modelName:t,updated:n,nextUpdate:r})=>{if(e)return;const o=Vo(n),i=Vo(r);return Ue("p",{class:"model"},"Model ",Ue("strong",null,t.toUpperCase())," (",o,"). Next update on ",i,".")})),Zo=qo((e=>{const t=Tt(e),n=(e=>e.plugin.height)(e),r={centerMap:$t(e),wheelHandler:()=>null,title:()=>Ue("p",{class:"model"},"Loading..."),chart:()=>Ue(_n,{cx:t/2,cy:n/2}),width:t,height:n,zoom:kt(e)};if(Nt(e))return r;return Vt(e)?{...r,title:()=>Ue(Ko,null),chart:()=>Ue("g",null,Ue(zo,{width:460,height:580}),Ue("g",{transform:"translate(480, 0)"},Ue(Bo,{width:100,height:580}))),wheelHandler:Ht(e)}:{...r,title:()=>Ue("p",{class:"model"},"Forecast not available"),chart:()=>Ue("text",{x:"50%",y:"50%","text-anchor":"middle"},"Forecast not available")}}),(e=>({onFavSelected:t=>({lat:n,lon:r})=>{e(b(n,r)),t(n,r)},onZoomClick:t=>{e(v(t.target.checked))}})))((({title:e,chart:t,centerMap:n,onFavSelected:r,wheelHandler:o,width:i,height:a,zoom:u,onZoomClick:s})=>Ue("div",null,e(),Ue("img",{src:"https://logs-01.loggly.com/inputs/8298f665-7a6e-44e6-926f-4795243b5e4b.gif?source=pixel"}),Ue("svg",lt({width:i,height:a},{onWheel:o}),t()),Ue(Go,{onSelected:r(n)}),Ue("label",null,Ue("input",{type:"checkbox",checked:u,onClick:s}),"Zoom view"))));const Yo=W.require("map");W.loadPlugin({name:"windy-plugin-sounding",version:"1.1.8",author:"Victor Berchet",repository:{type:"git",url:"git+https://github.com/vicb/windy-plugin-sounding"},description:"Soundings for paraglider pilots.",displayName:"Better Sounding",hook:"contextmenu",className:"plugin-lhpane plugin-mobile-fullscreen",exclusive:"lhpane"},'<div class="plugin-content"><div class="title">Sounding forecast</div><div id="bsounding-chart"></div></div>',".onwindy-plugin-sounding .left-border{left:600px}.onwindy-plugin-sounding #search{display:none}#windy-plugin-sounding{font-size:12px;padding:1em 1em;line-height:2;z-index:100;height:100%;width:600px}#windy-plugin-sounding .title{margin:0 0 .3em .6em;font-size:16px}#windy-plugin-sounding .closing-x{display:block}#windy-plugin-sounding .axis line,#windy-plugin-sounding .axis path{fill:none;stroke:#000}#windy-plugin-sounding .axis .light{stroke-width:.2}#windy-plugin-sounding #bsounding-chart{padding:0 .5em}#windy-plugin-sounding #bsounding-chart p.model{margin:0}#windy-plugin-sounding #bsounding-chart .chart .border{fill:none;stroke:gray;stroke-width:1}#windy-plugin-sounding #bsounding-chart .cumulus{stroke:#030104;stroke-width:2px;fill:ivory}#windy-plugin-sounding #bsounding-chart .line{stroke-width:3;fill:none;stroke-linejoin:round}#windy-plugin-sounding #bsounding-chart .line.dewpoint{stroke:#4682b4}#windy-plugin-sounding #bsounding-chart .line.temperature{stroke:red}#windy-plugin-sounding #bsounding-chart .line.wind{stroke:purple}#windy-plugin-sounding #bsounding-chart line.boundary{stroke-width:1;stroke-dasharray:8;stroke:gray}#windy-plugin-sounding #bsounding-chart .moist{fill:none;stroke:green;stroke-width:.3;stroke-dasharray:4 6}#windy-plugin-sounding #bsounding-chart .dry{fill:none;stroke:green;stroke-width:.3}#windy-plugin-sounding #bsounding-chart .isohume{fill:none;stroke:#00f;stroke-width:.3;stroke-dasharray:4 6}#windy-plugin-sounding #bsounding-chart .isotherm{stroke:#8b0000;stroke-width:.3}#windy-plugin-sounding #bsounding-chart .parcel{stroke-width:3;fill:none;stroke-linejoin:round}#windy-plugin-sounding #bsounding-chart .parcel.trajectory{stroke:#599c00}#windy-plugin-sounding #bsounding-chart .parcel.isohume{stroke-width:1;stroke:gray;stroke-dasharray:4}#windy-plugin-sounding #bsounding-chart text.tick{font-size:12px;font-family:sans-serif;fill:#000}#windy-plugin-sounding #bsounding-chart .surface{fill:#8f6d4d}#windy-plugin-sounding #fly-to{padding:0 15px 0 8px}#windy-plugin-sounding #fly-to .location{border:1px solid #bbb;border-radius:1em;line-height:1em;padding:.3em .6em;user-select:none;display:inline-block;margin-right:.3em;cursor:pointer}#windy-plugin-sounding #fly-to .selected{background-color:#d49500;border-color:#d49500;color:#fff}",(function(){const e=W.require("$"),t=W.require("picker"),n=W.require("store"),r=ke(),o=e("#bsounding-chart");at(Ue(Ar,{store:r},Ue(Zo,null)),o),this.onopen=e=>{let o,i;if(e)o=e.lat,i=e.lon;else{const e=Yo.getCenter();o=e.lat,i=e.lng}if(!r.getState().plugin.active){Yo.setZoom(10,{animate:!1}),n.set("overlay","clouds");const e=n.on("timestamp",(()=>{r.dispatch(x(n.get("timestamp")))}));r.dispatch(S((()=>n.off(e))));const o=n.on("product",(()=>{r.dispatch(w(n.get("product")))}));r.dispatch(S((()=>n.off(o))));const i=t.on("pickerOpened",(({lat:e,lon:t})=>{r.dispatch(b(e,t))}));r.dispatch(S((()=>t.off(i))));const a=t.on("pickerMoved",(({lat:e,lon:t})=>{r.dispatch(b(e,t))}));r.dispatch(S((()=>t.off(a)))),r.dispatch(k(!0))}Pe(),r.dispatch(b(o,i)),r.dispatch(w(n.get("product"))),r.dispatch(x(n.get("timestamp"))),$t(r.getState())(o,i),this.node.oncontextmenu=this.node.ondblclick=this.node.onclick=e=>e.stopPropagation()},this.onclose=()=>{r.dispatch(T()),r.dispatch({type:l}),r.dispatch(k(!1))}}))}();
